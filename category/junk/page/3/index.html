<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="/xmlrpc.php"> <noscript id="aonoscrcss"></noscript>
<title>Junk &#8211; ページ 3 &#8211; JunkHack</title>
<meta name="robots" content="max-image-preview:large">
<link rel="dns-prefetch" href="//www.google.com">
<link rel="dns-prefetch" href="//www.googletagmanager.com">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
<link rel="alternate" type="application/rss+xml" title="JunkHack &raquo; フィード" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="JunkHack &raquo; コメントフィード" href="/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="JunkHack &raquo; Junk カテゴリーのフィード" href="/category/junk/feed/">
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=5.8.3" type="text/css" media="all">
<link rel="stylesheet" id="contact-form-7-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_76e12144b6be9bc0a17dd880c5566156.css?ver=5.4.1" type="text/css" media="all">
<link rel="stylesheet" id="contact-form-7-confirm-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_c605b424176e2b3541570e9ebd66830b.css?ver=5.1" type="text/css" media="all">
<link rel="stylesheet" id="wpel-style-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_04d23f0dc44b526ca48d1d564eb7537c.css?ver=2.50" type="text/css" media="all">
<link rel="stylesheet" id="wpfront-scroll-top-css" href="/wp-content/plugins/wpfront-scroll-top/css/wpfront-scroll-top.min.css?ver=2.0.7.08086" type="text/css" media="all">
<link rel="stylesheet" id="related-frontend-css-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_ce8bbdb7cabcf5f0fa8d28d9868b7638.css?ver=0.1.0" type="text/css" media="all">
<link rel="stylesheet" id="hew-fonts-css" href="https://fonts.googleapis.com/css?family=Open+Sans%3A400%2C600%2C700%2C400italic%2C600italic%2C700italic%7CNoto+Serif%3A400%2C700%2C400italic%2C700italic&#038;subset=latin" type="text/css" media="all">
<link rel="stylesheet" id="genericons-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_c14dd6e84e694a66c7e27f11220ed49a.css?ver=3.4.1" type="text/css" media="all">
<link rel="stylesheet" id="hew-style-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_bd2482c37d2bc505ed15c848d16adf6d.css?ver=5.8.3" type="text/css" media="all"> <script type="text/javascript" src="/wp-content/plugins/jquery-manager/assets/js/jquery-3.5.1.min.js" id="jquery-core-js"></script> <script type="text/javascript" src="/wp-content/plugins/jquery-manager/assets/js/jquery-migrate-3.3.0.min.js" id="jquery-migrate-js"></script>  <script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-199105184-1" id="google_gtagjs-js" async></script> <script type="text/javascript" id="google_gtagjs-js-after">window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}
gtag('set', 'linker', {"domains":["hack.gpl.jp"]} );
gtag("js", new Date());
gtag("set", "developer_id.dZTNiMT", true);
gtag("config", "UA-199105184-1", {"anonymize_ip":true});</script> <link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/categories/45">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml">
<meta name="generator" content="WordPress 5.8.3">
<meta name="generator" content="Site Kit by Google 1.48.1">
<meta name="google-adsense-platform-account" content="ca-host-pub-2644536267352236">
<meta name="google-adsense-platform-domain" content="sitekit.withgoogle.com">  <script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2711753458083215" crossorigin="anonymous" type="text/javascript"></script> </head>  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-161935417-3"></script> <script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-161935417-3');</script> <body class="archive paged category category-junk category-45 paged-3 category-paged-3 has-sidebar has-header-image">
<div id="page" class="hfeed site">
<div id="widgets-wrapper" class="hide"><div id="secondary" class="wrap top-widget-area" role="complementary"><div id="sidebar-4" class="widget-area" role="complementary"><aside id="block-2" class="widget widget_block"><script async src="https://cse.google.com/cse.js?cx=df8210082ba786774"></script> <div class="gcse-search"></div></aside></div></div></div> <a class="skip-link screen-reader-text" href="#content">コンテンツへ移動</a><header id="masthead" class="site-header" role="banner"> <a class="site-logo" href="/" title="JunkHack" rel="home noopener noreferrer" data-wpel-link="internal"> <noscript><img src="https://secure.gravatar.com/avatar/997681319c3cbb0bdcca95770d5edaa6/?s=80&#038;d=mm" width="80" height="80" alt="" class="no-grav header-image"></noscript>
<img src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%2080%2080%22%3E%3C/svg%3E" data-src="https://secure.gravatar.com/avatar/997681319c3cbb0bdcca95770d5edaa6/?s=80&#038;d=mm" width="80" height="80" alt="" class="lazyload no-grav header-image"> </a><div class="site-branding">
<h1 class="site-title"><a href="/" rel="home noopener noreferrer" data-wpel-link="internal">JunkHack</a></h1>
<h2 class="site-description">アリエクでポチった JUNKHACK</h2>
</div>
<nav id="site-navigation" class="main-navigation" role="navigation"> <button class="menu-toggle toggle-button"><span class="screen-reader-text">メインメニュー</span></button><div class="menu-new-menu-container"><ul id="menu-new-menu" class="menu">
<li id="menu-item-10686" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10686"><a href="/list/" data-wpel-link="internal" rel="noopener noreferrer">List</a></li>
<li id="menu-item-11016" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11016"><a href="/mail/" data-wpel-link="internal" rel="noopener noreferrer">CONTACT</a></li>
<li id="menu-item-10671" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10671"><a href="https://jh.gpl.jp/" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">Mirror Netlify<span class="wpel-icon wpel-image wpel-icon-1"></span></a></li>
</ul></div></nav><div class="toggle-wrapper"> <a href="#" class="widgets-toggle toggle-button" title="ウィジェット"> <span class="screen-reader-text">ウィジェット</span> </a>
</div></header><div id="content" class="site-content"><section id="primary" class="content-area"><main id="main" class="site-main" role="main"><header class="page-header"><h1 class="page-title">カテゴリー: <span>Junk</span>
</h1></header><article id="post-1083" class="post-1083 post type-post status-publish format-standard hentry category-arduino category-junk category-parts category-pong"><div class="entry-wrapper">
<header class="entry-header"> <span class="entry-format theme-genericon"></span><div class="entry-meta"> <span class="posted-on">投稿日: <a href="/2015/08/27/pong-on-arduino/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2015-08-27T00:45:09+09:00">2015年8月27日</time></a> </span><span class="posted-on">更新日:2015年8月27日</span> <span class="categories"> <a href="/category/arduino/" rel="category tag noopener noreferrer" data-wpel-link="internal">arduino</a>, <a href="/category/junk/" rel="category tag noopener noreferrer" data-wpel-link="internal">Junk</a>, <a href="/category/parts/" rel="category tag noopener noreferrer" data-wpel-link="internal">Parts</a>, <a href="/category/pong/" rel="category tag noopener noreferrer" data-wpel-link="internal">PONG</a></span>
</div>
<h1 class="entry-title"><a href="/2015/08/27/pong-on-arduino/" rel="bookmark noopener noreferrer" data-wpel-link="internal">夏休み工作第二段 Arduino 単体でPong</a></h1></header><div class="entry-content">
<p>以前、テニスゲームがArduino 単体でVGA 出力して遊んでいるビデオをYouTubeで見ました。</p>
<blockquote><p><a href="/2015/08/04/なつかしのテニスゲーム" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">なつかしのテニスゲーム!</a></p></blockquote>
<p>8月23日には、二人用でコードを修正したビデオがアップされているようです。Roberto Melzi さんがブログに遊びに来てくれて、新しいコードとビデオをアップしたよって教えてくれました。<a href="http://forum.arduino.cc/index.php?topic=328631.msg2368311#msg2368311" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">arduino フォーラムはこちら<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p>&#160;</p>
<p>ありがとう、Roberto さん</p>
<p>&#160; [youtube https://www.youtube.com/watch?v=hVzA3x4EiT4]</p>
<p>これは、もう作らずにはいられませんよね。早速、コントローラー作りの材料を物色している最中です。</p>
<p>&#160;</p>
<p>作者の作り方を真似てみることに。ビデオのスクリーンショットからどんな材料が必要か検討します。</p>
<p></p>
<noscript><img title="VGA_Pong_on_Arduino_Uno_-_YouTube" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube" src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube.png" width="635" height="356"></noscript>
<img class="lazyload" title="VGA_Pong_on_Arduino_Uno_-_YouTube" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20635%20356%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube.png" width="635" height="356"><p>木箱を利用しているようです。</p>
<p></p>
<noscript><img title="VGA_Pong_on_Arduino_Uno_-_YouTube 8" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube 8" src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube8.png" width="640" height="355"></noscript>
<img class="lazyload" title="VGA_Pong_on_Arduino_Uno_-_YouTube 8" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube 8" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20355%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube8.png" width="640" height="355"><p>全体の配線はこのようになっているそうです。</p>
<p></p>
<noscript><img title="VGA_Pong_on_Arduino_Uno_-_YouTube 2" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube 2" src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube2.png" width="633" height="391"></noscript>
<img class="lazyload" title="VGA_Pong_on_Arduino_Uno_-_YouTube 2" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube 2" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20633%20391%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube2.png" width="633" height="391"><p>コントローラー同士は、USB ケーブルを利用しているようです。</p>
<p></p>
<noscript><img title="VGA_Pong_on_Arduino_Uno_-_YouTube 3" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube 3" src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube3.png" width="631" height="390"></noscript>
<img class="lazyload" title="VGA_Pong_on_Arduino_Uno_-_YouTube 3" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube 3" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20631%20390%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube3.png" width="631" height="390"><p>コントローラーAには、Arduino Uno 本体が収められています。</p>
<p></p>
<noscript><img title="VGA_Pong_on_Arduino_Uno_-_YouTube 4" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube 4" src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube4.png" width="632" height="393"></noscript>
<img class="lazyload" title="VGA_Pong_on_Arduino_Uno_-_YouTube 4" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube 4" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20632%20393%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube4.png" width="632" height="393"><p>ロータリー式の抵抗とボタンがあればできそうです。</p>
<p></p>
<noscript><img title="VGA_Pong_on_Arduino_Uno_-_YouTube 5" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube 5" src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube5.png" width="634" height="432"></noscript>
<img class="lazyload" title="VGA_Pong_on_Arduino_Uno_-_YouTube 5" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube 5" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20634%20432%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube5.png" width="634" height="432"><p>スピーカはコントローラーAの親機側についているようです。</p>
<p></p>
<noscript><img title="VGA_Pong_on_Arduino_Uno_-_YouTube 6" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube 6" src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube6.png" width="634" height="433"></noscript>
<img class="lazyload" title="VGA_Pong_on_Arduino_Uno_-_YouTube 6" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube 6" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20634%20433%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube6.png" width="634" height="433"><p>コントローラBとの結線は４線です。</p>
<p></p>
<noscript><img title="VGA_Pong_on_Arduino_Uno_-_YouTube 7" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube 7" src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube7.png" width="634" height="431"></noscript>
<img class="lazyload" title="VGA_Pong_on_Arduino_Uno_-_YouTube 7" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="VGA_Pong_on_Arduino_Uno_-_YouTube 7" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20634%20431%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/vga_pong_on_arduino_uno__youtube7.png" width="634" height="431"><p>なるほど、参考になりました。</p>
<p>&#160;</p>
<blockquote>
<p>必要なパーツ</p>
<p>1) ロータリー式のポテンションメータ とつまみ ・・・・ x 2個 <br>2) ボタン ・・・・・・・・・・・・・・・・ x 2個 <br>3) コントローラ A と B を結線する 4芯ケーブル＆ソケット ・・・1 ～ 2 M 程度 <br>4) 抵抗 1.8K 程度 ・・・・・・・・・・・・ x 2個 <br>5) 収める箱 ・・・・・・・・・・・・・・・ x 2個 <br>6) スピーカ ・・・・・・・・・・・・・・&#160;&#160; x 1個</p>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; <br>7) VGA メスコネクター ・・・・・・・・・&#160;&#160; x 1個 <br>8) 抵抗 68オーム ・・・・・・・・・・・・・ x 2個 <br>9) 抵抗 470オーム ・・・・・・・・・・・・&#160; x 2個 <br>10) Arduino 本体 ・・・・・・・・・・・・&#160;&#160; x 1個</p>
</blockquote>
<p>とりあえず、１～6あたりの材料を物色。最近は、ロータリー式の抵抗は使わないのであるかどうか？</p>
<p>7～10は、前回のを流用、本体は、Arduino Nano 互換機を使い小型化してみます。5V 電源も内蔵させて、親機とコントローラA ＋ B に分離したほうが遊ぶ時、ポジションの自由度があがりそうです。</p>
<p>&#160;</p>
<p align="center">・</p>
<p align="center">・</p>
<p align="center">・</p>
<p align="center">・</p>
<p align="center">・</p>
<p align="center">材料物色中</p>
<p align="center">・</p>
<p align="center">・</p>
<p align="center">・</p>
<p align="center">・</p>
<p align="center">・</p>
<p>ジャンク箱から、素材を取り出しました。</p>
<p>ピンク矢印のパーツを使う予定。目玉おやじは頭を押すとスイッチになっていてしゃべります。マクドナルドのおまけのやつです。その横の丸い蓋があるのは携帯灰皿で蓋を開くとLED が点灯していたのでスイッチになるかと。</p>
<p>ラケットは本体ケースにしてpong っぽい雰囲気を出そうかという狙い。電源ユニットは、リチウム＋充電ユニットに100円ショップの５V昇圧ユニットを利用。これをラケット形の本体に入れようかという狙い。本体（ラケット）＋コントローラA（目玉おやじ） ＋ B（携帯灰皿） という構成になります。</p>
<p>&#160;</p>
<noscript><img title="写真_1" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="写真_1" src="/wp-content/uploads/2015/08/17.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="写真_1" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="写真_1" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/17.jpg" width="640" height="480"><p>&#160;</p>
<p>可変抵抗のジャンクがありませんでした。見つかったのは、半固定抵抗の以下。かなりレア品な昔のレコードプレーヤーの基盤です。1980年代くらいじゃないかと。20年から30年前の基盤のパーツはまだ大きくて使いやすいです。</p>
<p>&#160;</p>
<noscript><img title="写真 4" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="写真 4" src="/wp-content/uploads/2015/08/41.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="写真 4" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="写真 4" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/41.jpg" width="640" height="480"><p>この半固定抵抗にグルースティックをつけて、以下のつまみを付ければホイールコントローラになりそう。このつまみは何のか忘れましたが、２つ転がっていたのでちょうどいいやと思いまして。</p>
<p></p>
<noscript><img title="写真 2" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="写真 2" src="/wp-content/uploads/2015/08/26.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="写真 2" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="写真 2" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/26.jpg" width="640" height="480"><p>USB のメスジャックはiMac のジャンクマザーボードから引っこ抜きます。</p>
<p></p>
<noscript><img title="写真 3" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="写真 3" src="/wp-content/uploads/2015/08/33.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="写真 3" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="写真 3" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/33.jpg" width="640" height="480"><p>&#160;</p>
<p>ケースとコントローラのにするものを迷っていたのですが、しっくり来そうなものが見つかったので工作に入ろうかと。ああでもないこうでもないと、考えながら素材集めに半日かかりました。こういうところがジャンク工作の楽しさです。</p>
<p>&#160;</p>
<p>まずパーツを取り外しにかかります。長くなったので、次回工程にて紹介します。</p>
</div>
<footer class="entry-footer"></footer>
</div></article><article id="post-1057" class="post-1057 post type-post status-publish format-standard hentry category-100yen category-aliexpress category-esp8266 category-junk category-parts"><div class="entry-wrapper">
<header class="entry-header"> <span class="entry-format theme-genericon"></span><div class="entry-meta"> <span class="posted-on">投稿日: <a href="/2015/08/25/the-first-self-made-iot-device/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2015-08-25T23:24:45+09:00">2015年8月25日</time></a> </span><span class="posted-on">更新日:2015年8月25日</span> <span class="categories"> <a href="/category/100yen/" rel="category tag noopener noreferrer" data-wpel-link="internal">100Yen</a>, <a href="/category/aliexpress/" rel="category tag noopener noreferrer" data-wpel-link="internal">Aliexpress</a>, <a href="/category/esp8266/" rel="category tag noopener noreferrer" data-wpel-link="internal">ESP8266</a>, <a href="/category/junk/" rel="category tag noopener noreferrer" data-wpel-link="internal">Junk</a>, <a href="/category/parts/" rel="category tag noopener noreferrer" data-wpel-link="internal">Parts</a></span>
</div>
<h1 class="entry-title"><a href="/2015/08/25/the-first-self-made-iot-device/" rel="bookmark noopener noreferrer" data-wpel-link="internal">初めてのIoTデバイス完成</a></h1></header><div class="entry-content">
<p>ESP8266 をはじめて見たとき、IoT デバイスを作りたくてゲットしたのでやっと念願かなって出来ました。</p>
<p>ブログは目次がないので見にくいので、道のりをリンクしておきました。こうして改めて道のりを見てみると、最初にデバイスを見たときから4ヶ月経ったんですね。速いものです。あのころは、FDD でプロッター作っていまして素材を物色中に面白そうなデバイスだなと試しに買ったわけでして。こんなに面白いデバイスだったとは露知らず。</p>
<blockquote>
<p>目次</p>
<p><a href="/2015/04/18/%E7%B6%9A%E3%80%85%E3%81%A8%E7%B4%A0%E6%9D%90%E3%82%92%E3%82%B2%E3%83%83%E3%83%88/" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">続々と素材をゲット</a> 2015/04/18</p>
<p><a href="/2015/05/08/esp8266-esp-12-doubleblink/" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">ESP8266 ESP-12 DoubleBlink</a> 2015/05/08</p>
<p><a href="/2015/05/09/esp12%E5%8D%98%E4%BD%93%E3%81%A7wifi-connection/" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">ESP12単体でwifi connection</a> 2015/05/09</p>
<p><a href="/2015/05/09/esp12%E5%8D%98%E4%BD%93%E3%81%A7%E5%85%89%E3%82%BB%E3%83%B3%E3%82%B5%E3%83%BC%E3%82%A2%E3%83%8A%E3%83%AD%E3%82%B0%E8%AA%AD%E3%81%BF/" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">ESP12単体で光センサーアナログ読み</a> 2015/05/09</p>
<p><a href="/2015/05/10/5v-18650%E3%80%80%E3%83%AA%E3%83%81%E3%82%A6%E3%83%A0%E3%83%90%E3%83%83%E3%83%86%E3%83%AA%E3%83%BC%E5%85%85%E9%9B%BB%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB/" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">5V 18650 リチウムバッテリー充電モジュール</a> 2015/05/10</p>
<p><a href="/2015/05/11/esp8266-esp-12-spec/" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">ESP8266 ESP-12 spec</a> 2015/05/11</p>
<p><a href="/2015/06/14/am2302%E6%B8%A9%E5%BA%A6%E6%B9%BF%E5%BA%A6%E3%82%BB%E3%83%B3%E3%82%B5%E3%83%BC%E3%82%92arduino-nano%E3%81%A7%E3%83%86%E3%82%B9%E3%83%88/" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">AM2302温度湿度センサーをArduino Nanoでテスト</a> 2015/06/14</p>
<p><a href="/2015/06/15/esp12%E5%8D%98%E4%BD%93%E3%81%A7%E6%B9%BF%E5%BA%A6%E6%B8%A9%E5%BA%A6%E7%85%A7%E5%BA%A6%E3%81%AEiot%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9/" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">ESP12単体で湿度温度照度のIoTデバイス</a> 2015/06/15</p>
<p><a href="/2015/08/19/esp12%E3%81%AE%E9%85%8D%E7%B7%9A%E3%81%84%E3%82%8D%E3%81%84%E3%82%8D/" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">ESP12の配線いろいろ</a> 2015/08/19</p>
<p><a href="/2015/08/21/pin%E5%8D%8A%E7%94%B0%E4%BB%98%E3%81%91/" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">Pin半田付け</a> 2015/08/21</p>
<p><a href="/2015/08/23/%E3%83%AA%E3%83%81%E3%82%A6%E3%83%A0%E3%83%90%E3%83%83%E3%83%86%E3%83%AA%E3%83%BC%E9%A7%86%E5%8B%95%E3%81%A7esp-12/" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">リチウムバッテリー駆動でESP-12</a> 2015/08/23</p>
<p><a href="/2015/08/23/3-3v-%E5%9B%BA%E5%AE%9A-dc-dc%E3%82%B3%E3%83%B3%E3%83%90%E3%83%BC%E3%82%BF%E3%82%92%E8%AA%BF%E6%9F%BB/" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">3.3V 固定 DC-DCコンバータを調査</a> 2015/08/23</p>
<p><a href="/2015/08/24/100%E5%86%86%E5%9D%87%E4%B8%80%E3%81%AE%E6%98%87%E5%9C%A7%E3%82%92%E4%BD%BF%E3%81%84%E3%81%BE%E3%82%8F%E3%81%97%E5%AE%9F%E8%A3%85/" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">100円均一の昇圧を使いまわし実装</a> 2015/08/24</p>
</blockquote>
<p>&#160;</p>
<p>とにかく、現場合わせで成り行きで作っていったので温度湿度センサーを乗せる場所がありません。うーむ、どうしようかと思案したあげく、ESP12 の上に乗せることにしました。足を延長してPin ジャックに指すように実装。これでI2C デバイスを交換するときも可能ですしね。</p>
<p></p>
<noscript><img title="b" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="b" src="/wp-content/uploads/2015/08/b.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="b" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="b" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/b.jpg" width="640" height="480"><p>とりあえず、部品が全部のるかどうか仮置き状態。なんとか載りそうです。</p>
<p></p>
<noscript><img title="a" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="a" src="/wp-content/uploads/2015/08/a1.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="a" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="a" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/a1.jpg" width="640" height="480"><p>ESP12 の下は床下配線。裏面でもよかったのですがどうせ隙間があるのだから有効活用と。プログラムコードも書きかえれるよう、UART の差込口も隙間に納めました。</p>
<p>&#160;</p>
<p>で、全部組み終えて稼動した全体図がこちら。データをアクセスしているときに点灯するLED はフロッピーディスクのアクセスランプでちょっと小ぶりのやつです。下点灯していないのは赤いLEDで、100円均一の車載用12V ステップダウンDC/DC コンバータのジャンクからゲット。こちらも少し小ぶりでちょうど良かったです。</p>
<p></p>
<noscript><img title="1" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="1" src="/wp-content/uploads/2015/08/16.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="1" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="1" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/16.jpg" width="640" height="480"><p>リチウム電池を充電しながら稼動も可能です。これがしたかったがために、100円均一のDCDC で5V にしてその後3.3V にするロスが出ています。将来は、これをバックブーストタイプの1セル用に作られたIC を使い3.3V を作りたいです。</p>
<p></p>
<noscript><img title="2" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="2" src="/wp-content/uploads/2015/08/25.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="2" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="2" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/25.jpg" width="640" height="480"><p>UART のジャックがあるといいなと思っていたので、そういうのを隙間に作りました。これでコードのデバックや新しいプログラムも利用可能です。</p>
<p></p>
<noscript><img title="3" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="3" src="/wp-content/uploads/2015/08/32.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="3" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="3" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/32.jpg" width="640" height="480"><p>苦肉の策で、温度湿度センサーはこのような配置となりました。</p>
<p></p>
<noscript><img title="4" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="4" src="/wp-content/uploads/2015/08/4.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="4" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="4" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/4.jpg" width="640" height="480"><p>5V に昇圧した配線がちょっと難ありですが、まぁとりあえずです。</p>
<p></p>
<noscript><img title="5" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="5" src="/wp-content/uploads/2015/08/5.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="5" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="5" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/5.jpg" width="640" height="480"><p>&#160;</p>
<p>今回勉強になったこと</p>
<p>・リチウム電池の変動は4.2V から 2.4V まであり、3.3V 出力する場合はバック・ブーストという方式DC-DC コンバートが有利</p>
<p>・バック・ブースト方式は、英名buck–boost converterで日本語では昇降圧コンバータ</p>
<p>・バック・ブーストは、入力が低い場合は昇圧動作、入力が高い場合は降圧動作をする</p>
<p>・専用IC は各社あり最も有名なのは、LinearTechnology 社のTPS63000シリーズか、LTC3xxxシリーズ</p>
<p>・LT社のバックブースト用ICの検索は<a href="http://www.linear.com/parametric/html/Internal_Power_Switch_Buck-Boost" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">ここが便利<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p>・1セル用の汎用モジュールは、あまりない。見つかったのはストロベリーリナックスさんが作っているもの</p>
<p>・太陽電池からの充電ユニットもこのバックブースト方式を使っているが、そのモジュール化されたものはVinの最小最大が大きいので、1セル用としては向かない</p>
<p>・電源ソースに、18650のリン酸鉄リチウムイオンバッテリー（Lifepo4）を使いたいところだが、電源管理モジュールが3.8V カットするものがない。あるはずだがまだ見つかっていない</p>
<p>・おそらく、リチウム1セルを使った製品にはこれがあるはず。携帯とかスマホとか。今度ばらしてみたい。</p>
<p>&#160;</p>
<p>今回の工作でわかったこと</p>
<p>・ユニバーサル基盤でも頑張れば、このくらいまでは密度が上がる</p>
<p>・IoT デバイスというものがどういうものか体感できた（が、ロガーとの差がピンとこない）</p>
<p>・開発ボードを使って作ったほうが多少大きくなるが、速い（テストなら十分、小型）</p>
<p>・充電式にしてみたが、DeepSleep を活用し単3電池とかでもいいんじゃないの？</p>
<p>・そもそもWifi があるところって電源もあるから5V のUSB に挿せるタイプでいいんじゃないの？</p>
<p>&#160;</p>
<p>今後の課題</p>
<p>・3.3V 生成にバックブースト方式の回路を採用したい</p>
<p>・Deep Sleep の検証</p>
<p>・WiFi がない環境でも採取できるようフラッシュメモリ領域に保存、後にアップロードしたい</p>
</div>
<footer class="entry-footer"></footer>
</div></article><article id="post-1041" class="post-1041 post type-post status-publish format-standard hentry category-100yen category-esp8266 category-junk"><div class="entry-wrapper">
<header class="entry-header"> <span class="entry-format theme-genericon"></span><div class="entry-meta"> <span class="posted-on">投稿日: <a href="/2015/08/24/100-yen-uniform-boost/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2015-08-24T21:58:04+09:00">2015年8月24日</time></a> </span><span class="posted-on">更新日:2015年8月24日</span> <span class="categories"> <a href="/category/100yen/" rel="category tag noopener noreferrer" data-wpel-link="internal">100Yen</a>, <a href="/category/esp8266/" rel="category tag noopener noreferrer" data-wpel-link="internal">ESP8266</a>, <a href="/category/junk/" rel="category tag noopener noreferrer" data-wpel-link="internal">Junk</a></span>
</div>
<h1 class="entry-title"><a href="/2015/08/24/100-yen-uniform-boost/" rel="bookmark noopener noreferrer" data-wpel-link="internal">100円均一の昇圧を使いまわし実装</a></h1></header><div class="entry-content">
<p>バックブースト回路を作るか、買うかは課題としてとりあえず今の手持ちの部品でリチウム電池の変動をカバーして3.3V を作り出すのは以下のようにすることにしました。</p>
<p>&#160;</p>
<blockquote><p>リチウム電池 &gt; 充電ユニット &gt; ５Vスイッチング昇圧 &gt; 3.3Vレギュレーター</p></blockquote>
<p>ロスが2重に発生するので効率が悪いですが、とりあえず実験。</p>
<p>5Vの昇圧スイッチング回路は100円均一のがあるのでこれを流用。4.2V ～2.4V まで安定化電流を変動させて5V は無負荷で出るようです。この５V出力を3.3V レギュレーターに通しESP12 へ給電します。</p>
<p>テストでは、2.7V 付近になるとアクセスポイントへの接続が不安定になりました。3.0V くらいでは安定しているのでとりあえずいけるんじゃないかと見切り発車。</p>
<p>とりあえず、これで組み込んでみることにします。</p>
<p></p>
<noscript><img title="写真 1" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="写真 1" src="/wp-content/uploads/2015/08/14.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="写真 1" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="写真 1" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/14.jpg" width="640" height="480"><p>仮配線</p>
<p></p>
<noscript><img title="写真 2" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="写真 2" src="/wp-content/uploads/2015/08/23.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="写真 2" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="写真 2" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/23.jpg" width="640" height="480"><p>100円均一のばらした5V昇圧ユニット</p>
<p></p>
<noscript><img title="写真 3" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="写真 3" src="/wp-content/uploads/2015/08/31.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="写真 3" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="写真 3" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/31.jpg" width="640" height="480"><p>どうやら、うまく動作しているようです。これで充電しながらでもできる状態が作り出せました。おまけ機能で5V のi-Phone充電機能もついてきます。</p>
<p>メインスイッチが欲しいんですが、手元にないんですよね。まぁ、いいか。組み込みます。</p>
<p>・</p>
<p>・</p>
<p>・</p>
<p>・</p>
<p>・</p>
<p>・</p>
<p>とりあえず、電源部が出来ました。Junkな部品が約に立ちました。2階建て、両面テープ、空中配線。落としたら壊れますが。</p>
<p></p>
<noscript><img title="写真 1" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="写真 1" src="/wp-content/uploads/2015/08/15.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="写真 1" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="写真 1" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/15.jpg" width="640" height="480"><p>これでリチウム電池を充電しながらでも、動かせます。</p>
<p></p>
<noscript><img title="写真 2" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="写真 2" src="/wp-content/uploads/2015/08/24.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="写真 2" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="写真 2" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/08/24.jpg" width="640" height="480">&#160;<p>あとは、ESP12 本体、センサー、リセットスイッチとメインスイッチをなんとか乗せればOK.</p>
</div>
<footer class="entry-footer"></footer>
</div></article><article id="post-663" class="post-663 post type-post status-publish format-standard hentry category-arduino category-junk"><div class="entry-wrapper">
<header class="entry-header"> <span class="entry-format theme-genericon"></span><div class="entry-meta"> <span class="posted-on">投稿日: <a href="/2015/05/06/fdd8/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2015-05-06T17:23:17+09:00">2015年5月6日</time></a> </span><span class="posted-on">更新日:2015年5月6日</span> <span class="categories"> <a href="/category/arduino/" rel="category tag noopener noreferrer" data-wpel-link="internal">arduino</a>, <a href="/category/junk/" rel="category tag noopener noreferrer" data-wpel-link="internal">Junk</a></span>
</div>
<h1 class="entry-title"><a href="/2015/05/06/fdd8/" rel="bookmark noopener noreferrer" data-wpel-link="internal">FDD8</a></h1></header><div class="entry-content">
<p align="left">いやぁ、ゴールデンウィークも最終日ですね。自分は、明日もあさっても休みなのでまだお休みなんですが、ついにプロッターができました。</p>
<p> [youtube https://www.youtube.com/watch?v=q00rKc7ZEUU]</p>
<p align="left">詳細は後ほどとして、まずは感じを出力させましたのでスクリーンショットなど載せておきます。</p>
<p align="center"></p>
<noscript><img title="Grbl_Controller_3_6_1_と_Windows7__Running_" style="display:inline;border-width:0;" border="0" alt="Grbl_Controller_3_6_1_と_Windows7__Running_" src="/wp-content/uploads/2015/05/grbl_controller_3_6_1__windows7__running_.png" width="640" height="463"></noscript>
<img class="lazyload" title="Grbl_Controller_3_6_1_と_Windows7__Running_" style="display:inline;border-width:0;" border="0" alt="Grbl_Controller_3_6_1_と_Windows7__Running_" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20463%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/grbl_controller_3_6_1__windows7__running_.png" width="640" height="463"><p align="left">WEBサービスのEasel で作成中の漢字「美」。SVG ファイルをインポートしたものです。大きさは25mm x 25mmの中にちょっと小さめで割付。</p>
<p align="center"></p>
<noscript><img title="Easel_-_kanji-bi 2" style="display:inline;border-width:0;" border="0" alt="Easel_-_kanji-bi 2" src="/wp-content/uploads/2015/05/easel__kanjibi2.png" width="549" height="480"></noscript>
<img class="lazyload" title="Easel_-_kanji-bi 2" style="display:inline;border-width:0;" border="0" alt="Easel_-_kanji-bi 2" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20549%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/easel__kanjibi2.png" width="549" height="480"><p align="center"></p>
<p align="left">Machine からG-Code を出力すると右側に3D プレビューが出ます。ペン上げ幅は、3mm</p>
<p align="center"></p>
<noscript><img title="Easel_-_kanji-bi" style="display:inline;border-width:0;" border="0" alt="Easel_-_kanji-bi" src="/wp-content/uploads/2015/05/easel__kanjibi.png" width="490" height="453"></noscript>
<img class="lazyload" title="Easel_-_kanji-bi" style="display:inline;border-width:0;" border="0" alt="Easel_-_kanji-bi" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20490%20453%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/easel__kanjibi.png" width="490" height="453"><p align="left">全体の編集画面は、こんな感じです。</p>
<p align="center"></p>
<noscript><img title="Easel_-_kanji-bi 3" style="display:inline;border-width:0;" border="0" alt="Easel_-_kanji-bi 3" src="/wp-content/uploads/2015/05/easel__kanjibi3.png" width="640" height="329"></noscript>
<img class="lazyload" title="Easel_-_kanji-bi 3" style="display:inline;border-width:0;" border="0" alt="Easel_-_kanji-bi 3" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20329%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/easel__kanjibi3.png" width="640" height="329"><p align="left">ポストイットに、プロットした直後。</p>
<p align="center"></p>
<noscript><img title="IMG_0253" style="display:inline;border-width:0;" border="0" alt="IMG_0253" src="/wp-content/uploads/2015/05/img_0253.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="IMG_0253" style="display:inline;border-width:0;" border="0" alt="IMG_0253" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/img_0253.jpg" width="640" height="480"><p align="left">なかなか、いいんでないでしょうか？</p>
<p align="center"></p>
<p align="center"></p>
<p align="center"></p>
<p align="center"></p>
<noscript><img title="IMG_0256" style="display:inline;border-width:0;" border="0" alt="IMG_0256" src="/wp-content/uploads/2015/05/img_0256.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="IMG_0256" style="display:inline;border-width:0;" border="0" alt="IMG_0256" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/img_0256.jpg" width="640" height="480"><p align="left">消せる水生ボールペンの赤です。</p>
<p align="center"></p>
<noscript><img title="IMG_0258" style="display:inline;border-width:0;" border="0" alt="IMG_0258" src="/wp-content/uploads/2015/05/img_0258.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="IMG_0258" style="display:inline;border-width:0;" border="0" alt="IMG_0258" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/img_0258.jpg" width="640" height="480"><p align="left">当初、画像が鏡面状態になって修正方法がわからずかなりハマリマシタ。下のABC は米粒大。ちょっと潰れますね。軸の精度とペンの滲みがあるのでまぁ、しかたないですが。</p>
<p align="center"></p>
<noscript><img title="IMG_0257" style="display:inline;border-width:0;" border="0" alt="IMG_0257" src="/wp-content/uploads/2015/05/img_0257.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="IMG_0257" style="display:inline;border-width:0;" border="0" alt="IMG_0257" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/img_0257.jpg" width="640" height="480"><p align="left">精度はまぁ、こんなものです。</p>
<p align="center"></p>
<noscript><img title="IMG_0247" style="display:inline;border-width:0;" border="0" alt="IMG_0247" src="/wp-content/uploads/2015/05/img_0247.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="IMG_0247" style="display:inline;border-width:0;" border="0" alt="IMG_0247" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/img_0247.jpg" width="640" height="480"><p align="left">とりあえず、できました！。</p>
<p align="left">後ほど、映像でも<strike>載せます</strike>。冒頭に載せました。さぁ、気分転換に外出してきまーす！</p>
</div>
<footer class="entry-footer"></footer>
</div></article><article id="post-628" class="post-628 post type-post status-publish format-standard hentry category-arduino category-junk"><div class="entry-wrapper">
<header class="entry-header"> <span class="entry-format theme-genericon"></span><div class="entry-meta"> <span class="posted-on">投稿日: <a href="/2015/05/05/fdd7/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2015-05-05T05:17:16+09:00">2015年5月5日</time></a> </span><span class="posted-on">更新日:2015年5月5日</span> <span class="categories"> <a href="/category/arduino/" rel="category tag noopener noreferrer" data-wpel-link="internal">arduino</a>, <a href="/category/junk/" rel="category tag noopener noreferrer" data-wpel-link="internal">Junk</a></span>
</div>
<h1 class="entry-title"><a href="/2015/05/05/fdd7/" rel="bookmark noopener noreferrer" data-wpel-link="internal">FDD7</a></h1></header><div class="entry-content">
<p>さて、前回まででプロッターとしての機械的な部分は完成したのであとは、それを送り込むソフトウェア側の問題です。</p>
<p>試してみて、堂々巡りになってきているのでとりあえず情報を整理してみます。簡単に言えば、はまってます。</p>
<p>&#160;</p>
<p>全体の仕組みとしては、以下のようです。</p>
<p>・Arduino 側でG-CODE を受けて解釈し、モータードライバーへ信号を出す仕組み。</p>
<blockquote>
<p>GRBL <br><a title="https://github.com/grbl/grbl/wiki/Compiling-Grbl" href="https://github.com/grbl/grbl/wiki/Compiling-Grbl" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">https://github.com/grbl/grbl/wiki/Compiling-Grbl<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p>HexUploader</p>
<p><a title="https://github.com/paulkaplan/HexUploader/wiki/Using-HexUploader" href="https://github.com/paulkaplan/HexUploader/wiki/Using-HexUploader" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">https://github.com/paulkaplan/HexUploader/wiki/Using-HexUploader<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p><a title="http://paulkaplan.me/HexUploader/" href="http://paulkaplan.me/HexUploader/" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">http://paulkaplan.me/HexUploader/<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
</blockquote>
<p>・PCからG-Code をUSB シリアル経由で流し込む仕組み</p>
<p>いろいろあります。osx で対象となるものは、以下の２つが見つかりました。</p>
<blockquote>
<p>Universal-G-Code-Sender <br><a title="https://github.com/winder/Universal-G-Code-Sender/downloads" href="https://github.com/winder/Universal-G-Code-Sender/downloads" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">https://github.com/winder/Universal-G-Code-Sender/downloads<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p><a title="https://github.com/winder/Universal-G-Code-Sender" href="https://github.com/winder/Universal-G-Code-Sender" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">https://github.com/winder/Universal-G-Code-Sender<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p>Grbl Controller <br><a title="http://zapmaker.grblcontroller.s3-website-us-west-2.amazonaws.com/" href="http://zapmaker.grblcontroller.s3-website-us-west-2.amazonaws.com/" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">http://zapmaker.grblcontroller.s3-website-us-west-2.amazonaws.com/<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
</blockquote>
<p>・G-CODE を作成</p>
<p>こちらも、いろいろとあるようです。３次元加工ができるものから、プロッター用途までさまざま。フリーで使えるものを対象に選んでみました。</p>
<blockquote>
<p>InkScape + Inkscape Gcodetools plug-in</p>
<p><a title="https://inkscape.org/en/download/" href="https://inkscape.org/en/download/" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">https://inkscape.org/en/download/<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p><a title="http://www.cnc-club.ru/forum/viewtopic.php?t=35" href="http://www.cnc-club.ru/forum/viewtopic.php?t=35" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">http://www.cnc-club.ru/forum/viewtopic.php?t=35<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p>or</p>
<p>InkScape + Big Blue Saw DXF Output</p>
<p>PyCAMでG-Code を生成 （以下に、Homebrew での手順）</p>
<p><a title="http://www.shapeoko.com/wiki/index.php/PyCAM-MacOS" href="http://www.shapeoko.com/wiki/index.php/PyCAM-MacOS" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">http://www.shapeoko.com/wiki/index.php/PyCAM-MacOS<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p>or</p>
<p>WEB Services の Easel</p>
<p><a title="http://app.easel.com/" href="http://app.easel.com/" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">http://app.easel.com/<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
</blockquote>
<p>&#160;</p>
<p>とりあえず、Arduino 側へgrblのバイナリを転送します。</p>
<p>以下からダウンロード。<strike>HexUploader を使いアップロードします。</strike></p>
<p><a title="https://github.com/grbl/grbl" href="https://github.com/grbl/grbl" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">https://github.com/grbl/grbl<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p>osx だと、HexUploader が使えるらしいんですがアップロード方法がよくわからず、結局VirtualBox のWIN7で Xloader を使いアップロードしました。</p>
<blockquote>
<p></p>
<noscript><img title="screen1" style="border-top:0;border-right:0;border-bottom:0;border-left:0;display:inline;" border="0" alt="screen1" src="/wp-content/uploads/2015/05/screen1.jpg" width="221" height="222"></noscript>
<img class="lazyload" title="screen1" style="border-top:0;border-right:0;border-bottom:0;border-left:0;display:inline;" border="0" alt="screen1" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20221%20222%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/screen1.jpg" width="221" height="222"><p><a title="http://xloader.russemotto.com/" href="http://xloader.russemotto.com/" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">http://xloader.russemotto.com/<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
</blockquote>
<p>&#160;</p>
<p>VirtualBoxだと、一回USBをはずしてつければ認識するはず。ドライバーは以下を入れました。</p>
<blockquote>
<p></p>
<noscript><img title="image" style="border-top:0;border-right:0;border-bottom:0;border-left:0;display:inline;" border="0" alt="image" src="/wp-content/uploads/2015/05/image.png" width="640" height="345"></noscript>
<img class="lazyload" title="image" style="border-top:0;border-right:0;border-bottom:0;border-left:0;display:inline;" border="0" alt="image" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20345%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/image.png" width="640" height="345"><p><a title="http://wch.cn/download/CH341SER_ZIP.html" href="http://wch.cn/download/CH341SER_ZIP.html" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">http://wch.cn/download/CH341SER_ZIP.html<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
</blockquote>
<p>&#160;</p>
<p>以下のように、COM4 で認識したのでXloader のポートを合わせて、Device にはNano を選択。</p>
<p></p>
<noscript><img title="image" style="border-top:0;border-right:0;border-bottom:0;border-left:0;display:inline;" border="0" alt="image" src="/wp-content/uploads/2015/05/image1.png" width="599" height="400"></noscript>
<img class="lazyload" title="image" style="border-top:0;border-right:0;border-bottom:0;border-left:0;display:inline;" border="0" alt="image" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20599%20400%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/image1.png" width="599" height="400"><p>&#160;</p>
<p>&#160;</p>
<p>&#160;</p>
<p>ちょっと、ここらで言葉の整理を。調べ物をしていると、CAD と CAM という言葉が出てきます。</p>
<p>CAD はデザインする computer aided design でなじみがありますが、CAM とはCNC マシンに渡すデータを作成する処理とのこと。つまり、CAM とはG-Code を作成する処理のことと理解しました。</p>
<p>&#160;</p>
<p></p>
<noscript><img title="1" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="1" src="/wp-content/uploads/2015/05/1.png" width="640" height="352"></noscript>
<img class="lazyload" title="1" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="1" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20352%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/1.png" width="640" height="352"><p>これがスタンダードなワークフロー。そして、これをすっ飛ばすWEBサービスがEaselというのがあるようです。</p>
<p>&#160;</p>
<p></p>
<noscript><img title="2" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="2" src="/wp-content/uploads/2015/05/2.png" width="640" height="318"></noscript>
<img class="lazyload" title="2" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="2" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20318%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/2.png" width="640" height="318"><p>&#160;</p>
<p>Inventables 社のアカウントを作ります。</p>
<p align="center"><a title="https://www.inventables.com/sessions/new" href="https://www.inventables.com/sessions/new" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">https://www.inventables.com/sessions/new<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p></p>
<noscript><img title="Inventables__The_Hardware_Store_for_Designers" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="Inventables__The_Hardware_Store_for_Designers" src="/wp-content/uploads/2015/05/inventables__the_hardware_store_for_designers.png" width="596" height="465"></noscript>
<img class="lazyload" title="Inventables__The_Hardware_Store_for_Designers" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="Inventables__The_Hardware_Store_for_Designers" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20596%20465%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/inventables__the_hardware_store_for_designers.png" width="596" height="465"><p>ログインして、図を書きMachine から各種設定をしてAdvanced からG-Code が出るようです。</p>
<p></p>
<noscript><img title="Easel_-_star" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="Easel_-_star" src="/wp-content/uploads/2015/05/easel__star.png" width="640" height="469"></noscript>
<img class="lazyload" title="Easel_-_star" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="Easel_-_star" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20469%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/easel__star.png" width="640" height="469"><p>ちょっとよくわかりませんが、とりあえずG-Code を作成してみます。</p>
<p></p>
<noscript><img title="Easel_-_star 2" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="Easel_-_star 2" src="/wp-content/uploads/2015/05/easel__star2.png" width="640" height="471"></noscript>
<img class="lazyload" title="Easel_-_star 2" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="Easel_-_star 2" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20471%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/easel__star2.png" width="640" height="471"><p>Generate g-codeで3D画面に出ます。Export してファイルに出します。</p>
<p></p>
<noscript><img title="Easel_-_star 3" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="Easel_-_star 3" src="/wp-content/uploads/2015/05/easel__star3.png" width="618" height="480"></noscript>
<img class="lazyload" title="Easel_-_star 3" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="Easel_-_star 3" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20618%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/easel__star3.png" width="618" height="480"><p>このファイルは以下のよう。</p>
<pre class="brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;">G21
G90
G1 Z2.000 F228.6
M3 S18000
G1 Z2.000 F228.6
G0 X14.521 Y14.973
G1 Z-0.051 F228.6
G1 X14.521 Y14.973 F635.0
G1 X21.512 Y13.953 F635.0
G1 X16.456 Y9.024 F635.0
G1 X17.646 Y2.066 F635.0
G1 X11.397 Y5.350 F635.0
G1 X5.151 Y2.066 F635.0
G1 X6.341 Y9.027 F635.0
G1 X1.284 Y13.953 F635.0
G1 X8.276 Y14.973 F635.0
G1 X11.400 Y21.300 F635.0
G1 X14.521 Y14.973 F635.0
G1 Z2.000 F228.6
M5
G0 X0.000 Y0.000</pre>
<p>&#160;</p>
<p>で、これをGrbl Controller 3.6.1 から読み込んでみます。これは以下にユーザがビルドしたものがあります。</p>
<blockquote>
<p><a title="https://github.com/zapmaker/GrblHoming/issues/86" href="https://github.com/zapmaker/GrblHoming/issues/86" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">https://github.com/zapmaker/GrblHoming/issues/86<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p></p>
<p></p>
<noscript><img title="Grbl_Controller_3_6_1_Mac_Binary_·_Issue__86_·_zapmaker_GrblHoming" style="display:inline;border-width:0;" border="0" alt="Grbl_Controller_3_6_1_Mac_Binary_·_Issue__86_·_zapmaker_GrblHoming" src="/wp-content/uploads/2015/05/grbl_controller_3_6_1_mac_binary__issue__86__zapmaker_grblhoming.png" width="640" height="433"></noscript>
<img class="lazyload" title="Grbl_Controller_3_6_1_Mac_Binary_·_Issue__86_·_zapmaker_GrblHoming" style="display:inline;border-width:0;" border="0" alt="Grbl_Controller_3_6_1_Mac_Binary_·_Issue__86_·_zapmaker_GrblHoming" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20433%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/grbl_controller_3_6_1_mac_binary__issue__86__zapmaker_grblhoming.png" width="640" height="433">
</blockquote>
<p>で、読み込んだ状態。<br></p>
<p></p>
<noscript><img title="Grbl_Controller_3_6_1_と__Users_ishizaka_Downloads_と__Users_ishizaka_Desktop_cnc_GrblController361" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="Grbl_Controller_3_6_1_と__Users_ishizaka_Downloads_と__Users_ishizaka_Desktop_cnc_GrblController361" src="/wp-content/uploads/2015/05/grbl_controller_3_6_1___users_ishizaka_downloads___users_ishizaka_desktop_cnc_grblcontroller361.png" width="640" height="458"></noscript>
<img class="lazyload" title="Grbl_Controller_3_6_1_と__Users_ishizaka_Downloads_と__Users_ishizaka_Desktop_cnc_GrblController361" style="float:none;margin-left:auto;display:block;margin-right:auto;border-width:0;" border="0" alt="Grbl_Controller_3_6_1_と__Users_ishizaka_Downloads_と__Users_ishizaka_Desktop_cnc_GrblController361" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20458%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/grbl_controller_3_6_1___users_ishizaka_downloads___users_ishizaka_desktop_cnc_grblcontroller361.png" width="640" height="458"><p>&#160;</p>
<p>おおおお～。</p>
<p>設定は以下のパラメーターをCommand のところから、流し込みました。</p>
<pre class="brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;">$0 = 60
$1 = 60
$2 = 50
$3 = 100
$4 = 220.000
$5 = 220.000
$6 = 28
$7 = 50
$8 = 25.000
$9 = 0.050
$10 = 0.100
$11 = 25
$12 = 3
$13 = 0
$14 = 1
$15 = 0
$16 = 0
$17 = 0
$18 = 0
$19 = 220.000
$20 = 220.000
$21 = 100
$22 = 1.000</pre>
<p>このパラメータの意味は、以下のようです。よくわかりませんので、今のところ、適当に合わせます。</p>
<pre class="brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;">$0 = (steps/mm x)
$1 = (steps/mm y)
$2 = (steps/mm z)
$3 = (step pulse, usec)
$4 = (default feed, mm/min)
$5 = (default seek, mm/min)
$6 = (step port invert mask, int:00011100)
$7 = (step idle delay, msec)
$8 = (acceleration, mm/sec^2)
$9 = (junction deviation, mm)
$10 = (arc, mm/segment)
$11 = (n-arc correction, int)
$12 = (n-decimals, int)
$13 = (report inches, bool)
$14 = (auto start, bool)
$15 = (invert step enable, bool)
$16 = (hard limits, bool)
$17 = (homing cycle, bool)
$18 = (homing dir invert mask, int:00000000)
$19 = (homing feed, mm/min)
$20 = (homing seek, mm/min)
$21 = (homing debounce, msec)
$22 = (homing pull-off, mm)</pre>
<p>ゼロポイントを合わせるやりかたがいまいちよくわかりませんが、これで動かしてみます。</p>
<p>※映像準備中</p>
<p>とりあえず、Z軸が逆に動いてしまう幹事ですが、動いているようです。</p>
<p>&#160;</p>
<p>ふぅ。なんとかここまでたどり着きました。まだ課題があります。</p>
<p>・Z軸の動作を逆にしたい</p>
<p>・ゼロポイントを合わせる方法</p>
<p>・XYテーブルの移動量の設定</p>
<p>・速く動作させるための設定</p>
<p>&#160;</p>
<p>なかなか、奥が深いですね。まさか、ジャンクはFDDでここまで勉強できるとは。</p>
</div>
<footer class="entry-footer"></footer>
</div></article><article id="post-622" class="post-622 post type-post status-publish format-standard hentry category-arduino category-junk"><div class="entry-wrapper">
<header class="entry-header"> <span class="entry-format theme-genericon"></span><div class="entry-meta"> <span class="posted-on">投稿日: <a href="/2015/05/05/fdd6/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2015-05-05T03:53:38+09:00">2015年5月5日</time></a> </span><span class="posted-on">更新日:2015年5月5日</span> <span class="categories"> <a href="/category/arduino/" rel="category tag noopener noreferrer" data-wpel-link="internal">arduino</a>, <a href="/category/junk/" rel="category tag noopener noreferrer" data-wpel-link="internal">Junk</a></span>
</div>
<h1 class="entry-title"><a href="/2015/05/05/fdd6/" rel="bookmark noopener noreferrer" data-wpel-link="internal">FDD6</a></h1></header><div class="entry-content">
<p>さぁ、お休みに突入しましたのでJunkなFDDでプロッターを作る続きの作業をやりましたよ。</p>
<p>まず、筐体を仮組みしていたのを本格的に組み付け作業です。２つ穴をあけてボルト締めした後、いらないプラスティック部分を切り落とし、古いパソコンの筐体の裏側に貼り付けてあった金属板を切り出しました。</p>
<p></p>
<noscript><img title="IMG_0216" style="display:inline;border-width:0;" border="0" alt="IMG_0216" src="/wp-content/uploads/2015/05/img_0216.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="IMG_0216" style="display:inline;border-width:0;" border="0" alt="IMG_0216" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/img_0216.jpg" width="640" height="480"><p>これは、手曲げ加工して筐体に貼り付けて、ボロイ雰囲気を出そうという魂胆です。素材を見るとスリット加工してあり、ほどよく腐食している部分がかっこいいなと、ここを使うことにしました。</p>
<p>昔のPCには、電磁波防止だったのでしょうか？ こんなパーツと筐体加工があったとはね。</p>
<p></p>
<noscript><img title="IMG_0215" style="display:inline;border-width:0;" border="0" alt="IMG_0215" src="/wp-content/uploads/2015/05/img_0215.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="IMG_0215" style="display:inline;border-width:0;" border="0" alt="IMG_0215" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/img_0215.jpg" width="640" height="480"><p>で、程よく加工して両面テープで貼り付けました。どうでしょうかボロイ雰囲気でていますかね？ えっ？そんな加工しなくても十分ボロイですって？ 確かに。</p>
<p>&#160;</p>
<p>あと、ガレージのジャンクを物色していたら、バイクのバッテリーがありました。12Vのやつでもう使えないんだけども、モーターくらい回るかもと思い充電してみることに。</p>
<p></p>
<noscript><img title="IMG_0222" style="display:inline;border-width:0;" border="0" alt="IMG_0222" src="/wp-content/uploads/2015/05/img_0222.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="IMG_0222" style="display:inline;border-width:0;" border="0" alt="IMG_0222" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/05/img_0222.jpg" width="640" height="480"><p>容量が2.3Aくらいなので1/10くらいのの0.3Aで10時間くらい充電してみまいた。充電前は、４Vくらいあったのでもしかしたら使えるかもと思いましたが、充電後１0.34Vくらい。うーん、１３Vは超えていないようでだめっぽいかも。</p>
<p>&#160;</p>
<p>いちおう、モーターは回りましたが電圧降下が激しくすぐに６V以下になってしまいます。鉛蓄電池の原理は知りませんが、電気を溜め込む要素が不足しているんでしょうね。これは寿命です。</p>
<p>筐体の一番下に置いて、重しにはなりそうなのでとりあえず作業を続行。最終的には、ソーラーパネルのちっこいのを上に乗せていつでも使えるCD-ROMレーベルプロッターにしようかなという魂胆だったのですが、、、まぁ、おいおい考えるとして。</p>
<p>&#160;</p>
<p>で、ちょっと配線を変えて、コードはこんな感じにしました。AccelStepper でZ軸を追加した形です。Step と DIR のピン配線は前回と若干変えてあります。</p>
<p>&#160;</p>
<pre class="brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;">/*
 Junk FDD Stepper Motor Control Sample.
 xy table moving sample.
 AccelStepper ver 1.47
 JunkHack 2015.04.26
          2015.05.04 Z-axies add
 */

#include &lt;AccelStepper.h&gt;

AccelStepper y_stepper(1, 2, 5); // 1 &gt; two wires. 2 &gt; STEP pin , 5 &gt; DIR pin.
AccelStepper x_stepper(1, 3, 6); // 1 &gt; two wires. 3 &gt; STEP pin , 6 &gt; DIR pin.
AccelStepper z_stepper(1, 4, 7); // 1 &gt; two wires. 4 &gt; STEP pin , 7 &gt; DIR pin.
int halfRev = 700; // 片道移動幅 ( Step )
int halfdelay = 10;

void setup() {
    y_stepper.setMaxSpeed(6000); // 最大許容速度
    y_stepper.setAcceleration(12000); // 加速
    x_stepper.setMaxSpeed(3000);
    x_stepper.setAcceleration(6000);
    z_stepper.setMaxSpeed(3000);
    z_stepper.setAcceleration(12000);
}
void loop() {
    if (y_stepper.distanceToGo() == 0) {
        delay(halfdelay);
        halfRev = -halfRev;
        y_stepper.moveTo(halfRev);
    }
    if (x_stepper.distanceToGo() == 0) {
        delay(halfdelay);
        halfRev = -halfRev;
        x_stepper.moveTo(halfRev);
    }
    if (z_stepper.distanceToGo() == 0) {
        delay(halfdelay);
        halfRev = -halfRev;
        z_stepper.moveTo(halfRev);
    }
    y_stepper.run();
    x_stepper.run();
    z_stepper.run();
}</pre>
<p>&#160;</p>
<p>とりあえず、これで3軸が動きました。動画もよかったらどうぞ。</p>
<p>[youtube https://www.youtube.com/watch?v=eTOpfWcYASM]</p>
<p>次なる課題は、G-CODEという座標軸を操作するものを送り込むようにしたいのですが、どうやるのかよくわかりません。ちょっと調べることにします。</p>
<p>※現在、ものすごくはまり中。次号にて報告します。</p>
</div>
<footer class="entry-footer"></footer>
</div></article><nav class="navigation posts-navigation" role="navigation" aria-label="投稿"><h2 class="screen-reader-text">投稿ナビゲーション</h2>
<div class="nav-links">
<div class="nav-previous"><a href="/category/junk/page/4/" data-wpel-link="internal" rel="noopener noreferrer">過去の投稿</a></div>
<div class="nav-next"><a href="/category/junk/page/2/" data-wpel-link="internal" rel="noopener noreferrer">新しい投稿</a></div>
</div></nav></main></section></div>
<footer id="colophon" class="site-footer wrap" role="contentinfo"><div class="site-info"> Copyleft - all rights reversed. <span class="sep"> | </span> JunkHack 2011 - 2022 <span class="sep"> | </span> <a href="/about-junkhack/" data-wpel-link="internal" rel="noopener noreferrer">運営者情報<span class="gf"></span></a><span class="sep"> | </span> <a href="/mail/" data-wpel-link="internal" rel="noopener noreferrer">お問い合わせ<span class="gf"></span></a><span class="sep"> | </span> <a href="/privacy/" data-wpel-link="internal" rel="noopener noreferrer">プライバシーポリシー<span class="gf"></span></a>
</div></footer>
</div>
<div id="wpfront-scroll-top-container"> <noscript><img src="/wp-content/plugins/wpfront-scroll-top/images/icons/1.png" alt=""></noscript>
<img class="lazyload" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20210%20140%22%3E%3C/svg%3E" data-src="/wp-content/plugins/wpfront-scroll-top/images/icons/1.png" alt="">
</div> <script type="text/javascript">function wpfront_scroll_top_init() {
                if (typeof wpfront_scroll_top === "function" && typeof jQuery !== "undefined") {
                    wpfront_scroll_top({"scroll_offset":100,"button_width":0,"button_height":0,"button_opacity":0.8,"button_fade_duration":200,"scroll_duration":400,"location":1,"marginX":20,"marginY":20,"hide_iframe":false,"auto_hide":false,"auto_hide_after":2,"button_action":"top","button_action_element_selector":"","button_action_container_selector":"html, body","button_action_element_offset":0});
                } else {
                    setTimeout(wpfront_scroll_top_init, 100);
                }
            }
            wpfront_scroll_top_init();</script> <noscript><style>.lazyload{display:none;}</style></noscript>
<script data-noptimize="1">window.lazySizesConfig=window.lazySizesConfig||{};window.lazySizesConfig.loadMode=1;</script><script async data-noptimize="1" src="/wp-content/plugins/autoptimize/classes/external/js/lazysizes.min.js?ao_version=2.9.5"></script><script type="text/javascript" src="/wp-includes/js/dist/vendor/regenerator-runtime.min.js?ver=0.13.7" id="regenerator-runtime-js"></script> <script type="text/javascript" src="/wp-includes/js/dist/vendor/wp-polyfill.min.js?ver=3.15.0" id="wp-polyfill-js"></script> <script type="text/javascript" id="contact-form-7-js-extra">var wpcf7 = {"api":{"root":"\/wp-json\/","namespace":"contact-form-7\/v1"},"cached":"1"};</script> <script type="text/javascript" id="google-invisible-recaptcha-js-before">var renderInvisibleReCaptcha = function() {

    for (var i = 0; i < document.forms.length; ++i) {
        var form = document.forms[i];
        var holder = form.querySelector('.inv-recaptcha-holder');

        if (null === holder) continue;
		holder.innerHTML = '';

         (function(frm){
			var cf7SubmitElm = frm.querySelector('.wpcf7-submit');
            var holderId = grecaptcha.render(holder,{
                'sitekey': '6Lf2z80ZAAAAAJpiFOn2Cix-QJQkaiC7uBA6NCkS', 'size': 'invisible', 'badge' : 'inline',
                'callback' : function (recaptchaToken) {
					if((null !== cf7SubmitElm) && (typeof jQuery != 'undefined')){jQuery(frm).submit();grecaptcha.reset(holderId);return;}
					 HTMLFormElement.prototype.submit.call(frm);
                },
                'expired-callback' : function(){grecaptcha.reset(holderId);}
            });

			if(null !== cf7SubmitElm && (typeof jQuery != 'undefined') ){
				jQuery(cf7SubmitElm).off('click').on('click', function(clickEvt){
					clickEvt.preventDefault();
					grecaptcha.execute(holderId);
				});
			}
			else
			{
				frm.onsubmit = function (evt){evt.preventDefault();grecaptcha.execute(holderId);};
			}


        })(form);
    }
};</script> <script type="text/javascript" async defer src="https://www.google.com/recaptcha/api.js?onload=renderInvisibleReCaptcha&#038;render=explicit&#038;hl=ja" id="google-invisible-recaptcha-js"></script> <script type="text/javascript" src="/wp-content/themes/hew-wpcom/js/contact.js?ver=20210612" id="sendmail-js"></script> <script type="text/javascript" src="https://www.google.com/recaptcha/api.js?render=6Lf2z80ZAAAAAJpiFOn2Cix-QJQkaiC7uBA6NCkS&#038;ver=3.0" id="google-recaptcha-js"></script> <script type="text/javascript" id="wpcf7-recaptcha-js-extra">var wpcf7_recaptcha = {"sitekey":"6Lf2z80ZAAAAAJpiFOn2Cix-QJQkaiC7uBA6NCkS","actions":{"homepage":"homepage","contactform":"contactform"}};</script> <script defer src="/wp-content/cache/autoptimize/js/autoptimize_b6c6c7d2c47bd5f86199fb6f5207fc2e.js"></script>
</body>
</html>