<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="alternate" type="application/rss+xml" title="JunkHack &raquo; フィード" href="//feed/">
<link rel="alternate" type="application/rss+xml" title="JunkHack &raquo; Yahoo フィード" href="//feed/yahoo/">
<link rel="alternate" type="application/rss+xml" title="JunkHack &raquo; SmartNews フィード" href="//feed/smartnews/">
<link rel="manifest" href="/wp-content/themes/jh-hew/manifest.json">
<link rel="icon alternate" href="/wp-content/themes/jh-hew/img/favicon-48.png" type="image/png">
<link rel="apple-touch-icon" href="/wp-content/themes/jh-hew/img/apple-touch-icon180.png" sizes="180x180">
<meta name="theme-color" content="#FAD641">
<meta name="apple-mobile-web-app-title" content="JunkHack">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">

<script type="text/javascript">window.DocsBotAI=window.DocsBotAI||{},DocsBotAI.init=function(c){return new Promise(function(e,o){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://widget.docsbot.ai/chat.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),t.addEventListener("load",function(){window.DocsBotAI.mount({id:c.id,supportCallback:c.supportCallback,identify:c.identify,options:c.options});var t;t=function(n){return new Promise(function(e){if(document.querySelector(n))return e(document.querySelector(n));var o=new MutationObserver(function(t){document.querySelector(n)&&(e(document.querySelector(n)),o.disconnect())});o.observe(document.body,{childList:!0,subtree:!0})})},t&&t("#docsbotai-root").then(e).catch(o)}),t.addEventListener("error",function(t){o(t.message)})})};</script>
<script type="text/javascript">DocsBotAI.init({id: "HPyLlfLvXH85ROf3H0hM/r4tbR7inmYatdLFK2ZC0"});</script>

<script>if ('serviceWorker' in navigator && 'localhost' !== window.location.hostname) {
	window.addEventListener('load', function () {
		navigator.serviceWorker.register('/sw.js').then(
			function (registration) {
				console.log('ServiceWorker registration successful with scope: ', registration.scope);
			},
			function (err) {
				console.log('ServiceWorker registration failed: ', err);
			}
		);
	});
}</script>


		<link charset="utf-8" rel="stylesheet" type="text/css" href="/wp-content/themes/jh-hew/js/nehan2/nehan2.css">
		<script charset="utf-8" type="text/javascript" src="/wp-content/themes/jh-hew/js/nehan2/subject.js"></script>
		<script charset="utf-8" type="text/javascript" src="/wp-content/themes/jh-hew/js/nehan2/Plugin_haiku.js"></script>
		<script charset="utf-8" type="text/javascript" src="/wp-content/themes/jh-hew/js/nehan2/nehan2.js"></script>
		<script type="text/javascript">

		let pw = window.innerWidth;
		let ph = window.innerHeight;
		let wsize = 0;
		function resizeWindow(event){
				pw = window.innerWidth;
				ph = window.innerHeight;
		}
	
		window.addEventListener("resize", resizeWindow);

			window.onload = function(){
			var createPageFrame = function(body){
				var node = document.createElement("div");
				var style = node.style;
				node.innerHTML = body;
				node.className = "page-frame";
				return node;
			};

			var outputAllPages = function(dstId, provider){
				var pageNo = 0;
				var dstNode = document.getElementById(dstId);

				// add <subject> element to parser for easy markup(see subject.js)
				Nehan.Plugin.defineSubjectElement(provider);
				Nehan.Plugin_haiku.defineHaikuElement(provider);

				while(provider.hasNextPage()){
					var pageData = provider.outputPage(pageNo++);
					var pageFrame = createPageFrame(pageData.html);
					dstNode.appendChild(pageFrame);
				}
			};
			
			var text = document.getElementById("src-text").innerHTML;
		// output default page1.
		if(pw < 480){
			// output vertical post.27moji
			outputAllPages("result-vertical", new Nehan.PageProvider({
				direction:"vertical",
				width:310,
				height:440,
				fontSize:16
			}, text));
		}
		if(pw > 479 && pw < 600){
			// output vertical post.27moji
			outputAllPages("result-vertical", new Nehan.PageProvider({
				direction:"vertical",
				width:420,
				height:440,
				fontSize:16
			}, text));
		}
		if(pw > 599 && pw < 744){
			// output vertical post.27moji
			outputAllPages("result-vertical", new Nehan.PageProvider({
				direction:"vertical",
				width:540,
				height:440,
				fontSize:16
			}, text));
		}
		if(pw > 743 && pw < 889){
			// output vertical post.27moji
			outputAllPages("result-vertical", new Nehan.PageProvider({
				direction:"vertical",
				width:680,
				height:440,
				fontSize:16
			}, text));
		}
		if(pw > 888){
			// output vertical post.27moji
			outputAllPages("result-vertical", new Nehan.PageProvider({
				direction:"vertical",
				width:890,
				height:440,
				fontSize:16
			}, text));
		}
		
		document.getElementById("progress").style.display = "none";
		};
		</script>
		
<title>新ブログ &#8211; ページ 3 &#8211; JunkHack</title>
<meta name="robots" content="max-image-preview:large">
<link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="alternate" type="application/rss+xml" title="JunkHack &raquo; 新ブログ カテゴリーのフィード" href="/category/blog-n/feed/">
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=6.4.3" type="text/css" media="all">
<style id="classic-theme-styles-inline-css" type="text/css">/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}</style>
<style id="global-styles-inline-css" type="text/css">body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}body .is-layout-grid{display: grid;}body .is-layout-grid > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}</style>
<link rel="stylesheet" id="wpel-style-css" href="/wp-content/plugins/wp-external-links/public/css/wpel.css?ver=2.60" type="text/css" media="all">
<style id="md-style-inline-css" type="text/css">.gfm-task-list { border: 1px solid transparent; list-style-type: none; } .gfm-task-list input { margin-right: 10px !important; } .katex-container { margin: 25px !important; text-align: center; } .katex-container.katex-inline { display: inline-block !important; background: none !important; margin: 0 !important; padding: 0 !important; } pre .katex-container { font-size: 1.4em !important; } .katex-inline { background: none !important; margin: 0 3px; } .copy-button { cursor: pointer; border: 0; font-size: 12px; text-transform: uppercase; font-weight: 500; padding: 3px 6px 3px 6px; background-color: rgba(255, 255, 255, 0.6); position: absolute; overflow: hidden; top: 5px; right: 5px; border-radius: 3px; } .copy-button:before { content: ""; display: inline-block; width: 16px; height: 16px; margin-right: 3px; background-size: contain; background-image: url("data:image/svg+xml,%3Csvg version=\'1.1\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' x=\'0px\' y=\'0px\' width=\'16px\' height=\'16px\' viewBox=\'888 888 16 16\' enable-background=\'new 888 888 16 16\' xml:space=\'preserve\'%3E %3Cpath fill=\'%23333333\' d=\'M903.143,891.429c0.238,0,0.44,0.083,0.607,0.25c0.167,0.167,0.25,0.369,0.25,0.607v10.857 c0,0.238-0.083,0.44-0.25,0.607s-0.369,0.25-0.607,0.25h-8.571c-0.238,0-0.44-0.083-0.607-0.25s-0.25-0.369-0.25-0.607v-2.571 h-4.857c-0.238,0-0.44-0.083-0.607-0.25s-0.25-0.369-0.25-0.607v-6c0-0.238,0.06-0.5,0.179-0.786s0.262-0.512,0.428-0.679 l3.643-3.643c0.167-0.167,0.393-0.309,0.679-0.428s0.547-0.179,0.786-0.179h3.714c0.238,0,0.44,0.083,0.607,0.25 c0.166,0.167,0.25,0.369,0.25,0.607v2.929c0.404-0.238,0.785-0.357,1.143-0.357H903.143z M898.286,893.331l-2.67,2.669h2.67V893.331 z M892.571,889.902l-2.669,2.669h2.669V889.902z M894.321,895.679l2.821-2.822v-3.714h-3.428v3.714c0,0.238-0.083,0.441-0.25,0.607 s-0.369,0.25-0.607,0.25h-3.714v5.714h4.571v-2.286c0-0.238,0.06-0.5,0.179-0.786C894.012,896.071,894.155,895.845,894.321,895.679z M902.857,902.857v-10.286h-3.429v3.714c0,0.238-0.083,0.441-0.25,0.607c-0.167,0.167-0.369,0.25-0.607,0.25h-3.714v5.715H902.857z\' /%3E %3C/svg%3E"); background-repeat: no-repeat; position: relative; top: 3px; } pre { position: relative; } pre:hover .copy-button { background-color: rgba(255, 255, 255, 0.9); } .post pre code script, .language-mathjax ~ .copy-button { display: none !important; }</style>
<link rel="stylesheet" id="mouse-css" href="/wp-content/plugins/wp-keypopup-algolia/mouse.css?ver=6.4.3" type="text/css" media="all">
<link rel="stylesheet" id="related-frontend-css-css" href="/wp-content/plugins/ccrw_related/css/frontend-style.css?ver=0.1.0" type="text/css" media="all">
<link rel="stylesheet" id="uagb-block-css-css" href="/wp-content/uploads/uag-plugin/custom-style-blocks.css?ver=2.12.3" type="text/css" media="all">
<link rel="stylesheet" id="JankHack-Hew-fonts-css" href="https://fonts.googleapis.com/css?family=Open+Sans%3A400%2C600%2C700%2C400italic%2C600italic%2C700italic%7CNoto+Serif%3A400%2C700%2C400italic%2C700italic&#038;subset=latin" type="text/css" media="all">
<link rel="stylesheet" id="genericons-css" href="/wp-content/themes/jh-hew/genericons/genericons.css?ver=3.4.1" type="text/css" media="all">
<link rel="stylesheet" id="JankHack-Hew-style-css" href="/wp-content/themes/jh-hew/style.css?ver=6.4.3" type="text/css" media="all">
<link rel="stylesheet" id="algolia-autocomplete-css" href="/wp-content/plugins/wp-search-with-algolia/css/algolia-autocomplete.css?ver=2.7.1" type="text/css" media="all">
<link rel="stylesheet" id="emojify-css" href="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/css/basic/emojify.min.css?ver=1.1.0" type="text/css" media="all">
<script type="text/javascript" src="/wp-content/plugins/jquery-manager/assets/js/jquery-3.5.1.min.js" id="jquery-core-js"></script>
<script type="text/javascript" src="/wp-content/plugins/jquery-manager/assets/js/jquery-migrate-3.3.0.min.js" id="jquery-migrate-js"></script>
<script type="text/javascript" src="/wp-content/plugins/wp-keypopup-algolia/mousetrap.min.js?ver=6.4.3" id="mice-js"></script>
<script type="text/javascript" id="mouse-js-extra">
/* <![CDATA[ */
var mouse = {"home":"\/","list":"\/list\/","search":"\/s\/"};
/* ]]> */
</script>
<script type="text/javascript" src="/wp-content/plugins/wp-keypopup-algolia/mouse.js?ver=6.4.3" id="mouse-js"></script>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/categories/1">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<meta name="generator" content="WordPress 6.4.3">
		<style>.algolia-search-highlight {
				background-color: #fffbcc;
				border-radius: 2px;
				font-style: normal;
			}</style>
		<style type="text/css">.broken_link, a.broken_link {
	text-decoration: line-through;
}</style>
<style id="uagb-style-conditional-extension">@media (min-width: 1025px){body .uag-hide-desktop.uagb-google-map__wrap,body .uag-hide-desktop{display:none !important}}@media (min-width: 768px) and (max-width: 1024px){body .uag-hide-tab.uagb-google-map__wrap,body .uag-hide-tab{display:none !important}}@media (max-width: 767px){body .uag-hide-mob.uagb-google-map__wrap,body .uag-hide-mob{display:none !important}}</style>
<style id="uagb-style-frontend-1">.uagb-block-188fea4d .uagb-search-form__container .uagb-search-submit{width: 60px;padding: 0;border: 0;}.uagb-block-188fea4d .uagb-search-form__container .uagb-search-form__input::placeholder{opacity: 0.6;}.uagb-block-188fea4d .uagb-search-form__container .uagb-search-submit .uagb-wp-search-button-icon-wrap svg{width: 17px;height: 17px;font-size: 17px;}.uagb-block-188fea4d .uagb-search-form__container .uagb-search-submit .uagb-wp-search-button-text{color: #313131;}.uagb-block-188fea4d.uagb-layout-input .uagb-wp-search-icon-wrap svg{width: 17px;height: 17px;font-size: 17px;}.uagb-block-188fea4d .uagb-search-form__container .uagb-search-form__input{background-color: #ECEEEF;border: 0;border-radius: 0px;margin: 0;outline: unset;padding-top: 15px;padding-bottom: 15px;padding-right: 13px;padding-left: 13px;}.uagb-block-188fea4d .uagb-search-wrapper .uagb-search-form__container{border-top-left-radius: 3px;border-top-right-radius: 3px;border-bottom-left-radius: 3px;border-bottom-right-radius: 3px;border-style: none;outline: unset;box-shadow: 0px 0px    ;transition: all .5s;width: 100%;}.uagb-block-188fea4d .uagb-search-form__container .uagb-wp-search-icon-wrap{background-color: #ECEEEF;padding-top: 15px;padding-bottom: 15px;padding-left: 13px;}.uagb-block-188fea4d.uagb-layout-input-button .uagb-search-wrapper .uagb-search-form__container .uagb-search-submit{background-color: #9d9d9d;}@media only screen and (max-width: 976px) {.uagb-block-188fea4d .uagb-search-wrapper .uagb-search-form__container .uagb-search-form__input{padding-top: 15px;padding-bottom: 15px;padding-right: 13px;padding-left: 13px;}.uagb-block-188fea4d .uagb-search-form__container .uagb-wp-search-icon-wrap{padding-top: 15px;padding-bottom: 15px;padding-left: 13px;}}@media only screen and (max-width: 767px) {.uagb-block-188fea4d .uagb-search-wrapper .uagb-search-form__container .uagb-search-form__input{padding-top: 15px;padding-bottom: 15px;padding-right: 13px;padding-left: 13px;}.uagb-block-188fea4d .uagb-search-form__container .uagb-wp-search-icon-wrap{padding-top: 15px;padding-bottom: 15px;padding-left: 13px;}}</style>
<link rel="icon" href="/wp-content/uploads/2020/09/logo.png" sizes="32x32">
<link rel="icon" href="/wp-content/uploads/2020/09/logo.png" sizes="192x192">
<link rel="apple-touch-icon" href="/wp-content/uploads/2020/09/logo.png">
<meta name="msapplication-TileImage" content="/wp-content/uploads/2020/09/logo.png">
</head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-161935417-3"></script>
<script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-161935417-3');</script>
<body class="archive paged category category-blog-n category-1 wp-custom-logo paged-3 category-paged-3 has-sidebar has-header-image">
<div id="page" class="hfeed site">
		<div id="widgets-wrapper" class="hide">
		
<div id="secondary" class="wrap top-widget-area" role="complementary">
		<div id="sidebar-1" class="widget-area" role="complementary">
		<aside id="block-9" class="widget widget_block"><p><script async="" src="https://cse.google.com/cse.js?cx=df8210082ba786774"></script></p>
<div class="gcse-search"></div></aside><aside id="block-10" class="widget widget_block widget_media_image"><div class="wp-block-image">
<figure class="aligncenter size-full"><img fetchpriority="high" decoding="async" width="748" height="99" src="/wp-content/uploads/2023/07/a-seach.png" alt="" class="wp-image-11535"></figure>
</div></aside>	</div>
<!-- #first .widget-area -->
	
	
	
	</div>
<!-- #secondary -->
	</div>
	
	<a class="skip-link screen-reader-text" href="#content">コンテンツへ移動</a>

	<header id="masthead" class="site-header" role="banner">
					<a class="site-logo" href="/" title="JunkHack" rel="home noopener noreferrer" data-wpel-link="internal">
				<img src="https://secure.gravatar.com/avatar/997681319c3cbb0bdcca95770d5edaa6/?s=80&#038;d=mm" width="80" height="80" alt="" class="no-grav header-image">
			</a>
		
		<div class="site-branding">
			<h1 class="site-title"><a href="/" rel="home noopener noreferrer" data-wpel-link="internal">JunkHack</a></h1>
			<h2 class="site-description">アリエクでポチった JUNKHACK</h2>
		</div>

					<nav id="site-navigation" class="main-navigation" role="navigation">
				<button class="menu-toggle toggle-button"><span class="screen-reader-text">メインメニュー</span></button>
				<div class="menu-new-menu-container"><ul id="menu-new-menu" class="menu">
<li id="menu-item-10686" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10686"><a href="/list/" data-wpel-link="internal" rel="noopener noreferrer">List</a></li>
<li id="menu-item-11016" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11016"><a href="/mail/" data-wpel-link="internal" rel="noopener noreferrer">CONTACT</a></li>
<li id="menu-item-10671" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10671"><a href="https://mirror.gpl.jp/" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">Mirror<span class="wpel-icon wpel-image wpel-icon-1"></span></a></li>
</ul></div>			</nav><!-- #site-navigation -->
		
		
				<div class="toggle-wrapper">
			<a href="#" class="widgets-toggle toggle-button" title="ウィジェット">
				<span class="screen-reader-text">ウィジェット</span>
			</a>
		</div>
		
	</header><!-- #masthead -->
	
	<div id="content" class="site-content">
	<section id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">カテゴリー: <span>新ブログ</span>
</h1>			</header><!-- .page-header -->

						
				
<article id="post-5911" class="post-5911 post type-post status-publish format-standard hentry category-blog category-linux category-wordpress category-speeding-up">
	<div class="entry-wrapper">



		<header class="entry-header">
					<span class="entry-format theme-genericon"></span>
	
			<div class="entry-meta">
				<span class="posted-on">投稿日: <a href="/2020/09/06/termux%e3%81%aeapache2php7mariadb10-%e7%92%b0%e5%a2%83%e3%81%a7wordpress%e3%81%ae%e8%a1%a8%e7%a4%ba%e3%82%b9%e3%82%b3%e3%82%a2/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published" datetime="2020-09-06T19:29:10+09:00">2020年9月6日</time><time class="updated" datetime="2021-06-02T05:43:58+09:00">2021年6月2日</time></a> </span><span class="posted-on">更新日:2021年6月2日</span> <span class="categories">  <a href="/category/blog-n/blog/" rel="category tag noopener noreferrer" data-wpel-link="internal">Blog</a>, <a href="/category/linux/" rel="category tag noopener noreferrer" data-wpel-link="internal">Linux</a>, <a href="/category/wordpress/" rel="category tag noopener noreferrer" data-wpel-link="internal">WordPress</a>, <a href="/category/speeding-up/" rel="category tag noopener noreferrer" data-wpel-link="internal">高速化</a></span>			</div>
<!-- .entry-meta -->

							<h1 class="entry-title"><a href="/2020/09/06/termux%e3%81%aeapache2php7mariadb10-%e7%92%b0%e5%a2%83%e3%81%a7wordpress%e3%81%ae%e8%a1%a8%e7%a4%ba%e3%82%b9%e3%82%b3%e3%82%a2/" rel="bookmark noopener noreferrer" data-wpel-link="internal">Termuxのapache2+php7+mariadb10 環境でwordpressの表示スコア</a></h1>					</header><!-- .entry-header -->

		<div class="entry-content">
			
<p>とりあえず、１つの指標としてメモしておくことにします。まず、改善結果から。データ量は、今見ているこのブログの過去記事、約４００件のデータでテンプレートは、<a href="https://wordpress.com/theme/hew" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">Hew<span class="wpel-icon wpel-image wpel-icon-1"></span></a>　です。TOPの表示記事数は３です。スマホ側は、UmidigiF2にapache2+php7+mariadb10の環境となります。ClassicPressではなく、WordPress最新5.5.1です。</p>



<div class="wp-block-image"><figure class="aligncenter"><img decoding="async" src="/wp-content/uploads/2020/09/webpagetest_test_details_-_tokyo___jh_gpl_jp__-_09_06_20_18_04_20.png" alt="WebPageTest_Test_Details_-_Tokyo___jh_gpl_jp__-_09_06_20_18_04_20" class="wp-image-5913"></figure></div>



<p>改善前は以下です。</p>



<figure class="wp-block-image"><img decoding="async" src="/wp-content/uploads/2020/09/webpagetest_test_details_-_tokyo___jh_gpl_jp__-_09_05_20_15_15_05-1.png" alt="WebPageTest_Test_Details_-_Tokyo___jh_gpl_jp__-_09_05_20_15_15_05" class="wp-image-5915"></figure>



<p>2.2秒くらいから、1.3秒くらいまで改善しました。これは、キャッシュ化の効果です。キャッシュさせるのは、何がいいのか迷いましたが一番シンプルそうな、「<strong>Simple Cache</strong>」というのを使いました。</p>



<figure class="wp-block-image"><a href="https://ja.wordpress.org/plugins/simple-cache/" target="_blank" rel="noopener noreferrer external" data-wpel-link="external"><img decoding="async" src="/wp-content/uploads/2020/09/e38395e3829ae383a9e382afe38299e382a4e383b3_e280b9_junkhack_e28094_wordpress.png" alt="プラグイン_‹_JunkHack_—_WordPress" class="wp-image-5917"></a></figure>



<p>Jetpack の全ての機能を試していませんが、とりあえずは動いている感じです。設定も以下のように単純です。手動でのキャッシュ削除は設定画面の２箇所から可能です。</p>



<figure class="wp-block-image"><img decoding="async" src="/wp-content/uploads/2020/09/e382b7e383b3e38395e3829ae383abe382ade383a3e38383e382b7e383a5e280b9junkhack_e28094_wordpress.png" alt="シンプルキャッシュ‹JunkHack_—_WordPress" class="wp-image-5919"></figure>



<p>nginx_1.19.2 と、php-fpm_7.4.9 の組み合わせでも確認してみたいですね。</p>



<blockquote class="wp-block-quote"><p>Termuxパッケージ安定板<br>https://grimler.se/termux-packages-24/arm/</p></blockquote>



<p>nginxの1.19.2 は<a href="https://nginx.org/en/CHANGES" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">オフィシャル側<span class="wpel-icon wpel-image wpel-icon-1"></span></a>は 2020/08/11 に公開していて、termux 側は、8/18 なんでちゃんとメンテナンスされているようです。</p>



<p>とりあえず、apacheのhttpd.confのパッチは以下です。apache 2.4.46 のデフォルト設定ファイルとの差分です。</p>



<pre class="wp-block-code"><code>--- httpd.conf.org	2020-08-09 07:55:34.000000000 +0900
+++ httpd.conf	2020-09-06 01:56:57.560924026 +0900
@@ -63,8 +63,8 @@
 # Example:
 # LoadModule foo_module modules/mod_foo.so
 #
-#LoadModule mpm_prefork_module libexec/apache2/mod_mpm_prefork.so
-LoadModule mpm_worker_module libexec/apache2/mod_mpm_worker.so
+LoadModule mpm_prefork_module libexec/apache2/mod_mpm_prefork.so
+#LoadModule mpm_worker_module libexec/apache2/mod_mpm_worker.so
 LoadModule authn_file_module libexec/apache2/mod_authn_file.so
 #LoadModule authn_dbm_module libexec/apache2/mod_authn_dbm.so
 #LoadModule authn_anon_module libexec/apache2/mod_authn_anon.so
@@ -88,7 +88,7 @@
 #LoadModule cache_module libexec/apache2/mod_cache.so
 #LoadModule cache_disk_module libexec/apache2/mod_cache_disk.so
 #LoadModule cache_socache_module libexec/apache2/mod_cache_socache.so
-#LoadModule socache_shmcb_module libexec/apache2/mod_socache_shmcb.so
+LoadModule socache_shmcb_module libexec/apache2/mod_socache_shmcb.so
 #LoadModule socache_dbm_module libexec/apache2/mod_socache_dbm.so
 #LoadModule socache_memcache_module libexec/apache2/mod_socache_memcache.so
 #LoadModule socache_redis_module libexec/apache2/mod_socache_redis.so
@@ -109,7 +109,7 @@
 #LoadModule substitute_module libexec/apache2/mod_substitute.so
 #LoadModule sed_module libexec/apache2/mod_sed.so
 #LoadModule charset_lite_module libexec/apache2/mod_charset_lite.so
-#LoadModule deflate_module libexec/apache2/mod_deflate.so
+LoadModule deflate_module libexec/apache2/mod_deflate.so
 LoadModule mime_module libexec/apache2/mod_mime.so
 LoadModule log_config_module libexec/apache2/mod_log_config.so
 #LoadModule log_debug_module libexec/apache2/mod_log_debug.so
@@ -144,7 +144,7 @@
 #LoadModule session_dbd_module libexec/apache2/mod_session_dbd.so
 LoadModule slotmem_shm_module libexec/apache2/mod_slotmem_shm.so
 #LoadModule slotmem_plain_module libexec/apache2/mod_slotmem_plain.so
-#LoadModule ssl_module libexec/apache2/mod_ssl.so
+LoadModule ssl_module libexec/apache2/mod_ssl.so
 #LoadModule dialup_module libexec/apache2/mod_dialup.so
 #LoadModule http2_module libexec/apache2/mod_http2.so
 #LoadModule lbmethod_byrequests_module libexec/apache2/mod_lbmethod_byrequests.so
@@ -168,7 +168,7 @@
 &lt;/IfModule>
 #LoadModule dav_fs_module libexec/apache2/mod_dav_fs.so
 #LoadModule dav_lock_module libexec/apache2/mod_dav_lock.so
-#LoadModule vhost_alias_module libexec/apache2/mod_vhost_alias.so
+LoadModule vhost_alias_module libexec/apache2/mod_vhost_alias.so
 LoadModule negotiation_module libexec/apache2/mod_negotiation.so
 LoadModule dir_module libexec/apache2/mod_dir.so
 #LoadModule imagemap_module libexec/apache2/mod_imagemap.so
@@ -176,7 +176,7 @@
 #LoadModule speling_module libexec/apache2/mod_speling.so
 LoadModule userdir_module libexec/apache2/mod_userdir.so
 LoadModule alias_module libexec/apache2/mod_alias.so
-#LoadModule rewrite_module libexec/apache2/mod_rewrite.so
+LoadModule rewrite_module libexec/apache2/mod_rewrite.so
 
 &lt;IfModule unixd_module>
 #
@@ -242,8 +242,10 @@
 # documents. By default, all requests are taken from this directory, but
 # symbolic links and aliases may be used to point to other locations.
 #
-DocumentRoot "/data/data/com.termux/files/usr/share/apache2/default-site/htdocs"
-&lt;Directory "/data/data/com.termux/files/usr/share/apache2/default-site/htdocs">
+#DocumentRoot "/data/data/com.termux/files/usr/share/apache2/default-site/htdocs"
+DocumentRoot "/data/data/com.termux/files/home/htdocs"
+#&lt;Directory "/data/data/com.termux/files/usr/share/apache2/default-site/htdocs">
+&lt;Directory "/data/data/com.termux/files/home/htdocs">
     #
     # Possible values for the Options directive are "None", "All",
     # or any combination of:
@@ -256,14 +258,14 @@
     # http://httpd.apache.org/docs/2.4/mod/core.html#options
     # for more information.
     #
-    Options Indexes FollowSymLinks
+    Options FollowSymLinks
 
     #
     # AllowOverride controls what directives may be placed in .htaccess files.
     # It can be "All", "None", or any combination of the keywords:
     #   AllowOverride FileInfo AuthConfig Limit
     #
-    AllowOverride None
+    AllowOverride All
 
     #
     # Controls who can get stuff from this server.
@@ -276,7 +278,7 @@
 # is requested.
 #
 &lt;IfModule dir_module>
-    DirectoryIndex index.html
+    DirectoryIndex index.php index.html
 &lt;/IfModule>
 
 #
@@ -529,3 +531,22 @@
 SSLRandomSeed connect builtin
 &lt;/IfModule>
 
+LoadModule php7_module libexec/apache2/libphp7.so
+&lt;FilesMatch \.php
gt;
 +   SetHandler application/x-httpd-php
 +&lt;/FilesMatch>
 +&lt;IfModule dir_module>
 +    DirectoryIndex index.php
 +&lt;/IfModule>
 +
 +&lt;IfModule mod_deflate.c>
 +    DeflateCompressionLevel 1
 +    &lt;IfModule mod_filter.c>
 +        FilterDeclare COMPRESS
 +        FilterProvider COMPRESS DEFLATE "%{CONTENT_TYPE} =~ m#^text/#i"
 +        FilterProvider COMPRESS DEFLATE "%{CONTENT_TYPE} =~ m#^application/(atom\+xml|javascript|json|rss\+xml|xml|xhtml\+xml)#i"
 +        FilterProvider COMPRESS DEFLATE "%{CONTENT_TYPE} =~ m#^image/(svg\+xml|vnd\.microsoft\.icon)#i"
 +        FilterChain COMPRESS
 +        FilterProtocol COMPRESS DEFLATE change=yes;byteranges=no
 +    &lt;/IfModule>
 +&lt;/IfModule></code></pre>



<p>パッチの適用は上記をコピペしてp.txt などに保存、httpd.conf に以下のように patchしてください。</p>



<blockquote class="wp-block-quote"><p>$ patch -u httpd.conf &lt; p.txt</p></blockquote>



<p>成功すれば、patching file httpd.conf　のような表示となります。</p>



<p>mariadb のチューニングとかはやってないです。PHPは、php.ini&nbsp; に以下のように記載してあります。</p>



<blockquote class="wp-block-quote">
<p>$ cat /data/data/com.termux/files/usr/lib/php.ini<br>[PHP]</p>
<p>upload_max_filesize = 64M<br>post_max_size = 64M<br>memory_limit = 64M</p>
</blockquote>



<p>結構、スマホでも動くなー、いけそうだなーっていう感じです。</p>
					</div>
<!-- .entry-content -->

			<footer class="entry-footer">
							
			</footer><!-- .entry-footer -->
		</div>
<!-- .entry-wrapper -->
</article><!-- #post-## -->

			
				
<article id="post-5882" class="post-5882 post type-post status-publish format-standard hentry category-blog">
	<div class="entry-wrapper">



		<header class="entry-header">
					<span class="entry-format theme-genericon"></span>
	
			<div class="entry-meta">
				<span class="posted-on">投稿日: <a href="/2020/09/05/rapid-start-cdn%e3%81%af%e8%ab%a6%e3%82%81%e3%81%a6jetpack%e3%83%97%e3%83%a9%e3%82%b0%e3%82%a4%e3%83%b3%e3%81%aewordpress%e3%81%8c%e6%8f%90%e4%be%9b%e3%81%97%e3%81%a6%e3%81%84%e3%82%8bcdn%e3%82%92/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2020-09-05T16:00:07+09:00">2020年9月5日</time></a> </span><span class="posted-on">更新日:2020年9月5日</span> <span class="categories">  <a href="/category/blog-n/blog/" rel="category tag noopener noreferrer" data-wpel-link="internal">Blog</a></span>			</div>
<!-- .entry-meta -->

							<h1 class="entry-title"><a href="/2020/09/05/rapid-start-cdn%e3%81%af%e8%ab%a6%e3%82%81%e3%81%a6jetpack%e3%83%97%e3%83%a9%e3%82%b0%e3%82%a4%e3%83%b3%e3%81%aewordpress%e3%81%8c%e6%8f%90%e4%be%9b%e3%81%97%e3%81%a6%e3%81%84%e3%82%8bcdn%e3%82%92/" rel="bookmark noopener noreferrer" data-wpel-link="internal">Rapid START CDNは諦めてJetpackプラグインのWordPressが提供しているCDNを使ってどうなるか検討してみる</a></h1>					</header><!-- .entry-header -->

		<div class="entry-content">
			
<p>結局、Rapid START CDNは登録したけどもうまく反映できず、諦めました。手順通りにやっても、CNAMEを切り替え後に　Error 503 Backend Error　になるんですよね。結局、フェイスブックの問い合わせにもお返事がなかったので原因を追求することが難しくなりました。</p>



<p>　ということで、CDNはとりあえず諦めようかなと思いますが、Jetpack　をまだ入れて試していませんでした。Jetpackには、ワードプレスが提供しているCDNが使えるようになります。説明は以下にあります。</p>



<blockquote class="wp-block-quote">
<p>Site Accelerator</p>
<cite><em>JetpackのSite Acceleratorは、Jetpackが画像を最適化し、サーバーのグローバルネットワークから画像と静的ファイル（CSSやJavaScriptなど）を提供できるようにすることで、ページの読み込みを高速化します。</em></cite>
</blockquote>



<p>あと、Jetpackを入れるメリットとしては、WordPressのローカルアプリで、Macから投稿するときのブログ投稿ツールが使えるようになります。最近はこれを使っていたので、今後もこれを使おうとする場合は、Jetpackを入れないとだめなようです。</p>



<figure class="wp-block-image size-large"><img decoding="async" src="/wp-content/uploads/2020/09/e382b5e382a4e38388e38292e8bfbde58aa0_e28094_wordpress_com.png?w=868" alt="" class="wp-image-5888"></figure>



<p>まぁ、違う投稿ツールを使えばいいんですが、慣れているんでこっちで出来れば良いかなと。CDNも使えるしね。</p>



<p>以前検討した時は、Jetpackを入れると遅くなるっていうことがわかり外しましたが、あれはネット回線もサーバマシンも高速であったため、CDN使わなくても速かったからです。今度は、スマホサーバで動かしているし、回線もIPv4を使っているので、以前より速くありません。ちなみに、今はInterLink の PPoEのIP1固定を検討中で使っています。これは逆引きドメインを設定できるので良いなーと。またそれは別に紹介するとします。</p>



<p>　ではJetpackを入れてみましょう。しかし、ClassicPressでは動作しないので、WordPress最新を入れる必要があります。面倒ですが入れ直して、Jetpackプラグイン設定。一応、同条件で計測しておきました。</p>



<p>・Jetpackを入れる前のWordPress</p>



<figure class="wp-block-image size-large"><img decoding="async" src="/wp-content/uploads/2020/09/webpagetest_test_details_-_tokyo___jh_gpl_jp__-_09_05_20_14_00_17.png?w=942" alt="" class="wp-image-5895"></figure>



<p>・Jetpackを導入直後のWordPress</p>



<figure class="wp-block-image size-large"><img decoding="async" src="/wp-content/uploads/2020/09/webpagetest_test_details_-_tokyo___jh_gpl_jp__-_09_05_20_15_15_05.png?w=941" alt="" class="wp-image-5897"></figure>



<p>囲ってある部分が、Jetpackで変化があった部分ですが、レンダリング開始秒までは、Jetpack使用後もさほど代わりがありません。<s>まだこの時は</s>、最初のindex相当の部分は、CDN上ではないようです。JetpackでCDNになるのは、WordPress 共通で使うjquery.jsだったりの部分です。<br>※追記　ファーストアクセスの部分（上記でいえば、index相当の部分）は仕組み上CDNからのアクセスにはならないと思います。</p>



<figure class="wp-block-image size-large"><img decoding="async" src="/wp-content/uploads/2020/09/jetpack_e280b9junkhack_e28094_wordpress.png?w=1024" alt="" class="wp-image-5899"></figure>



<p>設定はこのようにしています。もうちょっと様子見してみますか。あー、なんで画像が計測結果に出てないかわかりました！</p>



<figure class="wp-block-image size-large"><img decoding="async" src="/wp-content/uploads/2020/09/webpagetest_screenshots_-_tokyo___jh_gpl_jp__-_09_05_20_15_15_05.png?w=601" alt="" class="wp-image-5901"></figure>



<p>上記２つの計測結果には、画像がまだエリア内に表示されていないので表示されなかったみたいです。</p>



<p>違うページを計測してみたら、以下のように画像URLが変わっていました。</p>



<pre class="wp-block-code"><code>https:&#047;&#047;i0.wp.com/jh.gpl.jp/wp-content/uploads/2020/08/e8b2bce3828ae4bb98e38191e3819fe794bbe5838f_2020_08_24_1_04.png?resize=496%2C1080</code></pre>



<p id="block-f04e738f-bf26-47c7-a10f-a8ef7debe8e1">あーなるほどね。とりあえず、Jetpack入れて様子見してみます。</p>



<p>WPのcdnから配信された画像データと、オリジナルのファイルサイズを比較してみると以下のように半分くらいになっています。</p>



<pre class="wp-block-code"><code>$ ll
：：
-rw-r--r--@  1 junkhack  staff  776994  9  5 21:20 org.png
-rw-r--r--@  1 junkhack  staff  281594  9  5 21:19 wpcdn.png</code></pre>



<p>綺麗な画像で見せたい場合は、CDNから配信しないのがいいですね。ここで見せる画像なんかは、特にこだわりはないので問題ありませんが。</p>



<p></p>
					</div>
<!-- .entry-content -->

			<footer class="entry-footer">
							
			</footer><!-- .entry-footer -->
		</div>
<!-- .entry-wrapper -->
</article><!-- #post-## -->

			
				
<article id="post-5812" class="post-5812 post type-post status-publish format-standard hentry category-blog category-osx">
	<div class="entry-wrapper">



		<header class="entry-header">
					<span class="entry-format theme-genericon"></span>
	
			<div class="entry-meta">
				<span class="posted-on">投稿日: <a href="/2020/09/01/%e5%82%99%e5%bf%98%e9%8c%b2%ef%bc%9amacos%e3%81%ae%e9%9d%99%e7%9a%84%e3%83%ab%e3%83%bc%e3%83%88%e3%81%ae%e8%bf%bd%e5%8a%a0/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2020-09-01T22:49:00+09:00">2020年9月1日</time></a> </span><span class="posted-on">更新日:2020年9月1日</span> <span class="categories">  <a href="/category/blog-n/blog/" rel="category tag noopener noreferrer" data-wpel-link="internal">Blog</a>, <a href="/category/osx/" rel="category tag noopener noreferrer" data-wpel-link="internal">osx</a></span>			</div>
<!-- .entry-meta -->

							<h1 class="entry-title"><a href="/2020/09/01/%e5%82%99%e5%bf%98%e9%8c%b2%ef%bc%9amacos%e3%81%ae%e9%9d%99%e7%9a%84%e3%83%ab%e3%83%bc%e3%83%88%e3%81%ae%e8%bf%bd%e5%8a%a0/" rel="bookmark noopener noreferrer" data-wpel-link="internal">備忘録：macosの静的ルートの追加</a></h1>					</header><!-- .entry-header -->

		<div class="entry-content">
			<p>いつも忘れてしまうので、メモしておくことに。Linuxとは、少し違い永続的な設定方法は専用コマンドがあります。networksetup コマンドです。</p>
<h4>・ネットワークデバイス名の一覧</h4>
<pre>$ networksetup -listallnetworkservices
An asterisk (*) denotes that a network service is disabled.
Built-in Serial Port (1)
Ethernet
iPhone USB
Wi-Fi
Bluetooth PAN</pre>
<h4>・ネットワークデバイスの情報</h4>
<pre>$ networksetup -getinfo Ethernet
DHCP Configuration
IP address: 192.168.1.26
Subnet mask: 255.255.255.0
Router: 192.168.1.1
Client ID: 
IPv6: Automatic
IPv6 IP address: none
IPv6 Router: none
Ethernet Address: 90:2b:34:d0:02:80</pre>
<h4>・静的経路の追加と削除</h4>
<p>永続的に追加。この例では、124.41.83.243/32 あては、192.168.1.38 へ送ります。</p>
<pre>$ sudo networksetup -setadditionalroutes Ethernet 124.41.83.243 255.255.255.255 192.168.1.38</pre>
<p>削除。何もパラメータに設定しないと消えます。</p>
<pre>$ sudo networksetup -setadditionalroutes Ethernet
There are no additional IPv4 routes on Ethernet.</pre>
<p>再起動すると消えますが一時的に設定したい場合</p>
<pre>sudo route -n add 124.41.83.243/32 192.168.1.38</pre>
<p>削除は</p>
<pre>sudo route -n delete 124.41.83.243/32</pre>
<h4>・確認</h4>
<pre>$ networksetup -getadditionalroutes Ethernet
124.41.83.243 255.255.255.255 192.168.1.38</pre>
<p>または、</p>
<pre>$ netstat -rn
Routing tables

Internet:
Destination        Gateway            Flags        Refs      Use   Netif Expire
default            192.168.1.1        UGSc           67        5     en0
124.41.83.243      192.168.1.38       UGHS            0        0     en0
::</pre>
					</div>
<!-- .entry-content -->

			<footer class="entry-footer">
							
			</footer><!-- .entry-footer -->
		</div>
<!-- .entry-wrapper -->
</article><!-- #post-## -->

			
				
<article id="post-5823" class="post-5823 post type-post status-publish format-standard hentry category-blog category-linux">
	<div class="entry-wrapper">



		<header class="entry-header">
					<span class="entry-format theme-genericon"></span>
	
			<div class="entry-meta">
				<span class="posted-on">投稿日: <a href="/2020/09/01/termux%e3%81%aeapache2phpmariadb%e3%81%ae%e3%83%81%e3%83%a5%e3%83%bc%e3%83%8b%e3%83%b3%e3%82%b0%e5%89%8d%e3%81%aewordpress%e3%81%ae%e9%80%9f%e5%ba%a6%e3%81%a8%e3%81%8b/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2020-09-01T02:59:00+09:00">2020年9月1日</time></a> </span><span class="posted-on">更新日:2020年9月1日</span> <span class="categories">  <a href="/category/blog-n/blog/" rel="category tag noopener noreferrer" data-wpel-link="internal">Blog</a>, <a href="/category/linux/" rel="category tag noopener noreferrer" data-wpel-link="internal">Linux</a></span>			</div>
<!-- .entry-meta -->

							<h1 class="entry-title"><a href="/2020/09/01/termux%e3%81%aeapache2phpmariadb%e3%81%ae%e3%83%81%e3%83%a5%e3%83%bc%e3%83%8b%e3%83%b3%e3%82%b0%e5%89%8d%e3%81%aewordpress%e3%81%ae%e9%80%9f%e5%ba%a6%e3%81%a8%e3%81%8b/" rel="bookmark noopener noreferrer" data-wpel-link="internal">Termuxのapache2+php+mariadbのチューニング前のwordpressの速度とか</a></h1>					</header><!-- .entry-header -->

		<div class="entry-content">
			<p>さて、今回はメモ程度ですが スマホUMIDIGI F2に、termuxでapache2とphp7とmariadb10を入れた環境にWordPress代替えのClassicPressを入れて動作させてみました。いろいろ課題が見えて来たのでメモしておきます。まずは、どのくらいの速度で表示されるか、視覚的に見ると以下になります。約1.8秒です。</p>
<p><a href="https://www.webpagetest.org/video/view.php?id=200830_1626d4ffcc3e1d952ebf3b69ec30500fd1e9dd6a" target="_blank" rel="noopener noreferrer external" class="broken_link" data-wpel-link="external"><img decoding="async" class=" size-full wp-image-5848 aligncenter" src="/wp-content/uploads/2020/08/webpagetest_-_visual_comparison_-_aug_31__2020___jh_gpl_jp_-1.png" alt="WebPageTest_-_Visual_Comparison_-_Aug_31__2020___jh_gpl_jp_" width="405" height="329"></a></p>
<p>&nbsp;</p>
<p>これは、後ほど出て来ますが　https://www.webpagetest.org/　でのテスト結果です。ちょっと遅いですよね。まぁ、しかしスマホで動作していると思えば十分に速いかもしれません。</p>
<p>まだ設定は未調整ですがhttp接続（SSLじゃない80接続）でのベンチマークです。コマンドラインでのapache ab　テストもやってみました。同時に100ユーザが、1ユーザーあたり10リクエストを発行した場合を想定しています。これは、一般的なhtmlアクセスに対するjsやcssや画像のアクセスかなと思います。まぁ、このブログはそんな人気じゃないので同時に10人くらいのアクセスで十分かもですがw</p>
<p>サーバ側の状態は、ClassicPressをデフォルトで入れた状態です。テーマは、ClassicPressのTwentySixteenです。画像は出ない状態で全部テキストです。htmlやcssやjsやfontなど全部で、278 KBです。</p>
<p>まず、ローカルのリモート（macos）から。</p>
<blockquote>
<p class="p1"><span class="s1">$ ab -n 1000 -c 100 http://192.168.1.38:8080/</span></p>
</blockquote>
<pre>Server Software:        Apache/2.4.46
Server Hostname:        192.168.1.38
Server Port:            8080

Document Path:          /
Document Length:        15825 bytes

Concurrency Level:      100
Time taken for tests:   <strong><span style="color:#ff0000;">78.390</span></strong> seconds
Complete requests:      1000
Failed requests:        <strong><span style="color:#ff0000;">0</span></strong>
Total transferred:      16123000 bytes
HTML transferred:       15825000 bytes
Requests per second:    <strong><span style="color:#ff0000;">12.76</span></strong> [#/sec] (mean)
Time per request:       7839.037 [ms] (mean)
Time per request:       78.390 [ms] (mean, across all concurrent requests)
Transfer rate:          200.86 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        1    4  15.5      1     410
Processing:   490 7663 5599.2   6405   30174
Waiting:      461 7317 5486.8   5962   30109
Total:        494 7667 5599.1   6407   30175

Percentage of the requests served within a certain time (ms)
  50%   6407
  66%   7733
  75%   9622
  80%  10952
  90%  16804
  95%  19520
  98%  24822
  99%  26571
 100%  30175 (longest request)</pre>
<p>次は、GCPの東京リージョンからです。この経路は80←→8080にポート転送していますが、その差は感じない程度ですね。termux は、80ポートや443ポートでは運用できない制限がありますので、ルータで変換します。</p>
<blockquote>
<p class="p1"><span class="s1">$ ab -n 1000 -c 100 http://jh.gpl.jp/</span></p>
</blockquote>
<pre>Server Software: Apache/2.4.46
Server Hostname: jh.gpl.jp
Server Port: 80

Document Path: /
Document Length: 15742 bytes

Concurrency Level: 100
Time taken for tests: <strong><span style="color:#ff0000;">78.813</span></strong> seconds
Complete requests: 1000
Failed requests: <strong><span style="color:#ff0000;">0</span></strong>
Total transferred: 16040000 bytes
HTML transferred: 15742000 bytes
Requests per second: <span style="color:#ff0000;"><strong>12.69</strong></span> [#/sec] (mean)
Time per request: 7881.291 [ms] (mean)
Time per request: 78.813 [ms] (mean, across all concurrent requests)
Transfer rate: 198.75 [Kbytes/sec] received

Connection Times (ms)
min mean[+/-sd] median max
Connect: 21 190 525.8 51 3058
Processing: 707 7470 4143.1 7264 22358
Waiting: 605 7100 4070.2 6790 22218
Total: 804 7661 4221.0 7341 22409

Percentage of the requests served within a certain time (ms)
50% 7341
66% 8008
75% 8490
80% 9059
90% 14244
95% 16246
98% 20310
99% 21250
100% 22409 (longest request)</pre>
<p>次はtermuxが動作しているローカルからです。</p>
<blockquote>
<p class="p1"><span class="s1">$ ab -n 1000 -c 100 http://192.168.1.38:8080/</span></p>
</blockquote>
<pre>Server Software: Apache/2.4.46
Server Hostname: 192.168.1.38
Server Port: 8080

Document Path: /
Document Length: 15825 bytes

Concurrency Level: 100
Time taken for tests: <strong><span style="color:#ff0000;">77.274</span></strong> seconds
Complete requests: 1000
Failed requests: <strong><span style="color:#ff0000;">0</span></strong>
Total transferred: 16123000 bytes
HTML transferred: 15825000 bytes
Requests per second: <strong><span style="color:#ff0000;">12.94</span></strong> [#/sec] (mean)
Time per request: 7727.448 [ms] (mean)
Time per request: 77.274 [ms] (mean, across all concurrent requests)
Transfer rate: 203.76 [Kbytes/sec] received

Connection Times (ms)
min mean[+/-sd] median max
Connect: 1 1428 791.4 1531 3535
Processing: 562 6046 2311.5 5785 16840
Waiting: 515 4357 2249.9 3816 16085
Total: 649 7474 2189.4 7356 17166

Percentage of the requests served within a certain time (ms)
50% 7356
66% 8082
75% 8376
80% 8620
90% 9861
95% 11707
98% 12754
99% 13209
100% 17166 (longest request)</pre>
<p>ちなみに、ローカルのリモート（macos）からしか試していませんが、スマホの接続をWiFi接続を5Ghzではなく、2.4Ghzで接続した場合は以下でした。これ有線だとどうなるんでしょうかね。type-c と有線イーサネットは１つありますが、繋げても接続できなかったのでまだテストしていません。</p>
<pre>Server Software: Apache/2.4.46
Server Hostname: 192.168.1.38
Server Port: 8080

Document Path: /
Document Length: 15825 bytes

Concurrency Level: 100
Time taken for tests: <span style="color:#ff0000;"><strong>84.280</strong></span> seconds
Complete requests: 1000
Failed requests: <strong><span style="color:#ff0000;">0</span></strong>
Total transferred: 16123000 bytes
HTML transferred: 15825000 bytes
Requests per second: <strong><span style="color:#ff0000;">11.87</span></strong> [#/sec] (mean)
Time per request: 8427.984 [ms] (mean)
Time per request: 84.280 [ms] (mean, across all concurrent requests)
Transfer rate: 186.82 [Kbytes/sec] received

Connection Times (ms)
min mean[+/-sd] median max
Connect: 1 11 13.3 5 135
Processing: 491 7692 4699.6 7107 25513
Waiting: 443 7301 4611.2 6657 25511
Total: 493 7703 4700.0 7139 25514

Percentage of the requests served within a certain time (ms)
50% 7139
66% 8172
75% 9108
80% 10369
90% 14578
95% 18137
98% 20897
99% 22101
100% 25514 (longest request)</pre>
<p>多少、劣るようですがそこまで気にしなくてもいいかもです。</p>
<p>それよりも、最初のhtmlのロードが長いです。以下は一番最初のビデオの状態を詳細にみた結果です。まだ圧縮転送やキャッシュは効かせていませんが、マシン性能が出る部分ですかね。ちょっと遅いです。NGINXだともう少し速くなるかもですので、また試してみたいと思います。</p>
<p><img decoding="async" class="alignnone size-full wp-image-5832" src="/wp-content/uploads/2020/08/e8b2bce3828ae4bb98e38191e3819fe794bbe5838f_2020_08_31_1_41.png" alt="貼り付けた画像_2020_08_31_1_41" width="977" height="1047"></p>
<p>このWEBページのindex相当になるファイルはサイズ、15kb程度です。例えば、phpinfoのページを読んだ結果は以下です。このページは、82.0 KBありますが、0.4秒で終わっています。</p>
<p><img loading="lazy" decoding="async" class="alignnone size-full wp-image-5833" src="/wp-content/uploads/2020/08/webpagetest_test_details_-_tokyo___jh_gpl_jp_info_php_-_08_31_20_01_45_34.png" alt="WebPageTest_Test_Details_-_Tokyo___jh_gpl_jp_info_php_-_08_31_20_01_45_34" width="970" height="831"></p>
<p>つまり、mariadbにアクセスしたりphpでのwordpressの処理時間がかかっているから遅くなっているということになりますね。</p>
<p>例えば、これは以前検討していたマシンでの結果ですが、htmlのロードは0.2秒以内に終わっています。UnixBenchが7000近く出るマシンでネットワークもIPv4→IPv6トンネルなので、比較するとあれですが、どこまで近づけるかですね。</p>
<p><img loading="lazy" decoding="async" class="alignnone size-full wp-image-5835" src="/wp-content/uploads/2020/08/webpagetest_test_details_-_tokyo___hoge_gpl_jp_-_03_16_20_02_24_59.png" alt="WebPageTest_Test_Details_-_Tokyo___hoge_gpl_jp_-_03_16_20_02_24_59" width="950" height="925"></p>
<p>まぁ、速度的なことより困っていることがあります。それは、ローカルのマシンから、termux上で動作しているwordpressにグローバルIPでアクセスできないことです。この場合、ルータの管理画面にアクセスしちゃうんで、どうしようかなと。こういうのなんていうんでしたっけか？　とにかく、今の拠点のルータ（PR-400KI）は、内側ネットワークから外側のグローバルアドレスにアクセスしたものを、変換（最終的にサーバのプライベートアドレスに変換）してくれないのです。</p>
<p>プライベートアドレスだと、wordpressの設定で、グローバルのIPがマッピングされているドメイン名の設定になっているので（ルータで80と8080をポート転送してwordpressを運用）、リダイレクトされてアクセスできないんですよね。これはwordpress の仕様みたいなので回避不可能かなと。なんか言葉で書くとわかりにくいですね。今度、時間があるときに図解で問題点を明確にしたいです。</p>
<p>今の所、２案あります。１つは、マルチセッションを貼って違う光プロバイダーからアクセスさせる方法。もう一つは、リバースプロキシを経由させる方法です。</p>
<p>スマホで非ルートで動かすtermux は、IPテーブルとかルーティングとかいじれないので工夫が必要ですね。</p>
<p>ネットワークはあんまり得意じゃないんで、もっといい解決方法があるかもしれませんが。</p>
					</div>
<!-- .entry-content -->

			<footer class="entry-footer">
							
			</footer><!-- .entry-footer -->
		</div>
<!-- .entry-wrapper -->
</article><!-- #post-## -->

			
				
<article id="post-5786" class="post-5786 post type-post status-publish format-standard has-post-thumbnail hentry category-blog category-linux">
	<div class="entry-wrapper">



		<header class="entry-header">
					<span class="entry-format theme-genericon"></span>
	
			<div class="entry-meta">
				<span class="posted-on">投稿日: <a href="/2020/08/29/redminote9sunixbench/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published" datetime="2020-08-29T01:01:07+09:00">2020年8月29日</time><time class="updated" datetime="2022-05-06T16:55:11+09:00">2022年5月6日</time></a> </span><span class="posted-on">更新日:2022年5月6日</span> <span class="categories">  <a href="/category/blog-n/blog/" rel="category tag noopener noreferrer" data-wpel-link="internal">Blog</a>, <a href="/category/linux/" rel="category tag noopener noreferrer" data-wpel-link="internal">Linux</a></span>			</div>
<!-- .entry-meta -->

							<h1 class="entry-title"><a href="/2020/08/29/redminote9sunixbench/" rel="bookmark noopener noreferrer" data-wpel-link="internal">衝撃価格7500円でゲットしたRedmi Note 9SにLinux入れてUnixBenchを計測</a></h1>					</header><!-- .entry-header -->

		<div class="entry-content">
			<p>いやー、もう８月も終わりに近づてきましたね〜！<br>
皆さんはどっか行きましたか？　自分はお盆休みもバイクをモリワキカラーに塗っていましたよ。どこにも行ってないので、そろそろプチ旅行したいです。バイクに乗りたいですね。</p>
<p>さて、今回はOCNモバイルONEの乗り換えキャンペーンで激安7500円で新品本体をゲットしましたRedmi Note 9S にUnixBechを走らせてみたいと思います。<br>
AndroidスマホなのにLinux上で走るUnixBenchをどうやって動かすってことですが、これは、TermuxというAndroidターミナルエミュレーター＋Linux環境構築アプリがあります。この環境で、UnixBenchをビルドしてスコアを計測してみました。antutuは２８万くらいらしいのですが、UnixBenchはどのくらい出るでしょうか。ちなみに、UmidigiF2は、<a href="/2020/08/24/android%e3%82%b9%e3%83%9e%e3%83%9b%e3%81%abcentos%e3%81%a8%e3%81%8bubuntu%e3%81%a8%e3%81%8b%e5%85%a5%e3%82%8c%e3%81%a6%e6%b4%bb%e7%94%a8%e3%81%a7%e3%81%8d%e3%82%8b%e3%81%8b%e6%a4%9c%e8%a8%8e%e3%81%97/" target="_blank" rel="noopener noreferrer" data-wpel-link="internal">前回</a></p>
<blockquote><p>シングルCPU・・・スコア406.2<br>
8CPU・・・・・・スコア1312.3</p></blockquote>
<p>のスコアが出ました。<br>
まだシステムのアップデートする前なんで、少しkernelバージョンは変わるかもしれませんが、計測時のスマホの状態を貼っておきます。Redmi Note 9Sは、CPUがUmidigiF2よりも速いので、1500くらいのスコアが出るかもなーと思っていますが、さてどのくらいになるでしょうか？</p>
<p><img loading="lazy" decoding="async" class="alignnone size-full wp-image-5791" src="/wp-content/uploads/2020/08/e8b2bce3828ae4bb98e38191e3819fe794bbe5838f_2020_08_28_22_39.png" alt="貼り付けた画像_2020_08_28_22_39" width="864" height="1920"></p>
<p>まぁ、前置きが長かったのですが、やってることは大したことはないです。まずはGoogleStoreから、以下のアプリを入れておきます。これなんて読むんですかね？　たーむゆーえっくす　とか、たーむっくす　とかかな？</p>
<p><a href="https://play.google.com/store/apps/details?id=com.termux&amp;hl=ja" target="_blank" rel="noopener noreferrer external" data-wpel-link="external"><img loading="lazy" decoding="async" class="alignnone size-full wp-image-5793" src="/wp-content/uploads/2020/08/termux_-_google_play_e381aee382a2e38395e3829ae383aa.png" alt="Termux_-_Google_Play_のアプリ" width="690" height="558"></a></p>
<p>openssh を入れてリモートから作業します。スマホ画面では、最低限以下を入れて起動しておきます。</p>
<blockquote><p>pkg install openssh -y &amp;&amp; sshd</p></blockquote>
<p>WiFi アドレスを確認しておきます。</p>
<blockquote><p>ip a | more<br>
または、<br>
<span class="s1">ip a | grep inet | grep wlan<br>
もっとズバリIPだけ取り出したい場合は、<br>
</span><span class="s1">ip -4 a | grep inet | grep wlan0 | grep -oP &#8216;[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+(?=\/)&#8217;</span></p></blockquote>
<p>鍵作るなり、パスワード設定するなりしてリモートからログインします。今回は、passwd　してパスワード認証でリモートログイン。</p>
<blockquote>
<p class="p1"><span class="s1">ssh 192.168.xxx.xxx -p 8022</span></p>
</blockquote>
<p>デフォルトsshポートは、8022　です。では、UnixBenchのビルドに必要なツールを入れましょう。</p>
<blockquote>
<p class="p1"><span class="s1">pkg install vim wget clang make perl git pkg-config -y</span></p>
</blockquote>
<p>あとは前回と同様、Makefileを少し修正して　./Run　です。</p>
<blockquote><p>git clone <a href="https://github.com/kdlucas/byte-unixbench" rel="nofollow external noopener noreferrer" data-wpel-link="external" target="_blank" class="wpel-icon-right">https://github.com/kdlucas/byte-unixbench<span class="wpel-icon wpel-image wpel-icon-1"></span></a><br>
cd byte-unixbench/UnixBench<br>
cp -p Makefile Makefile.org<br>
vi Makefile<br>
※以下部分を削除してね。（-march=native）</p></blockquote>
<blockquote>
<pre>$ diff -u Makefile.org Makefile
--- Makefile.org	2020-08-28 23:39:45.550203419 +0900
+++ Makefile	2020-08-28 23:40:56.800203392 +0900
@@ -95,7 +95,7 @@
     #   - Supported    : x86, x86_64, ARM, AARCH64, etc..
     #   - Not Supported: RISC-V, IBM Power, etc...
     ifneq ($(ARCH),$(filter $(ARCH),ppc64 ppc64le))
-        OPTON += -march=native -mtune=native
+        OPTON += -mtune=native
     else
         OPTON += -mcpu=native -mtune=native
     endif</pre>
</blockquote>
<blockquote><p>./Run<br>
::</p></blockquote>
<p>金曜の夜は眠いです、、、寝そうになりましたがベンチマークが終わったので貼り付け。</p>
<p>CPU:Qualcomm Snapdragon 720G<br>
Hardware : Qualcomm Technologies, Inc SM7125</p>
<blockquote>
<pre>========================================================================
   BYTE UNIX Benchmarks (Version 5.1.3)

   System: localhost: Android
   OS: Android -- 4.14.117-perf-g2d34faf -- #1 SMP PREEMPT Wed May 13 01:02:15 CST 2020
   Machine: aarch64 (unknown)
   Language: en_US.utf8 (charmap=, collate=)
   23:41:17 up 12:11,  load average: 0.00, 0.00, 0.00; runlevel 

------------------------------------------------------------------------
Benchmark Run: Fri Aug 28 2020 23:41:17 - 00:09:22
8 CPUs in system; running 1 parallel copy of tests

Dhrystone 2 using register variables       32061907.1 lps   (10.0 s, 7 samples)
Double-Precision Whetstone                     6143.9 MWIPS (10.0 s, 7 samples)
Execl Throughput                                267.0 lps   (29.9 s, 2 samples)
File Copy 1024 bufsize 2000 maxblocks        630326.5 KBps  (30.0 s, 2 samples)
File Copy 256 bufsize 500 maxblocks          205587.3 KBps  (30.0 s, 2 samples)
File Copy 4096 bufsize 8000 maxblocks       1214283.1 KBps  (30.0 s, 2 samples)
Pipe Throughput                             1227952.4 lps   (10.0 s, 7 samples)
Pipe-based Context Switching                 105358.2 lps   (10.0 s, 7 samples)
Process Creation                                594.4 lps   (30.0 s, 2 samples)
Shell Scripts (1 concurrent)                   1306.7 lpm   (60.0 s, 2 samples)
Shell Scripts (8 concurrent)                    311.0 lpm   (60.1 s, 2 samples)
System Call Overhead                        1131049.8 lps   (10.0 s, 7 samples)

System Benchmarks Index Values               BASELINE       RESULT    INDEX
Dhrystone 2 using register variables         116700.0   32061907.1   2747.4
Double-Precision Whetstone                       55.0       6143.9   1117.1
Execl Throughput                                 43.0        267.0     62.1
File Copy 1024 bufsize 2000 maxblocks          3960.0     630326.5   1591.7
File Copy 256 bufsize 500 maxblocks            1655.0     205587.3   1242.2
File Copy 4096 bufsize 8000 maxblocks          5800.0    1214283.1   2093.6
Pipe Throughput                               12440.0    1227952.4    987.1
Pipe-based Context Switching                   4000.0     105358.2    263.4
Process Creation                                126.0        594.4     47.2
Shell Scripts (1 concurrent)                     42.4       1306.7    308.2
Shell Scripts (8 concurrent)                      6.0        311.0    518.3
System Call Overhead                          15000.0    1131049.8    754.0
                                                                   ========
System Benchmarks Index Score                                         569.6

------------------------------------------------------------------------
Benchmark Run: Sat Aug 29 2020 00:09:22 - 00:37:59
8 CPUs in system; running 8 parallel copies of tests

Dhrystone 2 using register variables      120620219.0 lps   (10.0 s, 7 samples)
Double-Precision Whetstone                    26336.2 MWIPS (9.5 s, 7 samples)
Execl Throughput                               1110.7 lps   (29.9 s, 2 samples)
File Copy 1024 bufsize 2000 maxblocks        588338.4 KBps  (30.0 s, 2 samples)
File Copy 256 bufsize 500 maxblocks          181982.1 KBps  (30.0 s, 2 samples)
File Copy 4096 bufsize 8000 maxblocks       1457866.0 KBps  (30.0 s, 2 samples)
Pipe Throughput                             4512922.8 lps   (10.0 s, 7 samples)
Pipe-based Context Switching                 160612.9 lps   (10.0 s, 7 samples)
Process Creation                                947.0 lps   (30.1 s, 2 samples)
Shell Scripts (1 concurrent)                   2990.6 lpm   (60.1 s, 2 samples)
Shell Scripts (8 concurrent)                    399.8 lpm   (60.5 s, 2 samples)
System Call Overhead                        3946715.9 lps   (10.0 s, 7 samples)

System Benchmarks Index Values               BASELINE       RESULT    INDEX
Dhrystone 2 using register variables         116700.0  120620219.0  10335.9
Double-Precision Whetstone                       55.0      26336.2   4788.4
Execl Throughput                                 43.0       1110.7    258.3
File Copy 1024 bufsize 2000 maxblocks          3960.0     588338.4   1485.7
File Copy 256 bufsize 500 maxblocks            1655.0     181982.1   1099.6
File Copy 4096 bufsize 8000 maxblocks          5800.0    1457866.0   2513.6
Pipe Throughput                               12440.0    4512922.8   3627.8
Pipe-based Context Switching                   4000.0     160612.9    401.5
Process Creation                                126.0        947.0     75.2
Shell Scripts (1 concurrent)                     42.4       2990.6    705.3
Shell Scripts (8 concurrent)                      6.0        399.8    666.3
System Call Overhead                          15000.0    3946715.9   2631.1
                                                                   ========
System Benchmarks Index Score                                        1177.5</pre>
</blockquote>
<p>シングル性能では、UmidigiF2より上ですが、マルチCPUは下ですね。</p>
<blockquote><p>シングルCPU・・・スコア569.6<br>
8CPU・・・・・・スコア1177.5</p></blockquote>
<p>特に、プロセスのフォーク処理（Process Creation）とか、シェル関連とか、パイプ処理（Pipe-based Context Switching）が半分くらい遅いですね。なんでこんなに遅いのでしょうか？　システムバージョンアップして、また計測してみます。</p>
<p><img loading="lazy" decoding="async" class="alignnone size-full wp-image-5800" src="/wp-content/uploads/2020/08/e8b2bce3828ae4bb98e38191e3819fe794bbe5838f_2020_08_29_0_57.png" alt="貼り付けた画像_2020_08_29_0_57" width="864" height="1920"></p>
<p>再起動後の情報です。</p>
<p><img loading="lazy" decoding="async" class="alignnone size-full wp-image-5804" src="/wp-content/uploads/2020/08/e8b2bce3828ae4bb98e38191e3819fe794bbe5838f_2020_08_29_1_06.png" alt="貼り付けた画像_2020_08_29_1_06" width="864" height="1920"></p>
<p>Kernelの末尾の番号だけ微妙に変わっていますが、メジャー・マイナー・メンテナンスの番号は変わらずですね。4.14.117です。UmidigiF2は、4.14.141+で新しいですね。</p>
<p>結果が出たら貼り付けておきます。今日はもうねるー！　UmidigiF2　のCPU、MediaTek Helio P70もなかなか良いのかもね。</p>
<p>追記。翌日ベンチマークが終わっていたので貼り付けておきます。誤差の範囲でほぼ同じ結果でした。今回もやはり、プロセスのフォーク処理（Process Creation）とか、シェル関連とか、パイプ処理（Pipe-based Context Switching）がUmidigiF2と比べて半分くらい遅い結果となりました。何かKernelかOS設定で制限があるのかもですね。ファイルコピーなんかは倍くらいRedmeNote9sが速いですが。</p>
<p>CPUやストレージが速ければ全部のスコアが上がるというわけはないということですね。</p>
<blockquote><p>シングルCPU・・・スコア571.9<br>
8CPU・・・・・・スコア1127.1</p></blockquote>
<p>ちなみに、UnixBenchのパイプ処理に使うバイナリのヘッダ情報も乗せておきます。ちゃんと64bitでビルドされていますね。Termux、なかなかいいんじゃないでしょうか。</p>
<blockquote><p>$ readelf -h ./spawn<br>
ELF Header:<br>
Magic: 7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00<br>
Class: ELF64<br>
Data: 2&#8217;s complement, little endian<br>
Version: 1 (current)<br>
OS/ABI: UNIX &#8211; System V<br>
ABI Version: 0<br>
Type: DYN (Shared object file)<br>
Machine: AArch64<br>
Version: 0x1<br>
Entry point address: 0x760<br>
Start of program headers: 64 (bytes into file)<br>
Start of section headers: 7184 (bytes into file)<br>
Flags: 0x0<br>
Size of this header: 64 (bytes)<br>
Size of program headers: 56 (bytes)<br>
Number of program headers: 8<br>
Size of section headers: 64 (bytes)<br>
Number of section headers: 24<br>
Section header string table index: 23</p></blockquote>
<p>ということで、次回はUmidigiF2にWordPressが動く環境を作ってテストしてみたいですね。</p>
<pre>   BYTE UNIX Benchmarks (Version 5.1.3)

   System: localhost: Android
   OS: Android -- 4.14.117-perf-g638d6a0 -- #1 SMP PREEMPT Fri Jun 19 01:24:32 CST 2020
   Machine: aarch64 (unknown)
   Language: en_US.utf8 (charmap=, collate=)
   01:18:25 up 17 min,  load average: 0.55, 1.10, 1.44; runlevel 

------------------------------------------------------------------------
Benchmark Run: Sat Aug 29 2020 01:18:25 - 01:46:30
8 CPUs in system; running 1 parallel copy of tests

Dhrystone 2 using register variables       32007008.4 lps   (10.0 s, 7 samples)
Double-Precision Whetstone                     6140.3 MWIPS (10.0 s, 7 samples)
Execl Throughput                                261.7 lps   (29.9 s, 2 samples)
File Copy 1024 bufsize 2000 maxblocks        628988.7 KBps  (30.0 s, 2 samples)
File Copy 256 bufsize 500 maxblocks          207751.6 KBps  (30.0 s, 2 samples)
File Copy 4096 bufsize 8000 maxblocks       1478525.0 KBps  (30.0 s, 2 samples)
Pipe Throughput                             1164727.3 lps   (10.0 s, 7 samples)
Pipe-based Context Switching                  99925.0 lps   (10.0 s, 7 samples)
Process Creation                                587.5 lps   (30.0 s, 2 samples)
Shell Scripts (1 concurrent)                   1284.4 lpm   (60.0 s, 2 samples)
Shell Scripts (8 concurrent)                    312.1 lpm   (60.2 s, 2 samples)
System Call Overhead                        1127699.3 lps   (10.0 s, 7 samples)

System Benchmarks Index Values               BASELINE       RESULT    INDEX
Dhrystone 2 using register variables         116700.0   32007008.4   2742.7
Double-Precision Whetstone                       55.0       6140.3   1116.4
Execl Throughput                                 43.0        261.7     60.9
File Copy 1024 bufsize 2000 maxblocks          3960.0     628988.7   1588.4
File Copy 256 bufsize 500 maxblocks            1655.0     207751.6   1255.3
File Copy 4096 bufsize 8000 maxblocks          5800.0    1478525.0   2549.2
Pipe Throughput                               12440.0    1164727.3    936.3
Pipe-based Context Switching                   4000.0      99925.0    249.8
Process Creation                                126.0        587.5     46.6
Shell Scripts (1 concurrent)                     42.4       1284.4    302.9
Shell Scripts (8 concurrent)                      6.0        312.1    520.1
System Call Overhead                          15000.0    1127699.3    751.8
                                                                   ========
System Benchmarks Index Score                                         571.9

------------------------------------------------------------------------
Benchmark Run: Sat Aug 29 2020 01:46:30 - 02:15:04
8 CPUs in system; running 8 parallel copies of tests

Dhrystone 2 using register variables      122466899.1 lps   (10.0 s, 7 samples)
Double-Precision Whetstone                    26082.3 MWIPS (9.9 s, 7 samples)
Execl Throughput                               1100.0 lps   (29.7 s, 2 samples)
File Copy 1024 bufsize 2000 maxblocks        509969.0 KBps  (30.0 s, 2 samples)
File Copy 256 bufsize 500 maxblocks          147009.9 KBps  (30.0 s, 2 samples)
File Copy 4096 bufsize 8000 maxblocks       1308075.6 KBps  (30.0 s, 2 samples)
Pipe Throughput                             4401030.7 lps   (10.0 s, 7 samples)
Pipe-based Context Switching                 163599.9 lps   (10.0 s, 7 samples)
Process Creation                               1059.8 lps   (30.1 s, 2 samples)
Shell Scripts (1 concurrent)                   2761.2 lpm   (60.1 s, 2 samples)
Shell Scripts (8 concurrent)                    366.4 lpm   (60.8 s, 2 samples)
System Call Overhead                        3964160.3 lps   (10.0 s, 7 samples)

System Benchmarks Index Values               BASELINE       RESULT    INDEX
Dhrystone 2 using register variables         116700.0  122466899.1  10494.2
Double-Precision Whetstone                       55.0      26082.3   4742.2
Execl Throughput                                 43.0       1100.0    255.8
File Copy 1024 bufsize 2000 maxblocks          3960.0     509969.0   1287.8
File Copy 256 bufsize 500 maxblocks            1655.0     147009.9    888.3
File Copy 4096 bufsize 8000 maxblocks          5800.0    1308075.6   2255.3
Pipe Throughput                               12440.0    4401030.7   3537.8
Pipe-based Context Switching                   4000.0     163599.9    409.0
Process Creation                                126.0       1059.8     84.1
Shell Scripts (1 concurrent)                     42.4       2761.2    651.2
Shell Scripts (8 concurrent)                      6.0        366.4    610.7
System Call Overhead                          15000.0    3964160.3   2642.8
                                                                   ========
System Benchmarks Index Score                                        1127.1</pre>
					</div>
<!-- .entry-content -->

			<footer class="entry-footer">
							
			</footer><!-- .entry-footer -->
		</div>
<!-- .entry-wrapper -->
</article><!-- #post-## -->

			
				
<article id="post-5747" class="post-5747 post type-post status-publish format-standard hentry category-android category-blog category-linux category-wordpress">
	<div class="entry-wrapper">



		<header class="entry-header">
					<span class="entry-format theme-genericon"></span>
	
			<div class="entry-meta">
				<span class="posted-on">投稿日: <a href="/2020/08/24/android%e3%82%b9%e3%83%9e%e3%83%9b%e3%81%abcentos%e3%81%a8%e3%81%8bubuntu%e3%81%a8%e3%81%8b%e5%85%a5%e3%82%8c%e3%81%a6%e6%b4%bb%e7%94%a8%e3%81%a7%e3%81%8d%e3%82%8b%e3%81%8b%e6%a4%9c%e8%a8%8e%e3%81%97/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2020-08-24T02:32:38+09:00">2020年8月24日</time></a> </span><span class="posted-on">更新日:2020年8月24日</span> <span class="categories">  <a href="/category/android/" rel="category tag noopener noreferrer" data-wpel-link="internal">Android</a>, <a href="/category/blog-n/blog/" rel="category tag noopener noreferrer" data-wpel-link="internal">Blog</a>, <a href="/category/linux/" rel="category tag noopener noreferrer" data-wpel-link="internal">Linux</a>, <a href="/category/wordpress/" rel="category tag noopener noreferrer" data-wpel-link="internal">WordPress</a></span>			</div>
<!-- .entry-meta -->

							<h1 class="entry-title"><a href="/2020/08/24/android%e3%82%b9%e3%83%9e%e3%83%9b%e3%81%abcentos%e3%81%a8%e3%81%8bubuntu%e3%81%a8%e3%81%8b%e5%85%a5%e3%82%8c%e3%81%a6%e6%b4%bb%e7%94%a8%e3%81%a7%e3%81%8d%e3%82%8b%e3%81%8b%e6%a4%9c%e8%a8%8e%e3%81%97/" rel="bookmark noopener noreferrer" data-wpel-link="internal">AndroidスマホにCentOSとかUbuntuとか入れて活用できるか検討してみる</a></h1>					</header><!-- .entry-header -->

		<div class="entry-content">
			<p>このブログの自宅サーバ化計画があるんですが、その候補マシンとして先日（といってもだいぶ前ですが）ThinkCentre M75q-1 Tinyを用意してあります。このマシン、かなり速くて自宅サーバ用途だけに使うのは勿体ないなーなんて思っています。実際、フォートナイト専用マシンとしてめっちゃ遊んでいます。Linuxを入れてもUnixBenchがスコアが6500を超える激速いマシンなんですよね。そこで、ダメ元でと思い最近スマホも変えたことですし、UmidigiF2にCentOSとかFedoraとか入れて使えないかなーって思ったわけです。</p>
<p><img loading="lazy" decoding="async" class=" size-full wp-image-5754 aligncenter" src="/wp-content/uploads/2020/08/e8b2bce3828ae4bb98e38191e3819fe794bbe5838f_2020_08_24_1_04.png" alt="貼り付けた画像_2020_08_24_1_04" width="496" height="1080"></p>
<p>普通、AndroidスマホにLinuxを入れるにはrootを取得してオリジナルなOSをインストールするんですが、カスタムROMを作らないといけないのでメンテナンスが面倒なのとarmプラットフォームなんでマイナーなオープンソースソフトウェアはバイナリがないので、コンパイルしないとだめなんです。まぁ、くそメンドくさいので候補から外していたんですが、最近の事情はもっと気軽に入れられるようでした。上の画像のアプリ、UserLAndとか、Termuxとか、AnLinuxとかがそれです。UserLAndは、それ単体でディストリビューションが組み込めます。</p>
<p><img loading="lazy" decoding="async" class=" size-full wp-image-5756 aligncenter" src="/wp-content/uploads/2020/08/e8b2bce3828ae4bb98e38191e3819fe794bbe5838f_2020_08_24_1_09.png" alt="貼り付けた画像_2020_08_24_1_09" width="496" height="1080"></p>
<p>この環境（UserLAndでUbuntu）で、計測したUnixBenchが以下です。スマートフォンはUmidigiF2です。CPUの型番や認識しているハードウェアは以下となります。</p>
<blockquote><p>CPU MediaTek Helio P70<br>
Hardware : MT6771V/CT</p></blockquote>
<blockquote>
<p>========================================================================<br>
BYTE UNIX Benchmarks (Version 5.1.3)</p>
<p>System: localhost: GNU/Linux<br>
OS: GNU/Linux &#8212; 4.14.141+ &#8212; #1 SMP PREEMPT Wed May 6 10:13:36 CST 2020<br>
Machine: aarch64 (aarch64)<br>
Language: en_US.utf8 (charmap=&#8221;ANSI_X3.4-1968&#8243;, collate=&#8221;ANSI_X3.4-1968&#8243;)<br>
; runlevel</p>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<br>
Benchmark Run: Sat Aug 22 2020 20:54:06 &#8211; 21:22:31<br>
8 CPUs in system; running 1 parallel copy of tests</p>
<p>Dhrystone 2 using register variables 17608983.7 lps (10.0 s, 7 samples)<br>
Double-Precision Whetstone 2700.6 MWIPS (9.9 s, 7 samples)<br>
Execl Throughput 277.4 lps (29.9 s, 2 samples)<br>
File Copy 1024 bufsize 2000 maxblocks 244507.6 KBps (30.0 s, 2 samples)<br>
File Copy 256 bufsize 500 maxblocks 71657.5 KBps (30.0 s, 2 samples)<br>
File Copy 4096 bufsize 8000 maxblocks 676812.1 KBps (30.0 s, 2 samples)<br>
Pipe Throughput 375078.4 lps (10.0 s, 7 samples)<br>
Pipe-based Context Switching 73081.8 lps (10.0 s, 7 samples)<br>
Process Creation 1843.0 lps (30.0 s, 2 samples)<br>
Shell Scripts (1 concurrent) 973.9 lpm (60.0 s, 2 samples)<br>
Shell Scripts (8 concurrent) 237.1 lpm (60.2 s, 2 samples)<br>
System Call Overhead 21729.5 lps (10.0 s, 7 samples)</p>
<p>System Benchmarks Index Values BASELINE RESULT INDEX<br>
Dhrystone 2 using register variables 116700.0 17608983.7 1508.9<br>
Double-Precision Whetstone 55.0 2700.6 491.0<br>
Execl Throughput 43.0 277.4 64.5<br>
File Copy 1024 bufsize 2000 maxblocks 3960.0 244507.6 617.4<br>
File Copy 256 bufsize 500 maxblocks 1655.0 71657.5 433.0<br>
File Copy 4096 bufsize 8000 maxblocks 5800.0 676812.1 1166.9<br>
Pipe Throughput 12440.0 375078.4 301.5<br>
Pipe-based Context Switching 4000.0 73081.8 182.7<br>
Process Creation 126.0 1843.0 146.3<br>
Shell Scripts (1 concurrent) 42.4 973.9 229.7<br>
Shell Scripts (8 concurrent) 6.0 237.1 395.2<br>
System Call Overhead 15000.0 21729.5 14.5<br>
========<br>
System Benchmarks Index Score <strong>271.2</strong></p>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<br>
Benchmark Run: Sat Aug 22 2020 21:22:31 &#8211; 21:51:31<br>
8 CPUs in system; running 8 parallel copies of tests</p>
<p>Dhrystone 2 using register variables 99917960.5 lps (10.0 s, 7 samples)<br>
Double-Precision Whetstone 17134.8 MWIPS (9.5 s, 7 samples)<br>
Execl Throughput 636.2 lps (29.9 s, 2 samples)<br>
File Copy 1024 bufsize 2000 maxblocks 391896.0 KBps (30.0 s, 2 samples)<br>
File Copy 256 bufsize 500 maxblocks 109010.1 KBps (30.0 s, 2 samples)<br>
File Copy 4096 bufsize 8000 maxblocks 1128491.8 KBps (30.0 s, 2 samples)<br>
Pipe Throughput 1996740.3 lps (10.0 s, 7 samples)<br>
Pipe-based Context Switching 274427.3 lps (10.0 s, 7 samples)<br>
Process Creation 5289.1 lps (30.0 s, 2 samples)<br>
Shell Scripts (1 concurrent) 2014.1 lpm (60.3 s, 2 samples)<br>
Shell Scripts (8 concurrent) 291.2 lpm (63.5 s, 2 samples)<br>
System Call Overhead 27627.6 lps (10.1 s, 7 samples)</p>
<p>System Benchmarks Index Values BASELINE RESULT INDEX<br>
Dhrystone 2 using register variables 116700.0 99917960.5 8562.0<br>
Double-Precision Whetstone 55.0 17134.8 3115.4<br>
Execl Throughput 43.0 636.2 148.0<br>
File Copy 1024 bufsize 2000 maxblocks 3960.0 391896.0 989.6<br>
File Copy 256 bufsize 500 maxblocks 1655.0 109010.1 658.7<br>
File Copy 4096 bufsize 8000 maxblocks 5800.0 1128491.8 1945.7<br>
Pipe Throughput 12440.0 1996740.3 1605.1<br>
Pipe-based Context Switching 4000.0 274427.3 686.1<br>
Process Creation 126.0 5289.1 419.8<br>
Shell Scripts (1 concurrent) 42.4 2014.1 475.0<br>
Shell Scripts (8 concurrent) 6.0 291.2 485.3<br>
System Call Overhead 15000.0 27627.6 18.4<br>
========<br>
System Benchmarks Index Score <strong>680.3</strong></p>
</blockquote>
<p>やっぱりchrootしているので、ちょっとオーバーヘットがあるようですね。もっと速いはずなんですが、prootを使っているようなのでその影響でしょうか。prootっていうのは、FreeBSDのjailに似た感じだと思います。これは、ハイパーバイザや準仮想化マシンのようなセキュアなものとは仕組みが違います。</p>
<p>次、Termuxの場合は、以下のようになりました。動かしているスマホは先と同じUmidigiF2です。</p>
<blockquote>
<p>pkg install vim -y<br>
pkg install wget -y<br>
pkg install clang -y<br>
pkg install make -y<br>
pkg install perl -y<br>
pkg install git -y<br>
pkg install pkg-config -y</p>
<p>git clone https://github.com/kdlucas/byte-unixbench<br>
cd byte-unixbench/UnixBench<br>
cp -p Makefile Makefile.org<br>
vi Makefile<br>
※以下部分を削除してね。（-march=native）</p>
</blockquote>
<blockquote><p>$ diff Makefile Makefile.org<br>
98c98<br>
&lt; OPTON += -mtune=native<br>
&#8212;<br>
&gt; OPTON += -march=native -mtune=native</p></blockquote>
<blockquote>
<p>./Run<br>
::</p>
<p>========================================================================<br>
BYTE UNIX Benchmarks (Version 5.1.3)</p>
<p>System: localhost: Android<br>
OS: Android &#8212; 4.14.141+ &#8212; #1 SMP PREEMPT Wed May 6 10:13:36 CST 2020<br>
Machine: aarch64 (unknown)<br>
Language: en_US.utf8 (charmap=, collate=)<br>
21:45:18 up 41 days, 12:17, load average: 26.55, 26.58, 26.57; runlevel</p>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<br>
Benchmark Run: Sun Aug 23 2020 21:45:18 &#8211; 22:13:35<br>
8 CPUs in system; running 1 parallel copy of tests</p>
<p>Dhrystone 2 using register variables 17334020.9 lps (10.0 s, 7 samples)<br>
Double-Precision Whetstone 3658.8 MWIPS (9.9 s, 7 samples)<br>
Execl Throughput 215.1 lps (29.9 s, 2 samples)<br>
File Copy 1024 bufsize 2000 maxblocks 323431.8 KBps (30.0 s, 2 samples)<br>
File Copy 256 bufsize 500 maxblocks 101368.1 KBps (30.0 s, 2 samples)<br>
File Copy 4096 bufsize 8000 maxblocks 845384.2 KBps (30.0 s, 2 samples)<br>
Pipe Throughput 591377.9 lps (10.0 s, 7 samples)<br>
Pipe-based Context Switching 89414.5 lps (10.0 s, 7 samples)<br>
Process Creation 1326.4 lps (30.0 s, 2 samples)<br>
Shell Scripts (1 concurrent) 861.2 lpm (60.1 s, 2 samples)<br>
Shell Scripts (8 concurrent) 381.1 lpm (60.1 s, 2 samples)<br>
System Call Overhead 582221.0 lps (10.0 s, 7 samples)</p>
<p>System Benchmarks Index Values BASELINE RESULT INDEX<br>
Dhrystone 2 using register variables 116700.0 17334020.9 1485.3<br>
Double-Precision Whetstone 55.0 3658.8 665.2<br>
Execl Throughput 43.0 215.1 50.0<br>
File Copy 1024 bufsize 2000 maxblocks 3960.0 323431.8 816.7<br>
File Copy 256 bufsize 500 maxblocks 1655.0 101368.1 612.5<br>
File Copy 4096 bufsize 8000 maxblocks 5800.0 845384.2 1457.6<br>
Pipe Throughput 12440.0 591377.9 475.4<br>
Pipe-based Context Switching 4000.0 89414.5 223.5<br>
Process Creation 126.0 1326.4 105.3<br>
Shell Scripts (1 concurrent) 42.4 861.2 203.1<br>
Shell Scripts (8 concurrent) 6.0 381.1 635.1<br>
System Call Overhead 15000.0 582221.0 388.1<br>
========<br>
System Benchmarks Index Score 406.2</p>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<br>
Benchmark Run: Sun Aug 23 2020 22:13:35 &#8211; 22:42:10<br>
8 CPUs in system; running 8 parallel copies of tests</p>
<p>Dhrystone 2 using register variables 92727287.0 lps (10.0 s, 7 samples)<br>
Double-Precision Whetstone 23155.4 MWIPS (10.0 s, 7 samples)<br>
Execl Throughput 1153.0 lps (29.7 s, 2 samples)<br>
File Copy 1024 bufsize 2000 maxblocks 392313.3 KBps (30.0 s, 2 samples)<br>
File Copy 256 bufsize 500 maxblocks 105373.2 KBps (30.0 s, 2 samples)<br>
File Copy 4096 bufsize 8000 maxblocks 1156407.9 KBps (30.0 s, 2 samples)<br>
Pipe Throughput 3402929.3 lps (10.0 s, 7 samples)<br>
Pipe-based Context Switching 316242.6 lps (10.0 s, 7 samples)<br>
Process Creation 7783.9 lps (30.0 s, 2 samples)<br>
Shell Scripts (1 concurrent) 4043.3 lpm (60.1 s, 2 samples)<br>
Shell Scripts (8 concurrent) 518.0 lpm (60.4 s, 2 samples)<br>
System Call Overhead 3153958.3 lps (10.0 s, 7 samples)</p>
<p>System Benchmarks Index Values BASELINE RESULT INDEX<br>
Dhrystone 2 using register variables 116700.0 92727287.0 7945.8<br>
Double-Precision Whetstone 55.0 23155.4 4210.1<br>
Execl Throughput 43.0 1153.0 268.2<br>
File Copy 1024 bufsize 2000 maxblocks 3960.0 392313.3 990.7<br>
File Copy 256 bufsize 500 maxblocks 1655.0 105373.2 636.7<br>
File Copy 4096 bufsize 8000 maxblocks 5800.0 1156407.9 1993.8<br>
Pipe Throughput 12440.0 3402929.3 2735.5<br>
Pipe-based Context Switching 4000.0 316242.6 790.6<br>
Process Creation 126.0 7783.9 617.8<br>
Shell Scripts (1 concurrent) 42.4 4043.3 953.6<br>
Shell Scripts (8 concurrent) 6.0 518.0 863.3<br>
System Call Overhead 15000.0 3153958.3 2102.6<br>
========<br>
System Benchmarks Index Score 1312.3</p>
</blockquote>
<p>倍までは行きませんが、こっちは結構速いようです。しかし、以下に書かれているようにファイルシステム構成が通常のLinuxとは違い、またlibcがBionicのようです。</p>
<blockquote><p>Differences from Linux<br>
https://wiki.termux.com/wiki/Differences_from_Linux</p></blockquote>
<p>BionicなLibcとは、AndroidのCライブラリのことです。AndroidはBSDのCライブラリを基にして独自開発されたものを使っています。Linuxの標準Cライブラリは一般的なglibc(GNU libc)です。TermuxのアプリのコンパイルはAndroid NDKを使ってビルドされているようで、このあたり、ちょっと独自にいろいろビルドしてみるときはハマりそうですね。<br>
ちなみに、termuxの提供されているパッケージは以下にあります。</p>
<blockquote><p>https://grimler.se/termux-packages-24/arm/<br>
：：<br>
1058個が提供されているようです（この執筆時）</p></blockquote>
<p>apacheやnginxやphpやmariadbなどありますので、wordpressを動かすことはできそうですね。imagemagickなんとかもあるようです。</p>
<p>次は、AnLinuxです。これは先に紹介したTermuxと連携して動作させるものです。Termuxは、prootを使えば独自のファイルシステムを作れます。そのスクリプトを作ってくれています。</p>
<p><img loading="lazy" decoding="async" class=" size-full wp-image-5762 aligncenter" src="/wp-content/uploads/2020/08/e8b2bce3828ae4bb98e38191e3819fe794bbe5838f_2020_08_24_1_54.png" alt="貼り付けた画像_2020_08_24_1_54" width="496" height="1080"></p>
<p>Step1で、ディストロを選択し、Step2でそのスクリプトをwgetするコマンドをTermuxに貼り付けて動作させるようです。</p>
<p><img loading="lazy" decoding="async" class=" size-full wp-image-5763 aligncenter" src="/wp-content/uploads/2020/08/e8b2bce3828ae4bb98e38191e3819fe794bbe5838f_2020_08_24_1_57.png" alt="貼り付けた画像_2020_08_24_1_57" width="496" height="1080"></p>
<p>このコピーしたコマンドは以下です。</p>
<blockquote><p>pkg install wget openssl-tool proot tar -y &amp;&amp; hash -r &amp;&amp; wget https://raw.githubusercontent.com/EXALAB/AnLinux-Resources/master/Scripts/Installer/CentOS/centos.sh &amp;&amp; bash centos.sh</p></blockquote>
<p>どんなスクリプトが書かれているか、上記のcentos.shを見ると納得します。</p>
<p><img loading="lazy" decoding="async" class=" size-full wp-image-5752 aligncenter" src="/wp-content/uploads/2020/08/e8b2bce3828ae4bb98e38191e3819fe794bbe5838f_2020_08_24_0_29.png" alt="貼り付けた画像_2020_08_24_0_29" width="496" height="1080"></p>
<p>こんな感じで、prootのCentOSに入れます。この環境で動作させたUnixBenchは以下となります。</p>
<blockquote><p>yum -y install perl perl-Time-HiRes make gcc git<br>
cd /usr/local/src/<br>
git clone https://github.com/kdlucas/byte-unixbench<br>
cd byte-unixbench/UnixBench</p></blockquote>
<p>Shell8のテストでこけるので、コマンドは以下で実行してあります。</p>
<blockquote>
<p class="p1"><span class="s1">./Run -i 1 -v</span></p>
</blockquote>
<blockquote>
<p>========================================================================<br>
BYTE UNIX Benchmarks (Version 5.1.3)</p>
<p>System: localhost: GNU/Linux<br>
OS: GNU/Linux &#8212; 4.14.141+ &#8212; #1 SMP PREEMPT Wed May 6 10:13:36 CST 2020<br>
Machine: aarch64 (aarch64)<br>
Language: en_US.utf8 (charmap=&#8221;ANSI_X3.4-1968&#8243;, collate=&#8221;ANSI_X3.4-1968&#8243;)<br>
; runlevel</p>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<br>
Benchmark Run: Sun Aug 23 2020 16:34:32 &#8211; 16:41:18<br>
8 CPUs in system; running 1 parallel copy of tests</p>
<p>Dhrystone 2 using register variables 18468392.0 lps (10.0 s, 1 samples)<br>
Double-Precision Whetstone 3423.8 MWIPS (9.5 s, 1 samples)<br>
Execl Throughput 415.5 lps (29.2 s, 1 samples)<br>
File Copy 1024 bufsize 2000 maxblocks 249987.0 KBps (30.0 s, 1 samples)<br>
File Copy 256 bufsize 500 maxblocks 72847.0 KBps (30.0 s, 1 samples)<br>
File Copy 4096 bufsize 8000 maxblocks 694986.0 KBps (30.0 s, 1 samples)<br>
Pipe Throughput 387272.6 lps (10.0 s, 1 samples)<br>
Pipe-based Context Switching 64785.7 lps (10.0 s, 1 samples)<br>
Process Creation 2060.3 lps (30.0 s, 1 samples)<br>
Shell Scripts (1 concurrent) 425.8 lpm (60.2 s, 1 samples)<br>
Shell Scripts (8 concurrent) 100.4 lpm (60.3 s, 1 samples)<br>
System Call Overhead 19692.3 lps (10.1 s, 1 samples)</p>
<p>System Benchmarks Index Values BASELINE RESULT INDEX<br>
Dhrystone 2 using register variables 116700.0 18468392.0 1582.6<br>
Double-Precision Whetstone 55.0 3423.8 622.5<br>
Execl Throughput 43.0 415.5 96.6<br>
File Copy 1024 bufsize 2000 maxblocks 3960.0 249987.0 631.3<br>
File Copy 256 bufsize 500 maxblocks 1655.0 72847.0 440.2<br>
File Copy 4096 bufsize 8000 maxblocks 5800.0 694986.0 1198.3<br>
Pipe Throughput 12440.0 387272.6 311.3<br>
Pipe-based Context Switching 4000.0 64785.7 162.0<br>
Process Creation 126.0 2060.3 163.5<br>
Shell Scripts (1 concurrent) 42.4 425.8 100.4<br>
Shell Scripts (8 concurrent) 6.0 100.4 167.4<br>
System Call Overhead 15000.0 19692.3 13.1<br>
========<br>
System Benchmarks Index Score <strong>249.3</strong></p>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<br>
Benchmark Run: Sun Aug 23 2020 16:41:18 &#8211; 16:48:52<br>
8 CPUs in system; running 8 parallel copies of tests</p>
<p>Dhrystone 2 using register variables 108060066.0 lps (10.1 s, 1 samples)<br>
Double-Precision Whetstone 22455.1 MWIPS (9.1 s, 1 samples)<br>
Execl Throughput 851.2 lps (29.7 s, 1 samples)<br>
File Copy 1024 bufsize 2000 maxblocks 392189.0 KBps (30.0 s, 1 samples)<br>
File Copy 256 bufsize 500 maxblocks 106747.0 KBps (30.0 s, 1 samples)<br>
File Copy 4096 bufsize 8000 maxblocks 1134886.0 KBps (30.0 s, 1 samples)<br>
Pipe Throughput 2149129.5 lps (10.1 s, 1 samples)<br>
Pipe-based Context Switching 272235.0 lps (10.1 s, 1 samples)<br>
Process Creation 5234.7 lps (30.2 s, 1 samples)<br>
Shell Scripts (1 concurrent) 916.4 lpm (61.0 s, 1 samples)<br>
Shell Scripts (8 concurrent) 165.0 lpm (69.8 s, 1 samples)<br>
System Call Overhead 30266.2 lps (10.2 s, 1 samples)</p>
<p>System Benchmarks Index Values BASELINE RESULT INDEX<br>
Dhrystone 2 using register variables 116700.0 108060066.0 9259.6<br>
Double-Precision Whetstone 55.0 22455.1 4082.7<br>
Execl Throughput 43.0 851.2 197.9<br>
File Copy 1024 bufsize 2000 maxblocks 3960.0 392189.0 990.4<br>
File Copy 256 bufsize 500 maxblocks 1655.0 106747.0 645.0<br>
File Copy 4096 bufsize 8000 maxblocks 5800.0 1134886.0 1956.7<br>
Pipe Throughput 12440.0 2149129.5 1727.6<br>
Pipe-based Context Switching 4000.0 272235.0 680.6<br>
Process Creation 126.0 5234.7 415.5<br>
Shell Scripts (1 concurrent) 42.4 916.4 216.1<br>
Shell Scripts (8 concurrent) 6.0 165.0 275.0<br>
System Call Overhead 15000.0 30266.2 20.2<br>
========<br>
System Benchmarks Index Score <strong>648.0</strong></p>
</blockquote>
<p>UserLAndの時と似たような数値ですね。prootするとこのあたりのスコアになるようです。</p>
<p>単純に、UnixBenchのスコアだけだとTermuxが良さそうですが、実際にアプリケーションを動作させてWordPressがどのくらいのレスポンスが出るのか確認しないとですね。</p>
<p>以下のサイトには、スマホをPoCとして活用するため簡単な検証がされています。</p>
<p>https://m.blog.naver.com/PostView.nhn?blogId=nettrail&#038;logNo=221588044681&#038;proxyReferer=https:%2F%2Fwww.google.com%2F</p>
<p>興味深いことに、Termux環境でprootした(AnLinuxで作ったDebian)　apache abテストのほうが14秒（20秒に対して）で速かったということです。UnixBenchの値とは逆行する結果となっています。</p>
<p>Debianのarm環境が優れているからなのか、そのあたりは良くわかりませんが、この筆者はTermuxのネイティブ環境はサポートしているパッケージも少ないので、AnLinuxでproot したディストリ環境のほうが良いんじゃないの？　って結論しています。PoC（Proof of Conceptの略で、「概念実証」）用途ではね。</p>
<p>一回、apache + php7 + mariadb　の同じ環境を使ってWordPressを入れてベンチマークして見たいですね。このブログ運営くらいなら耐えられそうな気もしますがどうでしょうか。</p>
<p>&nbsp;</p>
					</div>
<!-- .entry-content -->

			<footer class="entry-footer">
							
			</footer><!-- .entry-footer -->
		</div>
<!-- .entry-wrapper -->
</article><!-- #post-## -->

			
			
	<nav class="navigation posts-navigation" aria-label="投稿">
		<h2 class="screen-reader-text">投稿ナビゲーション</h2>
		<div class="nav-links">
<div class="nav-previous"><a href="/category/blog-n/page/4/" data-wpel-link="internal" rel="noopener noreferrer">過去の投稿</a></div>
<div class="nav-next"><a href="/category/blog-n/page/2/" data-wpel-link="internal" rel="noopener noreferrer">新しい投稿</a></div>
</div>
	</nav>
		
		</main><!-- #main -->
	</section><!-- #primary -->


	</div>
<!-- #content -->

	<footer id="colophon" class="site-footer wrap" role="contentinfo">
		<div class="site-info">
			Copyleft - all rights reversed.
			<span class="sep"> | </span>
			JunkHack 2011 - 2024
			<span class="sep"> | </span>
			<a href="/about-junkhack/" data-wpel-link="internal" rel="noopener noreferrer">運営者情報<span class="gf"></span></a><span class="sep"> | </span>
			<a href="/mail/" data-wpel-link="internal" rel="noopener noreferrer">お問い合わせ<span class="gf"></span></a><span class="sep"> | </span>
			<a href="/privacy/" data-wpel-link="internal" rel="noopener noreferrer">プライバシーポリシー<span class="gf"></span></a>
		</div>
<!-- .site-info -->

	</footer><!-- #colophon -->
</div>
<!-- #page -->

    <div id="mouse">
        <div class="inner">
            <h1>Search</h1>
            
                    <form class="uagb-search-wrapper" role="search" action="https://hack.gpl.jp/" method="get">
                        <div class="uagb-search-form__container" role="tablist">

                            <input placeholder="Search" class="uagb-search-form__input aa-input" id="searchbox" type="search" name="s" title="Search" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-owns="algolia-autocomplete-listbox-0" dir="auto" style="width: 80%;">
                            <pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: normal; text-indent: 0px; text-rendering: auto; text-transform: none;">
                            </pre>
                        </div>
                    </form>

            <table>
                <tr>
                    <td class="divide">
                        <table>
                                <tr>
        <td>
<span class="cmd">g</span> <span class="thn">then</span> <span class="cmd">h</span>
</td>
        <td><span class="help">&rarr; home</span></td>
        <td>Go to front page</td>
    </tr>    
                                    <tr>
        <td>
<span class="cmd">g</span> <span class="thn">then</span> <span class="cmd">l</span>
</td>
        <td><span class="help">&rarr; list</span></td>
        <td>Go to List page</td>
    </tr>    
                                    <tr>
        <td>
<span class="cmd">g</span> <span class="thn">then</span> <span class="cmd">s</span>
</td>
        <td><span class="help">&rarr; search</span></td>
        <td>Go to Search page</td>
    </tr>    
                            </table>                    
                    </td>
                    <td class="divide">
                        <table>
                                <tr>
        <td><span class="cmd">/ or esc</span></td>
        <td><span class="help">&rarr; search</span></td>
        <td>Toggle , Close the search box</td>
    </tr>    
                                    <tr>
        <td><span class="cmd">.</span></td>
        <td><span class="help">&rarr; Focus</span></td>
        <td>Focus the search box</td>
    </tr>    
                                    <tr>
        <td><span class="cmd">Mouse Click</span></td>
        <td><span class="help">&rarr; unFocus</span></td>
        <td>unFocus the search box</td>
    </tr>    
                            </table>
                    
                    </td>
                </tr>
            </table>  
        </div>
    </div>
    <script type="text/javascript">var algolia = {"debug":false,"application_id":"8DCPU3VRUU","search_api_key":"052e9cca1df4182ec607663dc893c235","powered_by_enabled":true,"query":"","autocomplete":{"sources":[{"index_id":"posts_post","index_name":"wp_posts_post","label":"投稿","admin_name":"投稿","position":10,"max_suggestions":10,"tmpl_suggestion":"autocomplete-post-suggestion","enabled":true}],"input_selector":"input[name='s']:not(.no-autocomplete):not(#adminbar-search)"},"indices":{"searchable_posts":{"name":"wp_searchable_posts","id":"searchable_posts","enabled":true,"replicas":[]},"posts_post":{"name":"wp_posts_post","id":"posts_post","enabled":true,"replicas":[]}}};</script>
<script type="text/html" id="tmpl-autocomplete-header"><div class="autocomplete-header">
		<div class="autocomplete-header-title">{{{ data.label }}}</div>
		<div class="clear"></div>
	</div></script>

<script type="text/html" id="tmpl-autocomplete-post-suggestion">
	<a class="suggestion-link" href="{{ data.permalink }}" title="{{ data.post_title }}">
		<# if ( data.images.thumbnail ) { #>
			<img class="suggestion-post-thumbnail" src="{{ data.images.thumbnail.url }}" alt="{{ data.post_title }}">
		<# } #>
		<div class="suggestion-post-attributes">
			<span class="suggestion-post-title">{{{ data._highlightResult.post_title.value }}}</span>
			<# if ( data._snippetResult['content'] ) { #>
				<span class="suggestion-post-content">{{{ data._snippetResult['content'].value }}}</span>
			<# } #>
		</div>
			</a>
</script>

<script type="text/html" id="tmpl-autocomplete-term-suggestion">
	<a class="suggestion-link" href="{{ data.permalink }}" title="{{ data.name }}">
		<svg viewBox="0 0 21 21" width="21" height="21">
			<svg width="21" height="21" viewBox="0 0 21 21">
				<path
					d="M4.662 8.72l-1.23 1.23c-.682.682-.68 1.792.004 2.477l5.135 5.135c.7.693 1.8.688 2.48.005l1.23-1.23 5.35-5.346c.31-.31.54-.92.51-1.36l-.32-4.29c-.09-1.09-1.05-2.06-2.15-2.14l-4.3-.33c-.43-.03-1.05.2-1.36.51l-.79.8-2.27 2.28-2.28 2.27zm9.826-.98c.69 0 1.25-.56 1.25-1.25s-.56-1.25-1.25-1.25-1.25.56-1.25 1.25.56 1.25 1.25 1.25z"
					fill-rule="evenodd"></path>
			</svg>
		</svg>
		<span class="suggestion-post-title">{{{ data._highlightResult.name.value }}}</span>
	</a>
</script>

<script type="text/html" id="tmpl-autocomplete-user-suggestion">
	<a class="suggestion-link user-suggestion-link" href="{{ data.posts_url }}" title="{{ data.display_name }}">
		<# if ( data.avatar_url ) { #>
			<img class="suggestion-user-thumbnail" src="{{ data.avatar_url }}" alt="{{ data.display_name }}">
		<# } #>
		<span class="suggestion-post-title">{{{ data._highlightResult.display_name.value }}}</span>
	</a>
</script>

<script type="text/html" id="tmpl-autocomplete-footer">
	<div class="autocomplete-footer">
		<div class="autocomplete-footer-branding">
			<a href="#" class="algolia-powered-by-link" title="Algolia">
				<svg width="150px" height="25px" viewbox="0 0 572 64"><path fill="#36395A" d="M16 48.3c-3.4 0-6.3-.6-8.7-1.7A12.4 12.4 0 0 1 1.9 42C.6 40 0 38 0 35.4h6.5a6.7 6.7 0 0 0 3.9 6c1.4.7 3.3 1.1 5.6 1.1 2.2 0 4-.3 5.4-1a7 7 0 0 0 3-2.4 6 6 0 0 0 1-3.4c0-1.5-.6-2.8-1.9-3.7-1.3-1-3.3-1.6-5.9-1.8l-4-.4c-3.7-.3-6.6-1.4-8.8-3.4a10 10 0 0 1-3.3-7.9c0-2.4.6-4.6 1.8-6.4a12 12 0 0 1 5-4.3c2.2-1 4.7-1.6 7.5-1.6s5.5.5 7.6 1.6a12 12 0 0 1 5 4.4c1.2 1.8 1.8 4 1.8 6.7h-6.5a6.4 6.4 0 0 0-3.5-5.9c-1-.6-2.6-1-4.4-1s-3.2.3-4.4 1c-1.1.6-2 1.4-2.6 2.4-.5 1-.8 2-.8 3.1a5 5 0 0 0 1.5 3.6c1 1 2.6 1.7 4.7 1.9l4 .3c2.8.2 5.2.8 7.2 1.8 2.1 1 3.7 2.2 4.9 3.8a9.7 9.7 0 0 1 1.7 5.8c0 2.5-.7 4.7-2 6.6a13 13 0 0 1-5.6 4.4c-2.4 1-5.2 1.6-8.4 1.6Zm35.6 0c-2.6 0-4.8-.4-6.7-1.3a13 13 0 0 1-4.7-3.5 17.1 17.1 0 0 1-3.6-10.4v-1c0-2 .3-3.8 1-5.6a13 13 0 0 1 7.3-8.3 15 15 0 0 1 6.3-1.4A13.2 13.2 0 0 1 64 24.3c1 2.2 1.6 4.6 1.6 7.2V34H39.4v-4.3h21.8l-1.8 2.2c0-2-.3-3.7-.9-5.1a7.3 7.3 0 0 0-2.7-3.4c-1.2-.7-2.7-1.1-4.6-1.1s-3.4.4-4.7 1.3a8 8 0 0 0-2.9 3.6c-.6 1.5-.9 3.3-.9 5.4 0 2 .3 3.7 1 5.3a7.9 7.9 0 0 0 2.8 3.7c1.3.8 3 1.3 5 1.3s3.8-.5 5.1-1.3c1.3-1 2.1-2 2.4-3.2h6a11.8 11.8 0 0 1-7 8.7 16 16 0 0 1-6.4 1.2ZM80 48c-2.2 0-4-.3-5.7-1a8.4 8.4 0 0 1-3.7-3.3 9.7 9.7 0 0 1-1.3-5.2c0-2 .5-3.8 1.5-5.2a9 9 0 0 1 4.3-3.1c1.8-.7 4-1 6.7-1H89v4.1h-7.5c-2 0-3.4.5-4.4 1.4-1 1-1.6 2.1-1.6 3.6s.5 2.7 1.6 3.6c1 1 2.5 1.4 4.4 1.4 1.1 0 2.2-.2 3.2-.7 1-.4 1.9-1 2.6-2 .6-1 1-2.4 1-4.2l1.7 2.1c-.2 2-.7 3.8-1.5 5.2a9 9 0 0 1-3.4 3.3 12 12 0 0 1-5.3 1Zm9.5-.7v-8.8h-1v-10c0-1.8-.5-3.2-1.4-4.1-1-1-2.4-1.4-4.2-1.4a142.9 142.9 0 0 0-10.2.4v-5.6a74.8 74.8 0 0 1 8.6-.4c3 0 5.5.4 7.5 1.2s3.4 2 4.4 3.6c1 1.7 1.4 4 1.4 6.7v18.4h-5Zm12.9 0V17.8h5v12.3h-.2c0-4.2 1-7.4 2.8-9.5a11 11 0 0 1 8.3-3.1h1v5.6h-2a9 9 0 0 0-6.3 2.2c-1.5 1.5-2.2 3.6-2.2 6.4v15.6h-6.4Zm34.4 1a15 15 0 0 1-6.6-1.3c-1.9-.9-3.4-2-4.7-3.5a15.5 15.5 0 0 1-2.7-5c-.6-1.7-1-3.6-1-5.4v-1c0-2 .4-3.8 1-5.6a15 15 0 0 1 2.8-4.9c1.3-1.5 2.8-2.6 4.6-3.5a16.4 16.4 0 0 1 13.3.2c2 1 3.5 2.3 4.8 4a12 12 0 0 1 2 6H144c-.2-1.6-1-3-2.2-4.1a7.5 7.5 0 0 0-5.2-1.7 8 8 0 0 0-4.7 1.3 8 8 0 0 0-2.8 3.6 13.8 13.8 0 0 0 0 10.3c.6 1.5 1.5 2.7 2.8 3.6s2.8 1.3 4.8 1.3c1.5 0 2.7-.2 3.8-.8a7 7 0 0 0 2.6-2c.7-1 1-2 1.2-3.2h6.2a11 11 0 0 1-2 6.2 15.1 15.1 0 0 1-11.8 5.5Zm19.7-1v-40h6.4V31h-1.3c0-3 .4-5.5 1.1-7.6a9.7 9.7 0 0 1 3.5-4.8A9.9 9.9 0 0 1 172 17h.3c3.5 0 6 1.1 7.9 3.5 1.7 2.3 2.6 5.7 2.6 10v16.8h-6.4V29.6c0-2.1-.6-3.8-1.8-5a6.4 6.4 0 0 0-4.8-1.8c-2 0-3.7.7-5 2a7.8 7.8 0 0 0-1.9 5.5v17h-6.4Zm63.8 1a12.2 12.2 0 0 1-10.9-6.2 19 19 0 0 1-1.8-7.3h1.4v12.5h-5.1v-40h6.4v19.8l-2 3.5c.2-3.1.8-5.7 1.9-7.7a11 11 0 0 1 4.4-4.5c1.8-1 3.9-1.5 6.1-1.5a13.4 13.4 0 0 1 12.8 9.1c.7 1.9 1 3.8 1 6v1c0 2.2-.3 4.1-1 6a13.6 13.6 0 0 1-13.2 9.4Zm-1.2-5.5a8.4 8.4 0 0 0 7.9-5c.7-1.5 1.1-3.3 1.1-5.3s-.4-3.8-1.1-5.3a8.7 8.7 0 0 0-3.2-3.6 9.6 9.6 0 0 0-9.2-.2 8.5 8.5 0 0 0-3.3 3.2c-.8 1.4-1.3 3-1.3 5v2.3a9 9 0 0 0 1.3 4.8 9 9 0 0 0 3.4 3c1.4.7 2.8 1 4.4 1Zm27.3 3.9-10-28.9h6.5l9.5 28.9h-6Zm-7.5 12.2v-5.7h4.9c1 0 2-.1 2.9-.4a4 4 0 0 0 2-1.4c.4-.7.9-1.6 1.2-2.7l8.6-30.9h6.2l-9.3 32.4a14 14 0 0 1-2.5 5 8.9 8.9 0 0 1-4 2.8c-1.5.6-3.4.9-5.6.9h-4.4Zm9-12.2v-5.2h6.4v5.2H248Z"></path><path fill="#003DFF" d="M534.4 9.1H528a.8.8 0 0 1-.7-.7V1.8c0-.4.2-.7.6-.8l6.5-1c.4 0 .8.2.9.6v7.8c0 .4-.4.7-.8.7zM428 35.2V.8c0-.5-.3-.8-.7-.8h-.2l-6.4 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.5 0 .8-.4.8-.8V43c0-.4-.3-.7-.6-.8-4.5-.5-4.5-6-4.5-7zm106.5-21.8H528c-.4 0-.7.4-.7.8v34c0 .4.3.8.7.8h6.5c.4 0 .8-.4.8-.8v-34c0-.5-.4-.8-.8-.8zm-17.7 21.8V.8c0-.5-.3-.8-.8-.8l-6.5 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.4 0 .8-.4.8-.8V43c0-.4-.3-.7-.7-.8-4.4-.5-4.4-6-4.4-7zm-22.2-20.6a16.5 16.5 0 0 1 8.6 9.3c.8 2.2 1.3 4.8 1.3 7.5a19.4 19.4 0 0 1-4.6 12.6 14.8 14.8 0 0 1-5.2 3.6c-2 .9-5.2 1.4-6.8 1.4a21 21 0 0 1-6.7-1.4 15.4 15.4 0 0 1-8.6-9.3 21.3 21.3 0 0 1 0-14.4 15.2 15.2 0 0 1 8.6-9.3c2-.8 4.3-1.2 6.7-1.2s4.6.4 6.7 1.2zm-6.7 27.6c2.7 0 4.7-1 6.2-3s2.2-4.3 2.2-7.8-.7-6.3-2.2-8.3-3.5-3-6.2-3-4.7 1-6.1 3c-1.5 2-2.2 4.8-2.2 8.3s.7 5.8 2.2 7.8 3.5 3 6.2 3zm-88.8-28.8c-6.2 0-11.7 3.3-14.8 8.2a18.6 18.6 0 0 0 4.8 25.2c1.8 1.2 4 1.8 6.2 1.7s.1 0 .1 0h.9c4.2-.7 8-4 9.1-8.1v7.4c0 .4.3.7.8.7h6.4a.7.7 0 0 0 .7-.7V14.2c0-.5-.3-.8-.7-.8h-13.5zm6.3 26.5a9.8 9.8 0 0 1-5.7 2h-.5a10 10 0 0 1-9.2-14c1.4-3.7 5-6.3 9-6.3h6.4v18.3zm152.3-26.5h13.5c.5 0 .8.3.8.7v33.7c0 .4-.3.7-.8.7h-6.4a.7.7 0 0 1-.8-.7v-7.4c-1.2 4-4.8 7.4-9 8h-.1a4.2 4.2 0 0 1-.5.1h-.9a10.3 10.3 0 0 1-7-2.6c-4-3.3-6.5-8.4-6.5-14.2 0-3.7 1-7.2 3-10 3-5 8.5-8.3 14.7-8.3zm.6 28.4c2.2-.1 4.2-.6 5.7-2V21.7h-6.3a9.8 9.8 0 0 0-9 6.4 10.2 10.2 0 0 0 9.1 13.9h.5zM452.8 13.4c-6.2 0-11.7 3.3-14.8 8.2a18.5 18.5 0 0 0 3.6 24.3 10.4 10.4 0 0 0 13 .6c2.2-1.5 3.8-3.7 4.5-6.1v7.8c0 2.8-.8 5-2.2 6.3-1.5 1.5-4 2.2-7.5 2.2l-6-.3c-.3 0-.7.2-.8.5l-1.6 5.5c-.1.4.1.8.5 1h.1c2.8.4 5.5.6 7 .6 6.3 0 11-1.4 14-4.1 2.7-2.5 4.2-6.3 4.5-11.4V14.2c0-.5-.4-.8-.8-.8h-13.5zm6.3 8.2v18.3a9.6 9.6 0 0 1-5.6 2h-1a10.3 10.3 0 0 1-8.8-14c1.4-3.7 5-6.3 9-6.3h6.4zM291 31.5A32 32 0 0 1 322.8 0h30.8c.6 0 1.2.5 1.2 1.2v61.5c0 1.1-1.3 1.7-2.2 1l-19.2-17a18 18 0 0 1-11 3.4 18.1 18.1 0 1 1 18.2-14.8c-.1.4-.5.7-.9.6-.1 0-.3 0-.4-.2l-3.8-3.4c-.4-.3-.6-.8-.7-1.4a12 12 0 1 0-2.4 8.3c.4-.4 1-.5 1.6-.2l14.7 13.1v-46H323a26 26 0 1 0 10 49.7c.8-.4 1.6-.2 2.3.3l3 2.7c.3.2.3.7 0 1l-.2.2a32 32 0 0 1-47.2-28.6z"></path></svg>
			</a>
		</div>
	</div>
</script>

<script type="text/html" id="tmpl-autocomplete-empty"><div class="autocomplete-empty">
		クエリにマッチした結果はありません		<span class="empty-query">"{{ data.query }}"</span>
	</div></script>

<script type="text/javascript">
	window.addEventListener('load', function () {

		/* Initialize Algolia client */
		var client = algoliasearch( algolia.application_id, algolia.search_api_key );

		/**
		 * Algolia hits source method.
		 *
		 * This method defines a custom source to use with autocomplete.js.
		 *
		 * @param object $index Algolia index object.
		 * @param object $params Options object to use in search.
		 */
		var algoliaHitsSource = function( index, params ) {
			return function( query, callback ) {
				index
					.search( query, params )
					.then( function( response ) {
						callback( response.hits, response );
					})
					.catch( function( error ) {
						callback( [] );
					});
			}
		}

		/* Setup autocomplete.js sources */
		var sources = [];
		algolia.autocomplete.sources.forEach( function( config, i ) {
			var suggestion_template = wp.template( config[ 'tmpl_suggestion' ] );
			sources.push( {
				source: algoliaHitsSource( client.initIndex( config[ 'index_name' ] ), {
					hitsPerPage: config[ 'max_suggestions' ],
					attributesToSnippet: [
						'content:10'
					],
					highlightPreTag: '__ais-highlight__',
					highlightPostTag: '__/ais-highlight__'
				} ),
				templates: {
					header: function () {
						return wp.template( 'autocomplete-header' )( {
							label: _.escape( config[ 'label' ] )
						} );
					},
					suggestion: function ( hit ) {
						if ( hit.escaped === true ) {
							return suggestion_template( hit );
						}
						hit.escaped = true;

						for ( var key in hit._highlightResult ) {
							/* We do not deal with arrays. */
							if ( typeof hit._highlightResult[ key ].value !== 'string' ) {
								continue;
							}
							hit._highlightResult[ key ].value = _.escape( hit._highlightResult[ key ].value );
							hit._highlightResult[ key ].value = hit._highlightResult[ key ].value.replace( /__ais-highlight__/g, '<em>' ).replace( /__\/ais-highlight__/g, '<\/em>' );
						}

						for ( var key in hit._snippetResult ) {
							/* We do not deal with arrays. */
							if ( typeof hit._snippetResult[ key ].value !== 'string' ) {
								continue;
							}

							hit._snippetResult[ key ].value = _.escape( hit._snippetResult[ key ].value );
							hit._snippetResult[ key ].value = hit._snippetResult[ key ].value.replace( /__ais-highlight__/g, '<em>' ).replace( /__\/ais-highlight__/g, '<\/em>' );
						}

						return suggestion_template( hit );
					}
				}
			} );

		} );

		/* Setup dropdown menus */
		document.querySelectorAll( algolia.autocomplete.input_selector ).forEach( function( element ) {

			var config = {
				debug: algolia.debug,
				hint: false,
				openOnFocus: true,
				appendTo: 'body',
				templates: {
					empty: wp.template( 'autocomplete-empty' )
				}
			};

			if ( algolia.powered_by_enabled ) {
				config.templates.footer = wp.template( 'autocomplete-footer' );
			}

			/* Instantiate autocomplete.js */
			var autocomplete = algoliaAutocomplete( element, config, sources )
				.on( 'autocomplete:selected', function ( e, suggestion ) {
					/* Redirect the user when we detect a suggestion selection. */
					window.location.href = suggestion.permalink ?? suggestion.posts_url; // Users use the `posts_url` property instead of `permalink`.
				} );

			/* Force the dropdown to be re-drawn on scroll to handle fixed containers. */
			window.addEventListener( 'scroll', function() {
				if ( autocomplete.autocomplete.getWrapper().style.display === "block" ) {
					autocomplete.autocomplete.close();
					autocomplete.autocomplete.open();
				}
			} );
		} );

		var algoliaPoweredLink = document.querySelector( '.algolia-powered-by-link' );
		if ( algoliaPoweredLink ) {
			algoliaPoweredLink.addEventListener( 'click', function( e ) {
				e.preventDefault();
				window.location = "https://www.algolia.com/?utm_source=WordPress&utm_medium=extension&utm_content=" + window.location.hostname + "&utm_campaign=poweredby";
			} );
		}
	});
</script>
<script type="text/javascript" src="/wp-content/themes/jh-hew/js/JankHack-Hew.js?ver=20140909" id="JankHack-Hew-scripts-js"></script>
<script type="text/javascript" src="/wp-content/themes/jh-hew/js/navigation.js?ver=20120206" id="JankHack-Hew-navigation-js"></script>
<script type="text/javascript" src="/wp-content/themes/jh-hew/js/skip-link-focus-fix.js?ver=20130115" id="JankHack-Hew-skip-link-focus-fix-js"></script>
<script type="text/javascript" src="/wp-content/themes/jh-hew/js/contact.js?ver=20210612" id="sendmail-js"></script>
<script type="text/javascript" src="/wp-includes/js/underscore.min.js?ver=1.13.4" id="underscore-js"></script>
<script type="text/javascript" id="wp-util-js-extra">
/* <![CDATA[ */
var _wpUtilSettings = {"ajax":{"url":"\/wp-admin\/admin-ajax.php"}};
/* ]]> */
</script>
<script type="text/javascript" src="/wp-includes/js/wp-util.min.js?ver=6.4.3" id="wp-util-js"></script>
<script type="text/javascript" src="/wp-content/plugins/wp-search-with-algolia/js/algoliasearch/dist/algoliasearch-lite.umd.js?ver=2.7.1" id="algolia-search-js"></script>
<script type="text/javascript" src="/wp-content/plugins/wp-search-with-algolia/js/autocomplete.js/dist/autocomplete.min.js?ver=2.7.1" id="algolia-autocomplete-js"></script>
<script type="text/javascript" src="/wp-content/plugins/wp-search-with-algolia/js/autocomplete-noconflict.js?ver=2.7.1" id="algolia-autocomplete-noconflict-js"></script>
<script type="text/javascript" src="/wp-includes/js/clipboard.min.js?ver=2.0.11" id="clipboard-js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs//emojify.js/1.1.0/js/emojify.min.js?ver=1.1.0" id="emojify-js"></script>
<script type="text/javascript" id="wpfront-scroll-top-js-extra">
/* <![CDATA[ */
var wpfront_scroll_top_data = {"data":{"css":"#wpfront-scroll-top-container{display:none;position:fixed;cursor:pointer;z-index:9999;opacity:0}#wpfront-scroll-top-container div.text-holder{padding:3px 10px;border-radius:3px;-webkit-border-radius:3px;-webkit-box-shadow:4px 4px 5px 0 rgba(50,50,50,.5);-moz-box-shadow:4px 4px 5px 0 rgba(50,50,50,.5);box-shadow:4px 4px 5px 0 rgba(50,50,50,.5)}#wpfront-scroll-top-container a{outline-style:none;box-shadow:none;text-decoration:none}#wpfront-scroll-top-container {right: 80px;bottom: 10px;}        #wpfront-scroll-top-container img {\n            width: 55px;\n            height: 55px;\n        }\n        ","html":"<div id=\"wpfront-scroll-top-container\"><img src=\"\/wp-content\/plugins\/wpfront-scroll-top\/images\/icons\/1.png\" alt=\"\" title=\"\" \/><\/div>","data":{"hide_iframe":false,"button_fade_duration":200,"auto_hide":false,"auto_hide_after":2,"scroll_offset":100,"button_opacity":0.8,"button_action":"top","button_action_element_selector":"","button_action_container_selector":"html, body","button_action_element_offset":"0","scroll_duration":400}}};
/* ]]> */
</script>
<script type="text/javascript" src="/wp-content/plugins/wpfront-scroll-top/js/wpfront-scroll-top.min.js?ver=2.2.10081" id="wpfront-scroll-top-js"></script>
  <script id="module-flowchart">(function($) { $(function() { if (typeof $.fn.flowChart !== "undefined") { if ($(".language-flow").length > 0) { $(".language-flow").parent("pre").attr("style", "text-align: center; background: none;"); $(".language-flow").addClass("flowchart").removeClass("language-flow"); $(".flowchart").flowChart(); } } }); })(jQuery);</script>  <script id="module-katex"> (function($) { $(function() { if (typeof katex !== "undefined") { if ($(".language-katex").length > 0) { $(".language-katex").parent("pre").attr("style", "text-align: center; background: none;"); $(".language-katex").addClass("katex-container").removeClass("language-katex"); $(".katex-container").each(function() { var katexText = $(this).text(); var el = $(this).get(0); if ($(this).parent("code").length == 0) { try { katex.render(katexText, el) } catch (err) { $(this).html("<span class='err'>" + err) } } }); } if ($(".katex-inline").length > 0) { $(".katex-inline").each(function() { var katexText = $(this).text(); var el = $(this).get(0); if ($(this).parent("code").length == 0) { try { katex.render(katexText, el) } catch (err) { $(this).html("<span class='err'>" + err) } } }); } } }); })(jQuery); </script>  <script id="module-sequence-diagram">(function($) { $(function() { if (typeof $.fn.sequenceDiagram !== "undefined") { $(".language-sequence").parent("pre").attr("style", "text-align: center; background: none;"); $(".language-seq").parent("pre").attr("style", "text-align: center; background: none;"); $(".language-sequence").addClass("sequence-diagram").removeClass("language-sequence"); $(".language-seq").addClass("sequence-diagram").removeClass("language-seq"); $(".sequence-diagram").sequenceDiagram({ theme: "simple" }); } }); })(jQuery);</script>  <script id="module-mermaid">(function($) { $(function() { if (typeof mermaid !== "undefined") { if ($(".language-mermaid").length > 0) { $(".language-mermaid").parent("pre").attr("style", "text-align: center; background: none;"); $(".language-mermaid").addClass("mermaid").removeClass("language-mermaid"); mermaid.init(); } } }); })(jQuery);</script>  <script id="module-mathjax">(function($) { $(function() { if (typeof MathJax !== "undefined") { var c = $(".language-mathjax").length; if (c > 0) { $(".language-mathjax").each(function(i) { var content = $(this).html(); if ($(this).hasClass("mathjax-inline")) { $(this).html("$ " + content + " $"); } else { $(this).html("$$" + "\n" + content + "\n" + "$$"); } if (i + 1 === c) { MathJax.Hub.Config({ showProcessingMessages: false, messageStyle: "none", extensions: [ "tex2jax.js", "TeX/mediawiki-texvc.js", "TeX/noUndefined.js", "TeX/autoload-all.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js" ], jax: [ "input/TeX", "output/SVG" ], elements: document.getElementsByClassName("language-mathjax"), tex2jax: { skipTags: [ "script", "noscript", "style", "textarea" ], inlineMath: [ ['$', '$'] ], displayMath: [ ['$$', '$$'] ], processClass: "language-mathjax" } }); MathJax.Hub.Queue(["Typeset", MathJax.Hub]); $(".language-mathjax").attr("style", "background: transparent; border: 0;"); $(".language-mathjax").closest("pre").attr("style", "background: transparent; border: 0;"); } }); } else { console.log("[wp-githuber-md] MathJax code blocks not found."); } } else { console.log("[wp-githuber-md] MathJax is not loadded."); } }); })(jQuery);</script>  <script id="module-clipboard"> (function($) { $(function() { var pre = document.getElementsByTagName("pre"); var pasteContent = document.getElementById("paste-content"); var hasLanguage = false; for (var i = 0; i < pre.length; i++) { var codeClass = pre[i].children[0].className; var isLanguage = codeClass.indexOf("language-"); var excludedCodeClassNames = [ "language-katex", "language-seq", "language-sequence", "language-flow", "language-flowchart", "language-mermaid", ]; var isExcluded = excludedCodeClassNames.indexOf(codeClass); if (isExcluded !== -1) { isLanguage = -1; } if (isLanguage !== -1) { var current_pre = pre[i]; var parent = current_pre.parentNode; var div = document.createElement("div"); div.style['position'] = 'relative'; parent.replaceChild(div, current_pre); var button = document.createElement("button"); button.className = "copy-button"; button.textContent = "Copy"; div.appendChild(current_pre); div.appendChild(button); hasLanguage = true; } }; if (hasLanguage) { var copyCode = new ClipboardJS(".copy-button", { target: function(trigger) { return trigger.previousElementSibling; } }); copyCode.on("success", function(event) { event.clearSelection(); event.trigger.textContent = "Copied"; window.setTimeout(function() { event.trigger.textContent = "Copy"; }, 2000); }); } }); })(jQuery); </script> 
			<script id="module-emojify">(function($) {
					$(function() {
						if (typeof emojify !== "undefined") {
							emojify.setConfig({
								img_dir: "https://cdnjs.cloudflare.com/ajax/libs//emojify.js/1.1.0/images/basic",
								blacklist: {
									"classes": ["no-emojify"],
									"elements": ["script", "textarea", "pre", "code"]
								}
							});
							emojify.run();
						} else {
							console.log("[wp-githuber-md] emogify is undefined.");
						}
					});
				})(jQuery);</script>
		
</body>
</html>