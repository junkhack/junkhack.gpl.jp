<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="/xmlrpc.php"> <noscript id="aonoscrcss"></noscript>
<title>Linux &#8211; ページ 10 &#8211; JunkHack</title>
<meta name="robots" content="max-image-preview:large">
<link rel="dns-prefetch" href="//www.google.com">
<link rel="dns-prefetch" href="//www.googletagmanager.com">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
<link rel="alternate" type="application/rss+xml" title="JunkHack &raquo; フィード" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="JunkHack &raquo; コメントフィード" href="/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="JunkHack &raquo; Linux カテゴリーのフィード" href="/category/linux/feed/">
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=5.8.3" type="text/css" media="all">
<link rel="stylesheet" id="contact-form-7-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_76e12144b6be9bc0a17dd880c5566156.css?ver=5.4.1" type="text/css" media="all">
<link rel="stylesheet" id="contact-form-7-confirm-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_c605b424176e2b3541570e9ebd66830b.css?ver=5.1" type="text/css" media="all">
<link rel="stylesheet" id="wpel-style-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_04d23f0dc44b526ca48d1d564eb7537c.css?ver=2.50" type="text/css" media="all">
<link rel="stylesheet" id="wpfront-scroll-top-css" href="/wp-content/plugins/wpfront-scroll-top/css/wpfront-scroll-top.min.css?ver=2.0.7.08086" type="text/css" media="all">
<link rel="stylesheet" id="related-frontend-css-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_ce8bbdb7cabcf5f0fa8d28d9868b7638.css?ver=0.1.0" type="text/css" media="all">
<link rel="stylesheet" id="hew-fonts-css" href="https://fonts.googleapis.com/css?family=Open+Sans%3A400%2C600%2C700%2C400italic%2C600italic%2C700italic%7CNoto+Serif%3A400%2C700%2C400italic%2C700italic&#038;subset=latin" type="text/css" media="all">
<link rel="stylesheet" id="genericons-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_c14dd6e84e694a66c7e27f11220ed49a.css?ver=3.4.1" type="text/css" media="all">
<link rel="stylesheet" id="hew-style-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_bd2482c37d2bc505ed15c848d16adf6d.css?ver=5.8.3" type="text/css" media="all"> <script type="text/javascript" src="/wp-content/plugins/jquery-manager/assets/js/jquery-3.5.1.min.js" id="jquery-core-js"></script> <script type="text/javascript" src="/wp-content/plugins/jquery-manager/assets/js/jquery-migrate-3.3.0.min.js" id="jquery-migrate-js"></script>  <script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-199105184-1" id="google_gtagjs-js" async></script> <script type="text/javascript" id="google_gtagjs-js-after">window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}
gtag('set', 'linker', {"domains":["hack.gpl.jp"]} );
gtag("js", new Date());
gtag("set", "developer_id.dZTNiMT", true);
gtag("config", "UA-199105184-1", {"anonymize_ip":true});</script> <link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/categories/47">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml">
<meta name="generator" content="WordPress 5.8.3">
<meta name="generator" content="Site Kit by Google 1.48.1">
<meta name="google-adsense-platform-account" content="ca-host-pub-2644536267352236">
<meta name="google-adsense-platform-domain" content="sitekit.withgoogle.com">  <script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2711753458083215" crossorigin="anonymous" type="text/javascript"></script> </head>  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-161935417-3"></script> <script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-161935417-3');</script> <body class="archive paged category category-linux category-47 paged-10 category-paged-10 has-sidebar has-header-image">
<div id="page" class="hfeed site">
<div id="widgets-wrapper" class="hide"><div id="secondary" class="wrap top-widget-area" role="complementary"><div id="sidebar-4" class="widget-area" role="complementary"><aside id="block-2" class="widget widget_block"><script async src="https://cse.google.com/cse.js?cx=df8210082ba786774"></script> <div class="gcse-search"></div></aside></div></div></div> <a class="skip-link screen-reader-text" href="#content">コンテンツへ移動</a><header id="masthead" class="site-header" role="banner"> <a class="site-logo" href="/" title="JunkHack" rel="home noopener noreferrer" data-wpel-link="internal"> <noscript><img src="https://secure.gravatar.com/avatar/997681319c3cbb0bdcca95770d5edaa6/?s=80&#038;d=mm" width="80" height="80" alt="" class="no-grav header-image"></noscript>
<img src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%2080%2080%22%3E%3C/svg%3E" data-src="https://secure.gravatar.com/avatar/997681319c3cbb0bdcca95770d5edaa6/?s=80&#038;d=mm" width="80" height="80" alt="" class="lazyload no-grav header-image"> </a><div class="site-branding">
<h1 class="site-title"><a href="/" rel="home noopener noreferrer" data-wpel-link="internal">JunkHack</a></h1>
<h2 class="site-description">アリエクでポチった JUNKHACK</h2>
</div>
<nav id="site-navigation" class="main-navigation" role="navigation"> <button class="menu-toggle toggle-button"><span class="screen-reader-text">メインメニュー</span></button><div class="menu-new-menu-container"><ul id="menu-new-menu" class="menu">
<li id="menu-item-10686" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10686"><a href="/list/" data-wpel-link="internal" rel="noopener noreferrer">List</a></li>
<li id="menu-item-11016" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11016"><a href="/mail/" data-wpel-link="internal" rel="noopener noreferrer">CONTACT</a></li>
<li id="menu-item-10671" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10671"><a href="https://jh.gpl.jp/" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">Mirror Netlify<span class="wpel-icon wpel-image wpel-icon-1"></span></a></li>
</ul></div></nav><div class="toggle-wrapper"> <a href="#" class="widgets-toggle toggle-button" title="ウィジェット"> <span class="screen-reader-text">ウィジェット</span> </a>
</div></header><div id="content" class="site-content"><section id="primary" class="content-area"><main id="main" class="site-main" role="main"><header class="page-header"><h1 class="page-title">カテゴリー: <span>Linux</span>
</h1></header><article id="post-1980" class="post-1980 post type-post status-publish format-standard hentry category-aliexpress category-linux category-orangepi category-orangepipc category-parts"><div class="entry-wrapper">
<header class="entry-header"> <span class="entry-format theme-genericon"></span><div class="entry-meta"> <span class="posted-on">投稿日: <a href="/2016/01/02/opie381abfan-e38292e381a4e38191e3828be381a8e6b8a9e5baa6e381afe381a9e381aee3818fe38289e38184e4b88be3818ce3828be3818befbc9f/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2016-01-02T19:53:06+09:00">2016年1月2日</time></a> </span><span class="posted-on">更新日:2016年1月2日</span> <span class="categories"> <a href="/category/aliexpress/" rel="category tag noopener noreferrer" data-wpel-link="internal">Aliexpress</a>, <a href="/category/linux/" rel="category tag noopener noreferrer" data-wpel-link="internal">Linux</a>, <a href="/category/orangepi/" rel="category tag noopener noreferrer" data-wpel-link="internal">OrangePi</a>, <a href="/category/orangepipc/" rel="category tag noopener noreferrer" data-wpel-link="internal">OrangePiPC</a>, <a href="/category/parts/" rel="category tag noopener noreferrer" data-wpel-link="internal">Parts</a></span>
</div>
<h1 class="entry-title"><a href="/2016/01/02/opie381abfan-e38292e381a4e38191e3828be381a8e6b8a9e5baa6e381afe381a9e381aee3818fe38289e38184e4b88be3818ce3828be3818befbc9f/" rel="bookmark noopener noreferrer" data-wpel-link="internal">OPIにFAN をつけると温度はどのくらい下がるか？</a></h1></header><div class="entry-content">
<p>aliexpress からFAN と熱シールが届きましたので、OPI に取り付けました。</p>
<p>&#160;</p>
<p><a href="/wp-content/uploads/2016/01/1.jpg" target="_blank" rel="noopener noreferrer" data-wpel-link="internal"><noscript><img title="1" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="1" src="/wp-content/uploads/2016/01/1_thumb.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="1" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="1" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2016/01/1_thumb.jpg" width="640" height="480"></a></p>
<p>FAN は2個入り、3M の熱伝道シールは3枚で14ｍｍにカットしてあります。1枚に５ｘ７で35枚でした。</p>
<p></p>
<noscript><img title="2" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="2" src="/wp-content/uploads/2016/01/2.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="2" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="2" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2016/01/2.jpg" width="640" height="480"><p>CPU とメモリ部分にシールを取り付け、簡易的にファンもシールで貼り付け。</p>
<p></p>
<noscript><img title="3" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="3" src="/wp-content/uploads/2016/01/3.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="3" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="3" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2016/01/3.jpg" width="640" height="480"><p>安い割りには、薄いのでこれで十分ですね。実測で、6.87mm です。</p>
<p>ファンを回す前と、回さない前でCPU 温度をmunin で取得しようと以下を設定。</p>
<pre class="brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;">[root@opi 19:43:22 plugins]# pwd
/etc/munin/plugins
[root@opi 19:43:23 plugins]# cat h3_temp 
#!/bin/sh

#%# family=auto
#%# capabilities=autoconf

GETNUM=`/bin/cat /sys/class/thermal/thermal_zone0/temp`

if [ &quot;$1&quot; = &quot;autoconf&quot; ]; then
        if [ -n ${GETNUM} ] ; then
                echo yes
                exit 0
        else
                echo no
                exit 0
        fi
fi

if [ &quot;$1&quot; = &quot;config&quot; ]; then
        echo 'graph_title CPU Temp'
        echo 'graph_args -r --lower-limit 0'
        echo 'graph_vlabel Temp'
        echo 'graph_category Apps'
        echo 'total.label CPU0 Temp'
        echo 'total.min 0'
        echo 'total.draw AREA'
        echo 'total.type GAUGE'
        exit 0
fi

echo &quot;total.value $GETNUM&quot;;</pre>
<p>確認は以下を実行。</p>
<pre class="brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;">[root@opi 19:46:32 plugins]# ./h3_temp autoconf
yes
[root@opi 19:46:37 plugins]# ./h3_temp config
graph_title CPU Temp
graph_args -r --lower-limit 0
graph_vlabel Temp
graph_category Apps
total.label CPU0 Temp
total.min 0
total.draw AREA
total.type GAUGE
[root@opi 19:46:44 plugins]# ./h3_temp 
total.value 57
[root@opi 19:46:52 plugins]# </pre>
<p>で、munin-node を再起動</p>
<blockquote><p># systemctl restart munin-node</p></blockquote>
<p>すると、以下な感じでグラフができます。</p>
<p></p>
<noscript><img title="h3_temp-day" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="h3_temp-day" src="/wp-content/uploads/2016/01/h3_tempday.png" width="497" height="280"></noscript>
<img class="lazyload" title="h3_temp-day" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="h3_temp-day" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20497%20280%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2016/01/h3_tempday.png" width="497" height="280"><p>ファンをつける前のデータをとりあえず記録するため、まだ回していません。結構熱そうですね。70 度くらいになっています。</p>
<p>しばらく、このまま記録をとってからファンを回したいと思います。最初、テストで回していたときは、上のグラフの最初の部分で40 度くらいでした。効果はかなり期待できそうです。</p>
<p>&#160;</p>
<p>参考</p>
<blockquote><p>muninプラグインを作成<br> <br><a title="https://www.seeds-std.co.jp/seedsblog/671.html" href="https://www.seeds-std.co.jp/seedsblog/671.html" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">https://www.seeds-std.co.jp/seedsblog/671.html<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p></blockquote>
</div>
<footer class="entry-footer"></footer>
</div></article><article id="post-1654" class="post-1654 post type-post status-publish format-standard hentry category-linux category-parts category-pt3"><div class="entry-wrapper">
<header class="entry-header"> <span class="entry-format theme-genericon"></span><div class="entry-meta"> <span class="posted-on">投稿日: <a href="/2015/11/08/pt3-e588b0e79d80/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2015-11-08T22:58:19+09:00">2015年11月8日</time></a> </span><span class="posted-on">更新日:2015年11月8日</span> <span class="categories"> <a href="/category/linux/" rel="category tag noopener noreferrer" data-wpel-link="internal">Linux</a>, <a href="/category/parts/" rel="category tag noopener noreferrer" data-wpel-link="internal">Parts</a>, <a href="/category/pt3/" rel="category tag noopener noreferrer" data-wpel-link="internal">PT3</a></span>
</div>
<h1 class="entry-title"><a href="/2015/11/08/pt3-e588b0e79d80/" rel="bookmark noopener noreferrer" data-wpel-link="internal">PT3 到着</a></h1></header><div class="entry-content">
<p>PT3 が ドスパラより到着。</p>
<p>10,480円也。PCBの厚みは、1.6mm で金色に光る胴箔部分が綺麗です。</p>
<p><a href="/wp-content/uploads/2015/11/61.jpg" target="_blank" rel="noopener noreferrer" data-wpel-link="internal"><noscript><img title="6" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="6" src="/wp-content/uploads/2015/11/6_thumb.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="6" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="6" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/11/6_thumb.jpg" width="640" height="480"></a></p>
<p>Rev.A で2012.04.24 のようです。3年前ですか。なかなか息の長い商品ですね。</p>
<p><a href="/wp-content/uploads/2015/11/51.jpg" target="_blank" rel="noopener noreferrer" data-wpel-link="internal"><noscript><img title="5" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="5" src="/wp-content/uploads/2015/11/5_thumb.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="5" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="5" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/11/5_thumb.jpg" width="640" height="480"></a> S と T のアンテナ端子。</p>
<blockquote><p>S&#160;&#160;&#160; 衛星 <br>T&#160;&#160;&#160; 地上</p></blockquote>
<p>&#160;</p>
<p><a href="/wp-content/uploads/2015/11/41.jpg" target="_blank" rel="noopener noreferrer" data-wpel-link="internal"><noscript><img title="4" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="4" src="/wp-content/uploads/2015/11/4_thumb.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="4" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="4" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/11/4_thumb.jpg" width="640" height="480"></a> TOSHIBAのチップ TC90522XBG と、向かい側に見えるのは何でしょうか？</p>
<p><a href="/wp-content/uploads/2015/11/31.jpg" target="_blank" rel="noopener noreferrer" data-wpel-link="internal"><noscript><img title="3" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="3" src="/wp-content/uploads/2015/11/3_thumb.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="3" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="3" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/11/3_thumb.jpg" width="640" height="480"></a>チューナー部分は銀色のボックスの中にあります。これはモジュール化されているパーツのようですね。シャープのVA4M6JC2103</p>
<p>東芝のICは、このモジュールとつながっているようですので、何か電波の調整をやっているのでしょう。</p>
<p>レギュレータICも大きなのが２つあるようです。200WN3M（PQ200WN3MZPH） ともうひとつは、012ENB1 （PQ012ENB1ZPH）シャープのようです。他にもレギュレータはあって全部シャープのを使っているようです。</p>
<p><a href="/wp-content/uploads/2015/11/21.jpg" target="_blank" rel="noopener noreferrer" data-wpel-link="internal"><noscript><img title="2" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="2" src="/wp-content/uploads/2015/11/2_thumb.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="2" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="2" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/11/2_thumb.jpg" width="640" height="480"></a> ALTERA Cyclone IV と書いてありますかね？EP4CGX15BF14C8N</p>
<p>これは横のSDRAMとがっつり、つながっているようです。PCI-EX からのラインがこのICに入っているようです。</p>
<p>インダクタも２つありますね。何かスイッチングして電源を生成しているのかな？</p>
<p><a href="/wp-content/uploads/2015/11/12.jpg" target="_blank" rel="noopener noreferrer" data-wpel-link="internal"><noscript><img title="1" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="1" src="/wp-content/uploads/2015/11/1_thumb.jpg" width="640" height="480"></noscript>
<img class="lazyload" title="1" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="1" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/11/1_thumb.jpg" width="640" height="480"></a> これはちょっと作れそうにもありません。仮に作れたとしても中のソフトウェアがわかりません。解析にはかなりの技術と知識が必要でしょう。デジタルの電波の知識が必須となりそうです。</p>
<p>&#160;</p>
<p>PCの中に組み込んだらこうして、基板をみるのもこれが最後になりそう。</p>
</div>
<footer class="entry-footer"></footer>
</div></article><article id="post-1575" class="post-1575 post type-post status-publish format-standard hentry category-linux category-parts category-pt3"><div class="entry-wrapper">
<header class="entry-header"> <span class="entry-format theme-genericon"></span><div class="entry-meta"> <span class="posted-on">投稿日: <a href="/2015/11/05/pt3-e38292get/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2015-11-05T00:22:09+09:00">2015年11月5日</time></a> </span><span class="posted-on">更新日:2015年11月5日</span> <span class="categories"> <a href="/category/linux/" rel="category tag noopener noreferrer" data-wpel-link="internal">Linux</a>, <a href="/category/parts/" rel="category tag noopener noreferrer" data-wpel-link="internal">Parts</a>, <a href="/category/pt3/" rel="category tag noopener noreferrer" data-wpel-link="internal">PT3</a></span>
</div>
<h1 class="entry-title"><a href="/2015/11/05/pt3-e38292get/" rel="bookmark noopener noreferrer" data-wpel-link="internal">テレビを見たければ運動せよ！ PT3 をGET</a></h1></header><div class="entry-content">
<p>PT3 の存在は前から知っていたのですが、友人のところに遊びにいったらnasune でリモートで録画してあるTED を見せてもらい触発されて思わずポチりました。nasune というのは、nass にTVチューナーが付いて録画できるというもの。</p>
<p>&#160;</p>
<blockquote>
<p>Sony</p>
<p><a href="http://pur.store.sony.jp/nasne/products/nasne/CECH-ZNR2J01_product/?s_tc=aff_012_0_10_51141&amp;utm_medium=aff&amp;utm_source=001" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">nasne(ナスネ) CECH-ZNR2J<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
</blockquote>
<p>&#160;</p>
<p>お値段は、2万弱くらいで購入できるんですが、出来合いの製品だけに面白さにかけるところがあり、またチューナが1チャンネルなので同時録画はできません。</p>
<p>&#160;</p>
<p>そこで、アースソフトさんがハードとWINDOWS 用のドライバだけ作っている面白い機器が以下。これをポチりました。</p>
<p>&#160;</p>
<blockquote>
<p>アースソフト</p>
<p><a href="http://earthsoft.jp/PT3/specification.html" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">PT3 仕様<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
</blockquote>
<p>&#160;</p>
<p>ISDB-S 2TS と ISDB-T 2TS の合計 4TS を同時に受信可能です。要するに、衛星デジタル放送用のISDB-S、地上デジタル放送用のISDB-Tがそれぞれ2チャンネルづつ、受信できるという代物。</p>
<p></p>
<noscript><img title="PT3_img" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="PT3_img" src="/wp-content/uploads/2015/11/pt3_img.png" width="582" height="795"></noscript>
<img class="lazyload" title="PT3_img" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="PT3_img" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20582%20795%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/11/pt3_img.png" width="582" height="795"><p>PC とそれらを受信するソフトウェアやB-CAS カードと読み取るカードリーダなどが必要です。当初はこれらを完全自作しようと思っていましたが、ハードルが高すぎて断念。いつかチャレンジしてみたいお題ではあります。</p>
<p>&#160;</p>
<p>PT3 を活用するには、いろんな手法がありますが、今のところ方針としてOSはLinuxにし、Chinachu というEPG閲覧と、予約＋Webストリーミング用のUIを備えたソフトウェアの組み合わせで使ってみようと思います。幸い、入れるマシンは余っているものがあるので、追加投資はHDDくらいです。が、これも使ってみないと自分のライフスタイルでどのくらいの容量が必要かはわかりません。今付いているHDDで事足りるかもしれません。</p>
<p>&#160;</p>
<p>もともと、テレビはほとんど見ませんが、今回はTEDなど面白い番組もやるのでそういうのを予約して視聴するのが目的です。あと、PCに向かいすぎて腰が悪くなので、息抜きを強制的に行うためリビングのTVでごろ寝しながら見て体を休めるという目的もあります。また休めるの反対に鍛えるという目的も盛り込んでも面白いかもしれません。</p>
<p>&#160;</p>
<p>インストールやセットアップなどの情報はごろごろと出るので、困ることはなさそうです。ただ、自分が使うシーンというのが想像できません。とりあえず、箇条書きにしてみます。出来るといいなと思っている要点は以下です。</p>
<p>&#160;</p>
<p>・番組予約はPCからさくさくと簡単にやりたい</p>
<p>・外出先のちょっとした空き時間にみたい</p>
<p>・録画した映像は見たら消す感じ or 古いものは自動的に消えるように</p>
<p>・CMをカットするか飛ばせるといいな。またその逆にCMだけコレクションできるようにしたい。</p>
<p>・i-Phone や タブレットで気軽に見たい</p>
<p>・普段使いはOSXのモニタで見て、ゆっくり見たいときはリビングのTVからも見たい</p>
<p>・寝る前に、タブレットでみたい</p>
<p>・録画したデータは飛んでもいいので、RAID1 や5 などはしない。安さ優先</p>
<p>・PCの電源は録画直前に入り、終了したら消える（スリープとか）ようにしたい</p>
<p>・今作成中のWiFi E-ink に録画した番組を表示できるようにしたい。</p>
<p>・電気代を節約するために、自転車の室内ローラで発電し、電力供給をしたい</p>
<p align="center"><a href="http://chainreactionhub.com/cycindoor-jpn" target="_blank" rel="noopener noreferrer external" data-wpel-link="external"><noscript><img title="trainerlaptop" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="trainerlaptop" src="/wp-content/uploads/2015/11/trainerlaptop.jpg" width="640" height="357"></noscript>
<img class="lazyload" title="trainerlaptop" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="trainerlaptop" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20357%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/11/trainerlaptop.jpg" width="640" height="357"></a> ※イメージですが、まぁこんな感じ</p>
<p align="center"><a href="http://303cycling.com/6-Inspiring-Adventure-Films-that-Will-Keep-You-Going-on-the-Trainer" target="_blank" rel="noopener noreferrer external" data-wpel-link="external"><noscript><img title="indoor-cycling_0" style="border-top:0;border-right:0;border-bottom:0;border-left:0;display:inline;" border="0" alt="indoor-cycling_0" src="/wp-content/uploads/2015/11/indoorcycling_0.jpg" width="642" height="428"></noscript>
<img class="lazyload" title="indoor-cycling_0" style="border-top:0;border-right:0;border-bottom:0;border-left:0;display:inline;" border="0" alt="indoor-cycling_0" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20642%20428%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/11/indoorcycling_0.jpg" width="642" height="428"></a></p>
<p align="center">Indoor Bike Trainer make とかで検索</p>
<p align="center">&#160;</p>
<p>・ローラーの前には体重計があって、載れば自動的に記録される仕組みも作りたい。あと１０Kg減量したいのです。</p>
<p>&#160;</p>
<p>こんな工夫が出来れば、テレビが見たければ、運動しなさいというスタイルにできるかもと思っています。座りっぱなしの生活から、少しは運動もでき、そして結果的にTVの情報ソースを今より見れればと思います。</p>
<p>&#160;</p>
<p>このプロジェクトは少しづつ進行していきます。</p>
<p>テレビを見たければ運動せよの、ネーミングを考えないとですね。Running Tv ですかね？</p>
</div>
<footer class="entry-footer"></footer>
</div></article><article id="post-900" class="post-900 post type-post status-publish format-standard hentry category-filesystem category-linux category-osx category-raspberry-pi"><div class="entry-wrapper">
<header class="entry-header"> <span class="entry-format theme-genericon"></span><div class="entry-meta"> <span class="posted-on">投稿日: <a href="/2015/07/25/nfs-boot-e381ae-iops/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2015-07-25T22:16:28+09:00">2015年7月25日</time></a> </span><span class="posted-on">更新日:2015年7月25日</span> <span class="categories"> <a href="/category/filesystem/" rel="category tag noopener noreferrer" data-wpel-link="internal">FileSystem</a>, <a href="/category/linux/" rel="category tag noopener noreferrer" data-wpel-link="internal">Linux</a>, <a href="/category/osx/" rel="category tag noopener noreferrer" data-wpel-link="internal">osx</a>, <a href="/category/raspberry-pi/" rel="category tag noopener noreferrer" data-wpel-link="internal">Raspberry Pi</a></span>
</div>
<h1 class="entry-title"><a href="/2015/07/25/nfs-boot-e381ae-iops/" rel="bookmark noopener noreferrer" data-wpel-link="internal">NFS Boot の IOPS</a></h1></header><div class="entry-content">
<p>fio の手順が載っていたので、以下でNFS Boot の IO性能を計測。</p>
<p>母艦のosx の DISK は SSD です。Samsung MZ-7TD500BW 840 SSD</p>
<blockquote><p>cd /usr/local/src/ <br>sudo apt-get install -y libaio-dev <br>git clone -b fio-2.2.5 git://git.kernel.dk/fio.git <br>cd fio <br>./configure &amp;&amp; make &amp;&amp; sudo make install <br>cd .. <br>wget <a href="http://www.winkey.jp/downloads/visit.php/fio-crystaldiskmark" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">http://www.winkey.jp/downloads/visit.php/fio-crystaldiskmark<span class="wpel-icon wpel-image wpel-icon-1"></span></a> <br>fio fio-crystaldiskmark | perl -ne &#8216; <br>print &quot;$1 : &quot; if(/(.+): \(groupid=/); <br>print &quot;$1 &quot; if(/bw=([\d. ]+[KM]?B\/s)/); <br>print &quot;[ $1 IOPS]\n&quot; if(/iops=(\d+)/)&#8217;</p></blockquote>
<p>4K の読み書きが SDCard よりだんぜん速いです。</p>
<blockquote><p>Seq-Read : 9555.8KB/s [ 9 IOPS] <br>Seq-Write : 10250KB/s [ 10 IOPS] <br>Rand-Read-512K : 9145.4KB/s [ 17 IOPS] <br>Rand-Write-512K : 10085KB/s [ 19 IOPS] <br>Rand-Read-4K : 3624.8KB/s [ 906 IOPS] <br>Rand-Write-4K : 3300.5KB/s [ 825 IOPS] <br>Rand-Read-4K-QD32 : 8885.1KB/s [ 2221 IOPS] <br>Rand-Write-4K-QD32 : 10492KB/s [ 2622 IOPS]</p></blockquote>
<p>なるほどー。いいかも。</p>
<p>&#160;</p>
<p>参考</p>
<blockquote>
<p>discypus.jp/wiki/</p>
<p><a href="http://discypus.jp/wiki/?%C1%C8%A4%DF%B9%FE%A4%DF%2FRaspberryPi#content_1_45" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">fio &#8211; Flexible I/O Tester (2015-02-22)<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
</blockquote>
</div>
<footer class="entry-footer"></footer>
</div></article><article id="post-898" class="post-898 post type-post status-publish format-standard hentry category-linux"><div class="entry-wrapper">
<header class="entry-header"> <span class="entry-format theme-genericon"></span><div class="entry-meta"> <span class="posted-on">投稿日: <a href="/2015/07/25/ps1/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2015-07-25T20:37:25+09:00">2015年7月25日</time></a> </span><span class="posted-on">更新日:2015年7月25日</span> <span class="categories"> <a href="/category/linux/" rel="category tag noopener noreferrer" data-wpel-link="internal">Linux</a></span>
</div>
<h1 class="entry-title"><a href="/2015/07/25/ps1/" rel="bookmark noopener noreferrer" data-wpel-link="internal">PS1 のフォーマット</a></h1></header><div class="entry-content">
<p>ターミナルの書式を設定しようとするとき、毎回忘れてググるのでメモしておこう。</p>
<blockquote><p>PS1=&quot;[\u@\h \W \D{%m/%d} \t]\\$ &quot;</p></blockquote>
<p>これで、ターミナルは、</p>
<blockquote><p>[root@pi ~ 07/25 11:32:53]#</p></blockquote>
<p>となる。日付と時分秒を出してるだけなんですが、何かと実行終了の日時が出るので便利。</p>
</div>
<footer class="entry-footer"></footer>
</div></article><article id="post-891" class="post-891 post type-post status-publish format-standard hentry category-linux category-osx category-raspberry-pi"><div class="entry-wrapper">
<header class="entry-header"> <span class="entry-format theme-genericon"></span><div class="entry-meta"> <span class="posted-on">投稿日: <a href="/2015/07/25/nfs-boot/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2015-07-25T17:09:06+09:00">2015年7月25日</time></a> </span><span class="posted-on">更新日:2015年7月25日</span> <span class="categories"> <a href="/category/linux/" rel="category tag noopener noreferrer" data-wpel-link="internal">Linux</a>, <a href="/category/osx/" rel="category tag noopener noreferrer" data-wpel-link="internal">osx</a>, <a href="/category/raspberry-pi/" rel="category tag noopener noreferrer" data-wpel-link="internal">Raspberry Pi</a></span>
</div>
<h1 class="entry-title"><a href="/2015/07/25/nfs-boot/" rel="bookmark noopener noreferrer" data-wpel-link="internal">NFS Boot に成功した</a></h1></header><div class="entry-content">
<p>とりあえず、NFS Boot は本当にできるのか試してみました。結果、できました。 <br>実際やってみると、いろいろとはまるところがありましたが、おおむね以下の手順。忘れないうちにメモしておきます。</p>
<p>▼環境</p>
<p>NFS Server・・・・osx 10.9.5</p>
<p>Boot OS・・・・・ 2015-05-05-raspbian-wheezy</p>
<p>&#160;</p>
<p>▼操作の流れ</p>
<p>・NFS サーバでシェアする用意</p>
<p>・arm 用の img のルートファイルシステムを NFS へコピー（大体は第２パーティションにあり。Fedora とは3番目）</p>
<p>・SDCard の FATフォーマットの boot の cmdline.txt へ nfs boot する設定と、IP の設定</p>
<p>&#160;</p>
<p>▼osx の NFS Server 側</p>
<p>NFSの設定を入れて、nfsd を再起動。操作はroot でやっています。オンラインマニュアルは<a href="https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man8/nfsd.8.html" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">ここ<span class="wpel-icon wpel-image wpel-icon-1"></span></a>。</p>
<blockquote><p>&#8212;- /etc/exports <br>/nfs/fedora22 -rw -mapall=root:wheel -network 192.168.1.0 -mask 255.255.255.0</p></blockquote>
<p>exports ファイルがあればnfsd が起動しますが、手動で操作したい場合は</p>
<blockquote><p># nfsd start | stop</p></blockquote>
<p>NFS で提供しているパスの確認。</p>
<blockquote><p># showmount -e localhost <br>Exports list on localhost: <br>/nfs/fedora22&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 192.168.1.0 <br>::</p></blockquote>
<p>最初fedora22 入れようとして、失敗して、RASPIAN 入れたので名前があれですが。</p>
<p>それで、boot したい img をコピー。以下は、centos6.x で、osx の NFS をマウントして、rsync しています。centos6はバーチャルボックスでosx を同じネットワークセグメントにいます。</p>
<blockquote><p>[root@cent66 etc]# df -hT <br>Filesystem&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Type&#160;&#160;&#160;&#160; Size&#160; Used Avail Use% Mounted on <br>:: <br>hope.junkhack:/exports&#160;&#160;&#160;&#160;&#160;&#160; nfs&#160;&#160;&#160;&#160;&#160; 466G&#160; 390G&#160;&#160; 76G&#160; 84% /nfs <br>hope.junkhack:/nfs/fedora22&#160; nfs&#160;&#160;&#160;&#160;&#160; 466G&#160; 390G&#160;&#160; 76G&#160; 84% /mnt/fedora22</p></blockquote>
<p>hope.junkhack は名前解決できるようにしてあります。ちなみに、fstab はこんな感じのデフォルト。</p>
<blockquote><p>&#8212;- /etc/fstab <br>:: <br>hope.junkhack:/exports&#160;&#160;&#160; /nfs&#160;&#160;&#160;&#160;&#160;&#160;&#160; nfs&#160;&#160;&#160;&#160;&#160;&#160;&#160; defaults&#160;&#160;&#160; 0 0 <br>hope.junkhack:/nfs/fedora22&#160;&#160;&#160; /mnt/fedora22&#160;&#160;&#160; nfs&#160;&#160;&#160;&#160;&#160;&#160;&#160; defaults&#160;&#160;&#160; 0 0</p></blockquote>
<p>で、RASPIAN のイメージをマウント。</p>
<blockquote>
<p>[root@cent66 RASPBIAN]# kpartx -av 2015-05-05-raspbian-wheezy.img <br>add map loop0p1 (253:2): 0 114688 linear /dev/loop0 8192 <br>add map loop0p2 (253:3): 0 6277120 linear /dev/loop0 122880</p>
<p>[root@cent66 RASPBIAN]# mount /dev/mapper/loop0p2 /mnt/raspi/</p>
<p>[root@cent66 RASPBIAN]# df -h <br>Filesystem&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Size&#160; Used Avail Use% Mounted on <br>:: <br>hope.junkhack:/exports&#160;&#160;&#160;&#160;&#160;&#160;&#160; 466G&#160; 388G&#160;&#160; 78G&#160; 84% /nfs <br>hope.junkhack:/nfs/fedora22&#160;&#160; 466G&#160; 388G&#160;&#160; 78G&#160; 84% /mnt/fedora22 <br>/dev/mapper/loop0p2&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 3.0G&#160; 2.4G&#160; 451M&#160; 85% /mnt/raspi <br>[root@cent66 RASPBIAN]#</p>
</blockquote>
<p>で、コピー。</p>
<blockquote>
<p>[root@cent66 RASPBIAN]# rsync -av /mnt/raspi/ /mnt/fedora22/ <br>sending incremental file list <br>./ <br>bin/ <br>bin/bash <br>bin/bunzip2</p>
<p>::</p>
<p>var/spool/cron/crontabs/ <br>var/spool/rsyslog/ <br>var/tmp/</p>
<p>sent 2304687346 bytes&#160; received 1293752 bytes&#160; 4274293.05 bytes/sec <br>total size is 2299569061&#160; speedup is 1.00 <br>[root@cent66 RASPBIAN]#</p>
<p>&#160;</p>
</blockquote>
<p>で、NFS でブートするときに fstab の中がそのままだと、SD カードのパーティションをchroot してしまうのでコメントアウト。</p>
<blockquote>
<p>[root@cent66 etc]# vim fstab</p>
<p>proc&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /proc&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; proc&#160;&#160;&#160; defaults&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 0 <br>/dev/mmcblk0p1&#160; /boot&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; vfat&#160;&#160;&#160; defaults&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 2 <br>#/dev/mmcblk0p2&#160; /&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ext4&#160;&#160;&#160; defaults,noatime&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 1</p>
</blockquote>
<p>NFS側のイメージ展開は以上で終わり。</p>
<p>&#160;</p>
<p>▼Boot するcmdline.txt の中に以下を追加</p>
<blockquote><p>root=/dev/nfs rootfstype=nfs nfsroot=192.168.1.17:/nfs/fedora22,udp,vers=3,nolock ip=192.168.1.24:192.168.1.17:192.168.1.1:255.255.255.0:rpi:eth0:off</p></blockquote>
<p>nolock のオプションは必要ないかもしれません。とりあえず、これで動いてはいます。IPのところは以下の書式。</p>
<blockquote><p>ip=&lt;raspberrypi_ip&gt;:&lt;nfs_server_ip&gt;:&lt;default_gateway&gt;:&lt;mask&gt;:rpi:eth0:off</p></blockquote>
<p>シリアルコンソールのブートログは、</p>
<pre class="brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;">[    4.638898] smsc95xx 1-1.1:1.0 eth0: link up, 100Mbps, full-duplex, lpa 0xC5E1

[    4.674857] IP-Config: Complete:

[    4.680180]      device=eth0, hwaddr=b8:27:eb:97:45:fb, ipaddr=192.168.1.24, mask=255.255.255.0, gw=192.168.1.1

[    4.694694]      host=rpi, domain=, nis-domain=(none)

[    4.701878]      bootserver=192.168.1.17, rootserver=192.168.1.17, rootpath=

[    4.719859] VFS: Mounted root (nfs filesystem) readonly on device 0:14.

[    4.729328] devtmpfs: mounted

[    4.735147] Freeing unused kernel memory: 400K (80786000 - 807ea000)

[    5.132474] random: nonblocking pool is initialized

[    6.228285] udevd[177]: starting version 175



Raspbian GNU/Linux 7 pi ttyAMA0



pi login: </pre>
<p>となっています。</p>
<p>NFS Boot させたあと、uname したら、</p>
<blockquote>
<p>root@pi:~# uname -a<br> <br>Linux pi 4.0.7-v7+ #801 SMP PREEMPT Tue Jun 30 18:38:23 BST 2015 armv7l GNU/Linux</p>
<p>root@pi:~#</p>
</blockquote>
<p>げ、fedora の initramfs からブートしてます。SDCard の boot は、初回にスクリプトで作ったやつだった。。。。</p>
<blockquote>
<p>root@pi:/boot# ll *.img<br> <br>-rwxr-xr-x 1 root root 39176850 Jul&#160; 4 17:40 initramfs-0-rescue-18b4f0b4546f49828e1ef5e652cc7b9a.img</p>
<p>-rwxr-xr-x 1 root root 16475761 Jul&#160; 4 17:36 initramfs-4.0.6-300.fc22.armv7hl+lpae.img</p>
<p>-rwxr-xr-x 1 root root&#160; 3987856 Jul&#160; 2 23:35 kernel7.img</p>
<p>-rwxr-xr-x 1 root root&#160; 4016696 Jul&#160; 2 23:35 kernel.img</p>
<p>root@pi:/boot#</p>
</blockquote>
<p>たぶん、RASPIAN のimg の boot からやれば、良いはず。まだ試していませんが。</p>
<p>df はこんな感じで、ルートがnfs になっています。76Gも空きがあるー（osx 側のディスクですが）</p>
<blockquote>
<p>root@pi:~# df -hT<br> <br>Filesystem&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Type&#160;&#160;&#160;&#160;&#160; Size&#160; Used Avail Use% Mounted on</p>
<p>192.168.1.17:/nfs/fedora22 nfs&#160;&#160;&#160;&#160;&#160;&#160; 466G&#160; 390G&#160;&#160; 76G&#160; 84% /</p>
<p>devtmpfs&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; devtmpfs&#160; 459M&#160;&#160;&#160;&#160; 0&#160; 459M&#160;&#160; 0% /dev</p>
<p>tmpfs&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; tmpfs&#160;&#160;&#160;&#160;&#160; 93M&#160; 216K&#160;&#160; 93M&#160;&#160; 1% /run</p>
<p>tmpfs&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; tmpfs&#160;&#160;&#160;&#160; 5.0M&#160;&#160;&#160;&#160; 0&#160; 5.0M&#160;&#160; 0% /run/lock</p>
<p>tmpfs&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; tmpfs&#160;&#160;&#160;&#160; 186M&#160;&#160;&#160;&#160; 0&#160; 186M&#160;&#160; 0% /run/shm</p>
<p>/dev/mmcblk0p1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; vfat&#160;&#160;&#160;&#160;&#160; 200M&#160;&#160; 98M&#160; 102M&#160; 50% /boot</p>
</blockquote>
<p>このままだと、モジュールを読み込んでいないので使えませんが、、、</p>
<blockquote>
<p>root@pi:~# lsmod<br> <br>Module&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Size&#160; Used by</p>
<p>root@pi:~# ll /lib/modules/</p>
<p>total 8</p>
<p>drwxr-xr-x 14 root root 476 May&#160; 6 22:22 3.18.11+</p>
<p>drwxr-xr-x 14 root root 476 May&#160; 6 22:22 3.18.11-v7+</p>
<p>root@pi:~#</p>
</blockquote>
<p>Boot の img を RASPBIAN のに入れ替えて、リブート</p>
<blockquote>
<p>[root@pi ~ 07/25 20:40:51]# ll /boot/*.img<br> <br>-rwxr-xr-x 1 root root 3930004 Apr 27 13:40 /boot/kernel7.img</p>
<p>-rwxr-xr-x 1 root root 3974884 Apr 27 13:40 /boot/kernel.img</p>
</blockquote>
<p>これでkernel も ローダブルモジュールもOK な感じ。</p>
<blockquote>
<p>[root@pi ~ 07/25 20:41:40]# uname -a<br> <br>Linux pi 3.18.11-v7+ #781 SMP PREEMPT Tue Apr 21 18:07:59 BST 2015 armv7l GNU/Linux</p>
<p>[root@pi ~ 07/25 20:44:14]# lsmod</p>
<p>Module&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Size&#160; Used by</p>
<p>cfg80211&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 386508&#160; 0</p>
<p>rfkill&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 16651&#160; 1 cfg80211</p>
<p>rpcsec_gss_krb5&#160;&#160;&#160;&#160;&#160;&#160;&#160; 20958&#160; 0</p>
<p>nfsd&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 263569&#160; 2</p>
<p>snd_bcm2835&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 18649&#160; 0</p>
<p>snd_pcm&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 73475&#160; 1 snd_bcm2835</p>
<p>snd_seq&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 53078&#160; 0</p>
<p>snd_seq_device&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 5628&#160; 1 snd_seq</p>
<p>snd_timer&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 17784&#160; 2 snd_pcm,snd_seq</p>
<p>snd&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 51038&#160; 5 snd_bcm2835,snd_timer,snd_pcm,snd_seq,snd_seq_device</p>
<p>8192cu&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 528365&#160; 0</p>
<p>joydev&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 8879&#160; 0</p>
<p>evdev&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 9950&#160; 2</p>
<p>uio_pdrv_genirq&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 2958&#160; 0</p>
<p>uio&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 8119&#160; 1 uio_pdrv_genirq</p>
</blockquote>
</div>
<footer class="entry-footer"></footer>
</div></article><nav class="navigation posts-navigation" role="navigation" aria-label="投稿"><h2 class="screen-reader-text">投稿ナビゲーション</h2>
<div class="nav-links">
<div class="nav-previous"><a href="/category/linux/page/11/" data-wpel-link="internal" rel="noopener noreferrer">過去の投稿</a></div>
<div class="nav-next"><a href="/category/linux/page/9/" data-wpel-link="internal" rel="noopener noreferrer">新しい投稿</a></div>
</div></nav></main></section></div>
<footer id="colophon" class="site-footer wrap" role="contentinfo"><div class="site-info"> Copyleft - all rights reversed. <span class="sep"> | </span> JunkHack 2011 - 2022 <span class="sep"> | </span> <a href="/about-junkhack/" data-wpel-link="internal" rel="noopener noreferrer">運営者情報<span class="gf"></span></a><span class="sep"> | </span> <a href="/mail/" data-wpel-link="internal" rel="noopener noreferrer">お問い合わせ<span class="gf"></span></a><span class="sep"> | </span> <a href="/privacy/" data-wpel-link="internal" rel="noopener noreferrer">プライバシーポリシー<span class="gf"></span></a>
</div></footer>
</div>
<div id="wpfront-scroll-top-container"> <noscript><img src="/wp-content/plugins/wpfront-scroll-top/images/icons/1.png" alt=""></noscript>
<img class="lazyload" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20210%20140%22%3E%3C/svg%3E" data-src="/wp-content/plugins/wpfront-scroll-top/images/icons/1.png" alt="">
</div> <script type="text/javascript">function wpfront_scroll_top_init() {
                if (typeof wpfront_scroll_top === "function" && typeof jQuery !== "undefined") {
                    wpfront_scroll_top({"scroll_offset":100,"button_width":0,"button_height":0,"button_opacity":0.8,"button_fade_duration":200,"scroll_duration":400,"location":1,"marginX":20,"marginY":20,"hide_iframe":false,"auto_hide":false,"auto_hide_after":2,"button_action":"top","button_action_element_selector":"","button_action_container_selector":"html, body","button_action_element_offset":0});
                } else {
                    setTimeout(wpfront_scroll_top_init, 100);
                }
            }
            wpfront_scroll_top_init();</script> <noscript><style>.lazyload{display:none;}</style></noscript>
<script data-noptimize="1">window.lazySizesConfig=window.lazySizesConfig||{};window.lazySizesConfig.loadMode=1;</script><script async data-noptimize="1" src="/wp-content/plugins/autoptimize/classes/external/js/lazysizes.min.js?ao_version=2.9.5"></script><script type="text/javascript" src="/wp-includes/js/dist/vendor/regenerator-runtime.min.js?ver=0.13.7" id="regenerator-runtime-js"></script> <script type="text/javascript" src="/wp-includes/js/dist/vendor/wp-polyfill.min.js?ver=3.15.0" id="wp-polyfill-js"></script> <script type="text/javascript" id="contact-form-7-js-extra">var wpcf7 = {"api":{"root":"\/wp-json\/","namespace":"contact-form-7\/v1"},"cached":"1"};</script> <script type="text/javascript" id="google-invisible-recaptcha-js-before">var renderInvisibleReCaptcha = function() {

    for (var i = 0; i < document.forms.length; ++i) {
        var form = document.forms[i];
        var holder = form.querySelector('.inv-recaptcha-holder');

        if (null === holder) continue;
		holder.innerHTML = '';

         (function(frm){
			var cf7SubmitElm = frm.querySelector('.wpcf7-submit');
            var holderId = grecaptcha.render(holder,{
                'sitekey': '6Lf2z80ZAAAAAJpiFOn2Cix-QJQkaiC7uBA6NCkS', 'size': 'invisible', 'badge' : 'inline',
                'callback' : function (recaptchaToken) {
					if((null !== cf7SubmitElm) && (typeof jQuery != 'undefined')){jQuery(frm).submit();grecaptcha.reset(holderId);return;}
					 HTMLFormElement.prototype.submit.call(frm);
                },
                'expired-callback' : function(){grecaptcha.reset(holderId);}
            });

			if(null !== cf7SubmitElm && (typeof jQuery != 'undefined') ){
				jQuery(cf7SubmitElm).off('click').on('click', function(clickEvt){
					clickEvt.preventDefault();
					grecaptcha.execute(holderId);
				});
			}
			else
			{
				frm.onsubmit = function (evt){evt.preventDefault();grecaptcha.execute(holderId);};
			}


        })(form);
    }
};</script> <script type="text/javascript" async defer src="https://www.google.com/recaptcha/api.js?onload=renderInvisibleReCaptcha&#038;render=explicit&#038;hl=ja" id="google-invisible-recaptcha-js"></script> <script type="text/javascript" src="/wp-content/themes/hew-wpcom/js/contact.js?ver=20210612" id="sendmail-js"></script> <script type="text/javascript" src="https://www.google.com/recaptcha/api.js?render=6Lf2z80ZAAAAAJpiFOn2Cix-QJQkaiC7uBA6NCkS&#038;ver=3.0" id="google-recaptcha-js"></script> <script type="text/javascript" id="wpcf7-recaptcha-js-extra">var wpcf7_recaptcha = {"sitekey":"6Lf2z80ZAAAAAJpiFOn2Cix-QJQkaiC7uBA6NCkS","actions":{"homepage":"homepage","contactform":"contactform"}};</script> <script defer src="/wp-content/cache/autoptimize/js/autoptimize_b6c6c7d2c47bd5f86199fb6f5207fc2e.js"></script>
</body>
</html>