<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="/xmlrpc.php"> <noscript id="aonoscrcss"></noscript>
<title>PGND と GND の処理 &#8211; JunkHack</title>
<meta name="robots" content="max-image-preview:large">
<link rel="dns-prefetch" href="//www.google.com">
<link rel="dns-prefetch" href="//www.googletagmanager.com">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
<link rel="alternate" type="application/rss+xml" title="JunkHack &raquo; フィード" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="JunkHack &raquo; コメントフィード" href="/comments/feed/">
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=5.8.3" type="text/css" media="all">
<link rel="stylesheet" id="contact-form-7-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_76e12144b6be9bc0a17dd880c5566156.css?ver=5.4.1" type="text/css" media="all">
<link rel="stylesheet" id="contact-form-7-confirm-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_c605b424176e2b3541570e9ebd66830b.css?ver=5.1" type="text/css" media="all">
<link rel="stylesheet" id="wpel-style-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_04d23f0dc44b526ca48d1d564eb7537c.css?ver=2.50" type="text/css" media="all">
<link rel="stylesheet" id="wpfront-scroll-top-css" href="/wp-content/plugins/wpfront-scroll-top/css/wpfront-scroll-top.min.css?ver=2.0.7.08086" type="text/css" media="all">
<link rel="stylesheet" id="related-frontend-css-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_ce8bbdb7cabcf5f0fa8d28d9868b7638.css?ver=0.1.0" type="text/css" media="all">
<link rel="stylesheet" id="hew-fonts-css" href="https://fonts.googleapis.com/css?family=Open+Sans%3A400%2C600%2C700%2C400italic%2C600italic%2C700italic%7CNoto+Serif%3A400%2C700%2C400italic%2C700italic&#038;subset=latin" type="text/css" media="all">
<link rel="stylesheet" id="genericons-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_c14dd6e84e694a66c7e27f11220ed49a.css?ver=3.4.1" type="text/css" media="all">
<link rel="stylesheet" id="hew-style-css" href="/wp-content/cache/autoptimize/css/autoptimize_single_923a46d76606f1b43e3f3639ca289d5f.css?ver=5.8.3" type="text/css" media="all"> <script type="text/javascript" src="/wp-content/plugins/jquery-manager/assets/js/jquery-3.5.1.min.js" id="jquery-core-js"></script> <script type="text/javascript" src="/wp-content/plugins/jquery-manager/assets/js/jquery-migrate-3.3.0.min.js" id="jquery-migrate-js"></script>  <script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-199105184-1" id="google_gtagjs-js" async></script> <script type="text/javascript" id="google_gtagjs-js-after">window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}
gtag('set', 'linker', {"domains":["hack.gpl.jp"]} );
gtag("js", new Date());
gtag("set", "developer_id.dZTNiMT", true);
gtag("config", "UA-199105184-1", {"anonymize_ip":true});</script> <link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/posts/1405">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml">
<meta name="generator" content="WordPress 5.8.3">
<link rel="canonical" href="/2015/10/17/pgnd-e381a8-gnd-e381aee587a6e79086/">
<link rel="shortlink" href="/?p=1405">
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2F2015%2F10%2F17%2Fpgnd-e381a8-gnd-e381aee587a6e79086%2F">
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2F2015%2F10%2F17%2Fpgnd-e381a8-gnd-e381aee587a6e79086%2F&#038;format=xml">
<meta name="generator" content="Site Kit by Google 1.48.1">
<meta name="google-adsense-platform-account" content="ca-host-pub-2644536267352236">
<meta name="google-adsense-platform-domain" content="sitekit.withgoogle.com">  <script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2711753458083215" crossorigin="anonymous" type="text/javascript"></script> </head>  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-161935417-3"></script> <script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-161935417-3');</script> <body class="post-template-default single single-post postid-1405 single-format-standard has-sidebar has-header-image">
<div id="page" class="hfeed site">
<div id="widgets-wrapper" class="hide"><div id="secondary" class="wrap top-widget-area" role="complementary"><div id="sidebar-4" class="widget-area" role="complementary"><aside id="block-2" class="widget widget_block"><script async src="https://cse.google.com/cse.js?cx=df8210082ba786774"></script> <div class="gcse-search"></div></aside></div></div></div> <a class="skip-link screen-reader-text" href="#content">コンテンツへ移動</a><header id="masthead" class="site-header" role="banner"> <a class="site-logo" href="/" title="JunkHack" rel="home noopener noreferrer" data-wpel-link="internal"> <noscript><img src="https://secure.gravatar.com/avatar/997681319c3cbb0bdcca95770d5edaa6/?s=80&#038;d=mm" width="80" height="80" alt="" class="no-grav header-image"></noscript>
<img src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%2080%2080%22%3E%3C/svg%3E" data-src="https://secure.gravatar.com/avatar/997681319c3cbb0bdcca95770d5edaa6/?s=80&#038;d=mm" width="80" height="80" alt="" class="lazyload no-grav header-image"> </a><div class="site-branding">
<h1 class="site-title"><a href="/" rel="home noopener noreferrer" data-wpel-link="internal">JunkHack</a></h1>
<h2 class="site-description">アリエクでポチった JUNKHACK</h2>
</div>
<nav id="site-navigation" class="main-navigation" role="navigation"> <button class="menu-toggle toggle-button"><span class="screen-reader-text">メインメニュー</span></button><div class="menu-new-menu-container"><ul id="menu-new-menu" class="menu">
<li id="menu-item-10686" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10686"><a href="/list/" data-wpel-link="internal" rel="noopener noreferrer">List</a></li>
<li id="menu-item-11016" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11016"><a href="/mail/" data-wpel-link="internal" rel="noopener noreferrer">CONTACT</a></li>
<li id="menu-item-10671" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10671"><a href="https://jh.gpl.jp/" data-wpel-link="external" target="_blank" rel="external noopener noreferrer" class="wpel-icon-right">Mirror Netlify<span class="wpel-icon wpel-image wpel-icon-1"></span></a></li>
</ul></div></nav><div class="toggle-wrapper"> <a href="#" class="widgets-toggle toggle-button" title="ウィジェット"> <span class="screen-reader-text">ウィジェット</span> </a>
</div></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main" role="main"><article id="post-1405" class="post-1405 post type-post status-publish format-standard hentry category-backboost category-esp8266 category-pcb"><div class="entry-wrapper">
<header class="entry-header"> <span class="entry-format theme-genericon"></span><div class="entry-meta"> <span class="posted-on">投稿日: <a href="/2015/10/17/pgnd-e381a8-gnd-e381aee587a6e79086/" rel="bookmark noopener noreferrer" data-wpel-link="internal"><time class="entry-date published updated" datetime="2015-10-17T19:38:04+09:00">2015年10月17日</time></a> </span><span class="posted-on">更新日:2015年10月17日</span> <span class="categories"> <a href="/category/backboost/" rel="category tag noopener noreferrer" data-wpel-link="internal">BackBoost</a>, <a href="/category/esp8266/" rel="category tag noopener noreferrer" data-wpel-link="internal">ESP8266</a>, <a href="/category/pcb/" rel="category tag noopener noreferrer" data-wpel-link="internal">PCB</a></span>
</div>
<div class="flex"><h1 class="entry-title">PGND と GND の処理</h1></div></header><div class="entry-content">
<p>これがわからなくて1日消費しました。</p>
<p>何が、わからなかったかといいますと、PGND と GND をつなぐ方法です。２つのグランドが電源周りにあるのですが、オフィシャルの回路を見るとこのようになっています。</p>
<p></p>
<noscript><img title="tps63000_pdf" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="tps63000_pdf" src="/wp-content/uploads/2015/10/tps63000_pdf.png" width="640" height="267"></noscript>
<img class="lazyload" title="tps63000_pdf" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="tps63000_pdf" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20267%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/10/tps63000_pdf.png" width="640" height="267"><p>GND が２つあって、PGND はパワー･スイッチ回路用グランドで、GNDは、コントロール/ロジック回路用グランドのようです。PGND は、熱処理するためにPowerPAD （部品中央に位置する）に接続し、PCB の銅箔面の面積を稼いで空冷させるようです。</p>
<p></p>
<noscript><img title="1tps63000_pdf" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="1tps63000_pdf" src="/wp-content/uploads/2015/10/1tps63000_pdf.png" width="609" height="480"></noscript>
<img class="lazyload" title="1tps63000_pdf" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="1tps63000_pdf" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20609%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/10/1tps63000_pdf.png" width="609" height="480"><p> </p>
<p>しかし、Eagle は、複数の属性を持つ名前同士を（用語では、Name とか、クラス（Net Class）と言うそうです）接続できず、どれか１つの属性になります。以下の場合は、GND と PGND が別に接続されて、意図したように配線されません。</p>
<p> </p>
<noscript><img title="0" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="0" src="/wp-content/uploads/2015/10/0.png" width="640" height="387"></noscript>
<img class="lazyload" title="0" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="0" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20387%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/10/0.png" width="640" height="387"><p>何かやり方があるのだろうと、いろいろ調べましたが結局わからず、手法として、以下のような解決策で実現しました。</p>
<p></p>
<noscript><img title="5" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="5" src="/wp-content/uploads/2015/10/5.png" width="640" height="383"></noscript>
<img class="lazyload" title="5" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="5" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20383%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/10/5.png" width="640" height="383"><p>２つのグランドを接続するためのパーツを回路図に入れて、そこにPGND と GND をくっつけました。ジョイントのような考え方ですが、回路図中にGND っぽい図が出るので、これを使いました。</p>
<p></p>
<noscript><img title="3" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="3" src="/wp-content/uploads/2015/10/3.png" width="537" height="480"></noscript>
<img class="lazyload" title="3" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="3" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20537%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/10/3.png" width="537" height="480"><p>こうすれば、2箇所の違うNet Class を１つのパーツに接続できるので目的が果たせました。</p>
<p>PCB 上ではジョイントを裏側に回し、べたアースとスルーホールをつけて熱を逃がします。</p>
<p></p>
<noscript><img title="4" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="4" src="/wp-content/uploads/2015/10/4.png" width="400" height="480"></noscript>
<img class="lazyload" title="4" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="4" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20400%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/10/4.png" width="400" height="480"><p>PGNDは、以下のように接続されています。</p>
<p></p>
<noscript><img title="2" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="2" src="/wp-content/uploads/2015/10/21.png" width="400" height="480"></noscript>
<img class="lazyload" title="2" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="2" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20400%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/10/21.png" width="400" height="480"><p>べたアースはググればすぐに出てくるので省略です。</p>
<p></p>
<noscript><img title="1" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="1" src="/wp-content/uploads/2015/10/14.png" width="397" height="480"></noscript>
<img class="lazyload" title="1" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="1" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20397%20480%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/10/14.png" width="397" height="480"><p>とにかく、これで目的は果たせましたが、これが正当なやり方なのかは不明です。</p>
<p> </p>
<p>そして、LEDの位置は、裏面のサイド寄りにつけることにしました。</p>
<p></p>
<noscript><img title="6" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="6" src="/wp-content/uploads/2015/10/6.png" width="640" height="443"></noscript>
<img class="lazyload" title="6" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="6" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20443%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/10/6.png" width="640" height="443"><p>ケースに組み込んだ時、この位置だったら光っているのがわかるかなと。</p>
<p> </p>
<p>GND もべたアースを取ったほうがいいだろうなということで、以下のように。</p>
<p> </p>
<p></p>
<noscript><img title="pgnd" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="pgnd" src="/wp-content/uploads/2015/10/pgnd.png" width="640" height="271"></noscript>
<img class="lazyload" title="pgnd" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="pgnd" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20271%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/10/pgnd.png" width="640" height="271"><p>このべたアースを取るか取らないかで、何が変わるのだろう？</p>
<p></p>
<noscript><img title="gnd" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="gnd" src="/wp-content/uploads/2015/10/gnd.png" width="640" height="268"></noscript>
<img class="lazyload" title="gnd" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="gnd" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20640%20268%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/10/gnd.png" width="640" height="268"><p>熱処理はこれでOK。</p>
<p>あ、ENピンを忘れているようです。最終確認の時にやりますか。</p>
<p> </p>
<p>編集後記</p>
<p>データシートを見直してみると、レイアウトについての考察 の項がありました。PGND と GND を分ける理由は、引用すると以下です。</p>
<blockquote>
<p><a href="https://strawberry-linux.com/pub/tps63000.pdf" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">データシート P.15<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p>レイアウトについての考察</p>
<p>::</p>
<p>コントロール･グランドを適切に配置するには、配線を短くし、さらに電源グランドの配線から分離することを推奨します。このことにより、電源グランドの電流とコントロール･グランドの電流の重なり合いにより起こり得るグランド･シフトの問題が避けられます。</p>
<p>::<a href="http://www.ti.com/lit/ds/symlink/tps63001.pdf" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">英文 P.16<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p>To lay out the control ground, it is recommended to use short traces as well, separated from the power ground traces. This avoids ground shift problems, which can occur due to superimposition of power ground current and control ground current.</p>
</blockquote>
<p>この「グランド・シフトの問題」というのは、おそらく「グランドGNDの電位が浮き上がる」事かと。</p>
<p>以下の特許の資料が詳しいです。</p>
<blockquote>
<p>ルネサス エレクトロニクス株式会社</p>
<p><a href="http://www.ekouhou.net/%E5%8D%8A%E5%B0%8E%E4%BD%93%E8%A3%85%E7%BD%AE/disp-A,2010-73951.html" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">【公開番号】特開2010－73951（P2010－73951A）<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p>::</p>
<p>【０１４２】 <br>図１２は、レギュレータ回路Ｒｅｇ、内部回路ｃｉｒｃ１－１および内部回路ｃｉｒｃ１－２が、金属配線ｍｅｔａｌＶと金属配線ｍｅｔａｌＧとにそれぞれ接続されている詳細を示す図である。内部回路ｃｉｒｃ１－１および内部回路ｃｉｒｃ１－２は、図１に示す内部回路ｃｉｒｃ１が複数設けられていることを意味する。 <br>【０１４３】 <br>図１２（ａ）は、レギュレータ回路Ｒｅｇ、内部回路ｃｉｒｃ１－１および内部回路ｃｉｒｃ１－２が、それぞれパッドＧに共通に接続されていることを示す図である。図１２（ｂ）は、レギュレータ回路Ｒｅｇが接続されているパッドＧと、内部回路ｃｉｒｃ１－１および内部回路ｃｉｒｃ１－２が接続されているパッドＧとが分けて設けられていることを示す図である。 <br>【０１４４】 <br>図１２（ａ）に示すように、レギュレータ回路Ｒｅｇ、内部回路ｃｉｒｃ１－１および内部回路ｃｉｒｃ１－２は、パッケージＰＫＧの外部より外部電源電圧ｅｘｔＶｃｃを供給されるパッドＶと金属配線ｍｅｔａｌＶにより接続されている。 <br>【０１４５】 <br>さらに、レギュレータ回路Ｒｅｇ、内部回路ｃｉｒｃ１－１および内部回路ｃｉｒｃ１－２は、パッケージＰＫＧの外部より接地電圧（グランド）ＧＮＤが与えられるパッドＧと金属配線ｍｅｔａｌＧにより接続されている。 <br>【０１４６】 <br>内部回路ｃｉｒｃ１－１および内部回路ｃｉｒｃ１－２が、内部回路ｃｉｒｃ２と信号の送受信を行うと、金属配線ｍｅｔａｌＧに各回路から電流ｉが流れる。金属配線ｍｅｔａｌＧは、配線抵抗Ｒを有しており、ここに２回路から電流が流れるため、２ｉＲ（＝Ｖ）の電圧が発生する。 <br>【０１４７】 <br>このとき、発生した２ｉＲ（＝Ｖ）によってグランドＧＮＤの電位が浮き上がる（グランドシフトが発生する）場合がある。そして、同じパッドＧに接続されているレギュレータ回路ＲｅｇのグランドＧＮＤも電位が浮き上がることにより、動作が不安定になる場合がある。 <br>【０１４８】 <br>このようなレギュレータ回路Ｒｅｇの不安定動作を避けるためには、図１２（ｂ）に示すように、レギュレータ回路Ｒｅｇが接続されるパッドＧと、内部回路ｃｉｒｃ１－１および内部回路ｃｉｒｃ１－２が接続されるパッドＧとを分けて設けるとよい。 <br>【０１４９】 <br>つまり、電源領域ＰｏｗＡｒｅａのパッドＧと、信号領域ＳｉｇＡｒｅａのパッドＧは、分けて設けるとよい。 <br>【０１５０】 <br>パッドＧを分けて設けることにより、図１２（ｂ）に示すように内部回路ｃｉｒｃ１－１および内部回路ｃｉｒｃ１－２が、内部回路ｃｉｒｃ２と信号の送受信を行っても、レギュレータ回路ＲｅｇのグランドＧＮＤに電流が流れ込まず、グランドＧＮＤの電位の浮き上がりもなくなるので、レギュレータ回路Ｒｅｇの動作が不安定になることを少なくすることができる。</p>
<p></p>
<noscript><img title="A,2010-073951_000014_small" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="A,2010-073951_000014_small" src="/wp-content/uploads/2015/10/a2010073951_000014_small.jpg" width="425" height="580"></noscript>
<img class="lazyload" title="A,2010-073951_000014_small" style="border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;" border="0" alt="A,2010-073951_000014_small" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20425%20580%22%3E%3C/svg%3E" data-src="/wp-content/uploads/2015/10/a2010073951_000014_small.jpg" width="425" height="580"><p> </p>
</blockquote>
<p>厳密にはGNDに落ちるときにも配線抵抗があるので、電位差が発生し、これをグランド・シフトというそうです。電源回路Aとロジック回路BのGNDへ影響を受けなくするため、GNDを分離するといいよということです。要するに良いGND とは、0V を常にキープすること。べたアースとか、音響設備でアースが大事だとか、そういう理由だったのですね。納得です。</p>
<p> </p>
<p>参考</p>
<blockquote>
<p><a href="https://strawberry-linux.com/support/12055/1531786" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">ストロベリーリナックスさんのサーモグラフィ画像<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p><a href="http://www.picfun.com/Eagle/Eagle24.html" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">べたパターンの描画<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p><a href="http://www.piclist.com/images/www/hobby_elec/eagle32.htm" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">パターン図作成のテクニック (8)<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p><a href="http://d.hatena.ne.jp/kzono/20080817/1218956607" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">DGND, PGND, 1点アース : kzonoの日記<span class="wpel-icon wpel-image wpel-icon-1"></span></a></p>
<p> </p>
</blockquote>
<p>▼やるかどうか検討</p>
<p>・パワーセーブモードを有効、無効にするのをESP8266 からコントロール</p>
<p>・PIN7 の PS/SYNC がGND(0) だとパワーセーブ有効。PIN8 VINA(1) に接続で無効にできる</p>
<p>・負荷が10mA 以下だと<a href="https://strawberry-linux.com/support/12055/1531770" target="_blank" rel="noopener noreferrer external" data-wpel-link="external" class="wpel-icon-right">パワーセーブのほうが省電力だそう<span class="wpel-icon wpel-image wpel-icon-1"></span></a>。</p>
<p>・deepspleep の時は、有効にして、起き上がったら無効にするようコントロール</p>
<p>・GPIOがHIGH で、PIN7 と PIN8 に接続するように、P-chan mosFET をつけるなど。</p>
<p> PIN7 が HIGH(1.2V 以上) になれば、無効なので、GPIO から抵抗をつけて HiGH にすればいい？</p>
</div>
<footer class="entry-footer"></footer>
</div></article><nav class="navigation post-navigation" role="navigation" aria-label="投稿"><h2 class="screen-reader-text">投稿ナビゲーション</h2>
<div class="nav-links">
<div class="nav-previous"><a href="/2015/10/16/hot-air-gun/" rel="prev noopener noreferrer" data-wpel-link="internal">Hot Air Gun</a></div>
<div class="nav-next"><a href="/2015/10/19/control-power-save-with-esp/" rel="next noopener noreferrer" data-wpel-link="internal">パワーセーブをESPでコントロール</a></div>
</div></nav></main></div></div>
<footer id="colophon" class="site-footer wrap" role="contentinfo"><div class="site-info"> Copyleft - all rights reversed. <span class="sep"> | </span> JunkHack 2011 - 2022 <span class="sep"> | </span> <a href="/about-junkhack/" data-wpel-link="internal" rel="noopener noreferrer">運営者情報<span class="gf"></span></a><span class="sep"> | </span> <a href="/mail/" data-wpel-link="internal" rel="noopener noreferrer">お問い合わせ<span class="gf"></span></a><span class="sep"> | </span> <a href="/privacy/" data-wpel-link="internal" rel="noopener noreferrer">プライバシーポリシー<span class="gf"></span></a>
</div></footer>
</div>
<div id="wpfront-scroll-top-container"> <noscript><img src="/wp-content/plugins/wpfront-scroll-top/images/icons/1.png" alt=""></noscript>
<img class="lazyload" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20210%20140%22%3E%3C/svg%3E" data-src="/wp-content/plugins/wpfront-scroll-top/images/icons/1.png" alt="">
</div> <script type="text/javascript">function wpfront_scroll_top_init() {
                if (typeof wpfront_scroll_top === "function" && typeof jQuery !== "undefined") {
                    wpfront_scroll_top({"scroll_offset":100,"button_width":0,"button_height":0,"button_opacity":0.8,"button_fade_duration":200,"scroll_duration":400,"location":1,"marginX":20,"marginY":20,"hide_iframe":false,"auto_hide":false,"auto_hide_after":2,"button_action":"top","button_action_element_selector":"","button_action_container_selector":"html, body","button_action_element_offset":0});
                } else {
                    setTimeout(wpfront_scroll_top_init, 100);
                }
            }
            wpfront_scroll_top_init();</script> <noscript><style>.lazyload{display:none;}</style></noscript>
<script data-noptimize="1">window.lazySizesConfig=window.lazySizesConfig||{};window.lazySizesConfig.loadMode=1;</script><script async data-noptimize="1" src="/wp-content/plugins/autoptimize/classes/external/js/lazysizes.min.js?ao_version=2.9.5"></script><script type="text/javascript" src="/wp-includes/js/dist/vendor/regenerator-runtime.min.js?ver=0.13.7" id="regenerator-runtime-js"></script> <script type="text/javascript" src="/wp-includes/js/dist/vendor/wp-polyfill.min.js?ver=3.15.0" id="wp-polyfill-js"></script> <script type="text/javascript" id="contact-form-7-js-extra">var wpcf7 = {"api":{"root":"\/wp-json\/","namespace":"contact-form-7\/v1"},"cached":"1"};</script> <script type="text/javascript" id="google-invisible-recaptcha-js-before">var renderInvisibleReCaptcha = function() {

    for (var i = 0; i < document.forms.length; ++i) {
        var form = document.forms[i];
        var holder = form.querySelector('.inv-recaptcha-holder');

        if (null === holder) continue;
		holder.innerHTML = '';

         (function(frm){
			var cf7SubmitElm = frm.querySelector('.wpcf7-submit');
            var holderId = grecaptcha.render(holder,{
                'sitekey': '6Lf2z80ZAAAAAJpiFOn2Cix-QJQkaiC7uBA6NCkS', 'size': 'invisible', 'badge' : 'inline',
                'callback' : function (recaptchaToken) {
					if((null !== cf7SubmitElm) && (typeof jQuery != 'undefined')){jQuery(frm).submit();grecaptcha.reset(holderId);return;}
					 HTMLFormElement.prototype.submit.call(frm);
                },
                'expired-callback' : function(){grecaptcha.reset(holderId);}
            });

			if(null !== cf7SubmitElm && (typeof jQuery != 'undefined') ){
				jQuery(cf7SubmitElm).off('click').on('click', function(clickEvt){
					clickEvt.preventDefault();
					grecaptcha.execute(holderId);
				});
			}
			else
			{
				frm.onsubmit = function (evt){evt.preventDefault();grecaptcha.execute(holderId);};
			}


        })(form);
    }
};</script> <script type="text/javascript" async defer src="https://www.google.com/recaptcha/api.js?onload=renderInvisibleReCaptcha&#038;render=explicit&#038;hl=ja" id="google-invisible-recaptcha-js"></script> <script type="text/javascript" src="/wp-content/themes/hew-wpcom/js/contact.js?ver=20210612" id="sendmail-js"></script> <script type="text/javascript" src="https://www.google.com/recaptcha/api.js?render=6Lf2z80ZAAAAAJpiFOn2Cix-QJQkaiC7uBA6NCkS&#038;ver=3.0" id="google-recaptcha-js"></script> <script type="text/javascript" id="wpcf7-recaptcha-js-extra">var wpcf7_recaptcha = {"sitekey":"6Lf2z80ZAAAAAJpiFOn2Cix-QJQkaiC7uBA6NCkS","actions":{"homepage":"homepage","contactform":"contactform"}};</script> <script defer src="/wp-content/cache/autoptimize/js/autoptimize_b6c6c7d2c47bd5f86199fb6f5207fc2e.js"></script>
</body>
</html>