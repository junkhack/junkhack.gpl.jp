{"id":697,"date":"2015-05-09T22:55:14","date_gmt":"2015-05-09T13:55:14","guid":{"rendered":"https:\/\/hack.gpl.jp\/?p=697"},"modified":"2015-05-09T22:55:14","modified_gmt":"2015-05-09T13:55:14","slug":"esp12%e5%8d%98%e4%bd%93%e3%81%a7%e5%85%89%e3%82%bb%e3%83%b3%e3%82%b5%e3%83%bc%e3%82%a2%e3%83%8a%e3%83%ad%e3%82%b0%e8%aa%ad%e3%81%bf","status":"publish","type":"post","link":"https:\/\/hack.gpl.jp\/2015\/05\/09\/esp12%e5%8d%98%e4%bd%93%e3%81%a7%e5%85%89%e3%82%bb%e3%83%b3%e3%82%b5%e3%83%bc%e3%82%a2%e3%83%8a%e3%83%ad%e3%82%b0%e8%aa%ad%e3%81%bf\/","title":{"rendered":"ESP12\u5358\u4f53\u3067\u5149\u30bb\u30f3\u30b5\u30fc\u30a2\u30ca\u30ed\u30b0\u8aad\u307f"},"content":{"rendered":"<p>Aliexpress\u7d4c\u7531\u3067\u8cfc\u5165\u3057\u305f\u7d20\u6750\u3067\u904a\u3073\u307e\u3057\u305f\u3002<\/p>\n<p>20\u500b\u3067\u300198\u5186\u306e<a href=\"http:\/\/ja.aliexpress.com\/item\/HE-Practical-New-Electronic-Products-Passive-Components-20pcs-GL5528-Photo-Light-Sensitive-Red-Resistor-Photoresistor-EH\/2036038880.html?isOrigTitle=true\" target=\"_blank\" rel=\"noopener noreferrer\">GL5528<\/a>\u5149\u30bb\u30f3\u30b5\u30fc\u3092\u3064\u3051\u3066\u307f\u307e\u3057\u305f\u3002<\/p>\n<p><img loading=\"lazy\" decoding=\"async\" title=\"IMG_0269\" style=\"border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;\" border=\"0\" alt=\"IMG_0269\" src=\"http:\/\/hack.gpl.jp\/wp-content\/uploads\/2015\/05\/img_02691.jpg\" width=\"640\" height=\"480\" \/> <\/p>\n<p>20\u500b\u306798\u5186\u3068\u3044\u3046\u3053\u3068\u306f\u30011\u500b\u3042\u305f\u308a\u7d045\u5186\u3067\u3059\u306d\u3002<\/p>\n<p><img loading=\"lazy\" decoding=\"async\" title=\"esp12-cde_fzz_-_Fritzing_-__\u30d6\u30ec\u30c3\u30c9\u30dc\u30fc\u30c9_\u30d3\u30e5\u30fc_\" style=\"border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;\" border=\"0\" alt=\"esp12-cde_fzz_-_Fritzing_-__\u30d6\u30ec\u30c3\u30c9\u30dc\u30fc\u30c9_\u30d3\u30e5\u30fc_\" src=\"http:\/\/hack.gpl.jp\/wp-content\/uploads\/2015\/05\/esp12cde_fzz__fritzing_____.png\" width=\"617\" height=\"480\" \/> <\/p>\n<p>ADC \u306b\u3053\u3093\u306a\u611f\u3058\u3067\u3064\u3051\u3066\u307f\u307e\u3057\u305f\u3002<\/p>\n<p>\u5f53\u521dADC Pin\u306b\u3064\u3051\u3066\u3082\u5024\u304c\u62fe\u3048\u305a\u3001\u62b5\u6297\u5024\u3092\u53ef\u5909\u3067\u8abf\u6574\u3057\u305f\u3089\u3046\u307e\u304f\u5024\u304c\u53d6\u308c\u307e\u3057\u305f\u3002\u3053\u306eADC-GND\u9593\u306e\u96fb\u5727\u306f\u3001\u5f37\u3044\u5149\u3092\u5f53\u3066\u305f\u72b6\u614b\u3067\u7d04\uff11\uff0e\uff11\uff13V\u304f\u3089\u3044\u3067\u3059\u3002\u591c\u3001\u96fb\u6c17\u3092\u3064\u3051\u305f\u72b6\u614b\u3067\uff10\uff0e\uff19\uff18V\u304f\u3089\u3044\u3002\u624b\u3067\u8986\u3046\u3068\uff10\uff0e\uff16V\u304f\u3089\u3044\u306b\u306a\u308b\u611f\u3058\u3067\u3059\u3002<\/p>\n<p>&#160;<\/p>\n<p>\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u3067\u3059\u3002\u30a8\u30e9\u30fc\u51e6\u7406\u304c\u629c\u3051\u3066\u3044\u308b\u306e\u304b\u3001\u30d0\u30b0\u304c\u3042\u308b\u306e\u304b\u308f\u304b\u308a\u307e\u305b\u3093\u304c\u3061\u3087\u3063\u3068\u4e0d\u5b89\u5b9a\u3067\u3059\u3002<\/p>\n<pre class=\"brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;\">\/*\n ESP8266 HTTP get webclient.\n ADC Read test.\n https:\/\/thingspeak.com\/channels\/37124\n Arduino-compatible IDE with ESP8266\n arduino-1.6.1-macosx-java-latest-signed.zip\n https:\/\/github.com\/esp8266\/Arduino\n JunkHack 2015.05.09\n *\/\n \n#include &lt;ESP8266WiFi.h&gt;\n \nconst char* ssid     = &quot;JunkHack&quot;;\nconst char* password = &quot;testtest&quot;;\n \nconst char* host = &quot;184.106.153.149&quot;;\n\nint WiFiConLed = 13;\nint WEBconLed = 12;\n\nvoid setup() {\n  pinMode(WiFiConLed, OUTPUT);\n  pinMode(WEBconLed, OUTPUT);\n  Serial.begin(115200);\n  delay(10);\n \n  \/\/ We start by connecting to a WiFi network\n \n  Serial.println();\n  Serial.println();\n  Serial.print(&quot;Connecting to &quot;);\n  Serial.println(ssid);\n \n  WiFi.begin(ssid, password);\n \n  while (WiFi.status() != WL_CONNECTED) {\n    delay(500);\n    Serial.print(&quot;.&quot;);\n    digitalWrite(WiFiConLed, HIGH);\n    delay(400);\n    digitalWrite(WiFiConLed, LOW);\n    delay(100);\n  }\n \n  Serial.println(&quot;&quot;);\n  Serial.println(&quot;WiFi connected&quot;);\n  Serial.println(&quot;IP address: &quot;);\n  Serial.println(WiFi.localIP());\n}\n \nint value = 0;\nint count = 0;\nint adc = 0;\n\nvoid loop() {\n  delay(5000);\n  ++value;\n \n  Serial.print(&quot;connecting to &quot;);\n  Serial.println(host);\n \n  \/\/ Use WiFiClient class to create TCP connections\n  WiFiClient client;\n  const int httpPort = 80;\n  if (!client.connect(host, httpPort)) {\n    Serial.println(&quot;connection failed&quot;);\n    return;\n  }\n  \n  digitalWrite(WEBconLed, HIGH);\n  delay(1000);\n  count += 1;\n\n  Serial.print(&quot;ADC: &quot;);\n  adc = analogRead(A0);\n  Serial.println(adc);\n \n  \/\/ We now create a URI for the request\n  String url = &quot;\/update?key=5GPL7J7EVNB5R8GE&amp;field1=&quot;;\n  url += adc;\n  Serial.print(&quot;Requesting URL: &quot;);\n  Serial.println(url);\n \n  \/\/ This will send the request to the server\n  client.print(String(&quot;GET &quot;) + url + &quot; HTTP\/1.1\\r\\n&quot; +\n               &quot;Host: &quot; + host + &quot;\\r\\n&quot; +\n               &quot;Connection: close\\r\\n\\r\\n&quot;);\n  delay(10);\n \n  \/\/ Read all the lines of the reply from server and print them to Serial\n  while(client.available()){\n    String line = client.readStringUntil('\\r');\n    Serial.print(line);\n  }\n \n  \/\/ Close connection\n  Serial.println();\n  Serial.println(&quot;closing connection&quot;);\n  digitalWrite(WEBconLed, LOW);\n}<\/pre>\n<p>&#160;<\/p>\n<p>\u3068\u308a\u3042\u3048\u305a\u3001\u3053\u3093\u306a\u611f\u3058\u3067\u3001\u30c7\u30fc\u30bf\u304c\u6295\u3052\u3089\u308c\u3066\u3044\u307e\u3059\u3002<\/p>\n<\/p>\n<p><a href=\"https:\/\/thingspeak.com\/channels\/37124\" target=\"_blank\" rel=\"noopener noreferrer\"><img loading=\"lazy\" decoding=\"async\" title=\"ESP12_-_ThingSpeak\" style=\"border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;\" border=\"0\" alt=\"ESP12_-_ThingSpeak\" src=\"http:\/\/hack.gpl.jp\/wp-content\/uploads\/2015\/05\/esp12__thingspeak.png\" width=\"470\" height=\"328\" \/><\/a><\/p>\n","protected":false},"excerpt":{"rendered":"<p>Aliexpress\u7d4c\u7531\u3067\u8cfc\u5165\u3057\u305f\u7d20\u6750\u3067\u904a\u3073\u307e\u3057\u305f\u3002 20\u500b\u3067\u300198\u5186\u306eGL5528\u5149\u30bb\u30f3\u30b5\u30fc\u3092\u3064\u3051\u3066\u307f\u307e\u3057\u305f\u3002 20\u500b\u306798\u5186\u3068\u3044\u3046\u3053\u3068\u306f\u30011\u500b\u3042\u305f\u308a\u7d045\u5186\u3067\u3059\u306d\u3002 ADC \u306b\u3053\u3093\u306a\u611f\u3058\u3067\u3064\u3051\u3066\u307f\u307e\u3057\u305f\u3002 \u5f53\u521dADC  [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_acf_changed":false,"_uag_custom_page_level_css":"","footnotes":""},"categories":[6,30,63],"tags":[],"acf":[],"uagb_featured_image_src":{"full":false,"thumbnail":false,"medium":false,"medium_large":false,"large":false,"1536x1536":false,"2048x2048":false,"post-thumbnail":false},"uagb_author_info":{"display_name":"JunkHack","author_link":"https:\/\/hack.gpl.jp\/author\/junkhack\/"},"uagb_comment_info":1,"uagb_excerpt":"Aliexpress\u7d4c\u7531\u3067\u8cfc\u5165\u3057\u305f\u7d20\u6750\u3067\u904a\u3073\u307e\u3057\u305f\u3002 20\u500b\u3067\u300198\u5186\u306eGL5528\u5149\u30bb\u30f3\u30b5\u30fc\u3092\u3064\u3051\u3066\u307f\u307e\u3057\u305f&hellip;","_links":{"self":[{"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/posts\/697"}],"collection":[{"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/comments?post=697"}],"version-history":[{"count":0,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/posts\/697\/revisions"}],"wp:attachment":[{"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/media?parent=697"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/categories?post=697"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/tags?post=697"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}