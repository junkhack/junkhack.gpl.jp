{"id":794,"date":"2015-07-04T16:42:01","date_gmt":"2015-07-04T07:42:01","guid":{"rendered":"https:\/\/hack.gpl.jp\/?p=794"},"modified":"2015-07-04T16:42:01","modified_gmt":"2015-07-04T07:42:01","slug":"pi2-fedora22-%e3%81%a7oc","status":"publish","type":"post","link":"https:\/\/hack.gpl.jp\/2015\/07\/04\/pi2-fedora22-%e3%81%a7oc\/","title":{"rendered":"pi2 fedora22 \u3067OC"},"content":{"rendered":"<p>\u524d\u56de\u3001Pi2\u306b\u3001Fedora22 \u3092\u5165\u308c\u3066\u3001UnixBench \u3092\u8a08\u6e2c\u3057\u305f\u3068\u304d\u306f\u3001279.9 \u3067\u3061\u3087\u3063\u3068\u6b8b\u5ff5\u3060\u3063\u305f\u306e\u3067\u8a2d\u5b9a\u304c\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u306e\u304b\u898b\u3066\u307f\u307e\u3057\u305f\u3002<\/p>\n<p>\u30fb\u73fe\u5728\u306eCPU \u52d5\u4f5c\u30af\u30ed\u30c3\u30af\u3092\u78ba\u8a8d\u3057\u3001\u4e0a\u3052\u3066\u307f\u307e\u3059\u3002raspi-config\u306f\u306a\u3044\u306e\u3067\u3001\/proc\/\u914d\u4e0b\u306e\u5024\u3092\u3068\u308a\u3042\u3048\u305a\u898b\u3066\u307f\u307e\u3059\u3002<\/p>\n<pre class=\"brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;\">[root@pi2 boot]# cat \/proc\/cpuinfo \nprocessor    : 0\nmodel name    : ARMv7 Processor rev 5 (v7l)\nBogoMIPS    : 38.40\nFeatures    : half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt vfpd32 lpae evtstrm \nCPU implementer    : 0x41\nCPU architecture: 7\nCPU variant    : 0x0\nCPU part    : 0xc07\nCPU revision    : 5\n\nprocessor    : 1\nmodel name    : ARMv7 Processor rev 5 (v7l)\nBogoMIPS    : 38.40\nFeatures    : half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt vfpd32 lpae evtstrm \nCPU implementer    : 0x41\nCPU architecture: 7\nCPU variant    : 0x0\nCPU part    : 0xc07\nCPU revision    : 5\n\nprocessor    : 2\nmodel name    : ARMv7 Processor rev 5 (v7l)\nBogoMIPS    : 38.40\nFeatures    : half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt vfpd32 lpae evtstrm \nCPU implementer    : 0x41\nCPU architecture: 7\nCPU variant    : 0x0\nCPU part    : 0xc07\nCPU revision    : 5\n\nprocessor    : 3\nmodel name    : ARMv7 Processor rev 5 (v7l)\nBogoMIPS    : 38.40\nFeatures    : half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt vfpd32 lpae evtstrm \nCPU implementer    : 0x41\nCPU architecture: 7\nCPU variant    : 0x0\nCPU part    : 0xc07\nCPU revision    : 5\n\nHardware    : BCM2709\nRevision    : a21041\nSerial        : 00000000********\n[root@pi2 boot]# <\/pre>\n<p>\u203b\u3053\u306e\u3042\u305f\u308a\u306b\u306f\u51fa\u306a\u3044\u3088\u3046\u3067\u3059\u3002<\/p>\n<p>\u30fb\/boot\/config.txt \u3067\u3001\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306a\u306e\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3002<\/p>\n<pre class=\"brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;\">[root@pi2 boot]# cat \/etc\/fstab \nUUID=7c321d6b-f2b0-4783-9576-e3dfe657f9b3 \/ ext4 defaults,noatime 0 0\n\/dev\/mmcblk0p1 \/boot vfat defaults 0 0\n[root@pi2 boot]# \n\n[root@pi2 boot]# blkid\n\/dev\/mmcblk0p1: SEC_TYPE=&quot;msdos&quot; UUID=&quot;509F-31B8&quot; TYPE=&quot;vfat&quot; PARTUUID=&quot;0008037c-01&quot;\n\/dev\/mmcblk0p2: LABEL=&quot;_\/&quot; UUID=&quot;7c321d6b-f2b0-4783-9576-e3dfe657f9b3&quot; TYPE=&quot;ext4&quot; PARTUUID=&quot;0008037c-02&quot;\n\/dev\/mmcblk0: PTUUID=&quot;0008037c&quot; PTTYPE=&quot;dos&quot;\n[root@pi2 boot]# <\/pre>\n<p>\u4ee5\u4e0b\u306e\u611f\u3058\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u30ea\u30d6\u30fc\u30c8\u3057\u3066\u307f\u307e\u3057\u305f\u3002<\/p>\n<pre class=\"brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;\">--- \/boot\/cmdline.txt\ndwc_otg.lpm_enable=0 console=ttyAMA0,115200 console=tty1 root=\/dev\/mmcblk0p2 rootfstype=ext4 elevator=deadline rootwait\n\n--- \/boot\/config.txt\narm_freq_min=900\narm_freq=1000\ncore_freq_min=450\ncore_freq=500\n#sdram_freq=500\nover_voltage_min=0\nover_voltage=2<\/pre>\n<p>\u30fb\u4ee5\u4e0b\u3067\u3001\u78ba\u8a8d\u3057\u307e\u3059\u3002\u304c\u3001\u8ca0\u8377\u3092\u304b\u3051\u3066\u3082\u5909\u308f\u3089\u305a\u3002 <\/p>\n<blockquote>\n<p> \u30fb\u6e29\u5ea6\uff0834428\u3068\u51fa\u305f\u308934.428\u5ea6\u3068\u8aad\u307f\u66ff\u3048\uff09<br \/>\n    <br \/> #cat \/sys\/class\/thermal\/thermal_zone0\/temp<\/p>\n<p> \u30fb\u6700\u5927\u30b9\u30d4\u30fc\u30c9<\/p>\n<p> #cat \/sys\/devices\/system\/cpu\/cpu0\/cpufreq\/cpuinfo_max_freq<\/p>\n<p> \u30fb\u73fe\u5728\u306e\u30b9\u30d4\u30fc\u30c9<\/p>\n<p> # cat \/sys\/devices\/system\/cpu\/cpu0\/cpufreq\/scaling_cur_freq <\/p>\n<\/blockquote>\n<p> \u8ca0\u8377\u3092\u304b\u3051\u3066\u3082CPU\u30af\u30ed\u30c3\u30af\u304c\u3042\u304c\u3089\u306a\u3044\u306e\u306f\u3001\u4f55\u304b\u304c\u8db3\u308a\u306a\u3044\u3088\u3046\u3067\u3059\u306d\u3002<\/p>\n<p>\u203b\u30c4\u30fc\u30eb\u3092\u5165\u308c\u3066\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002<\/p>\n<p>&#160;<\/p>\n<p>\u30fb\u30c4\u30fc\u30eb\u3092\u5165\u308c\u308b<\/p>\n<blockquote>\n<p>[root@pi2 UnixBench]# dnf install cpufrequtils<\/p>\n<\/blockquote>\n<p>\u30fb\u4ee5\u4e0b\u306e\u611f\u3058\u3067\u3001\u73fe\u5728\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002<\/p>\n<pre class=\"brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;\">[root@pi2 UnixBench]# cpupower frequency-info\nanalyzing CPU 0:\n  driver: BCM2835 CPUFreq\n  CPUs which run at the same hardware frequency: 0 1 2 3\n  CPUs which need to have their frequency coordinated by software: 0 1 2 3\n  maximum transition latency: 355 us.\n  hardware limits: 600 MHz - 900 MHz\n  available frequency steps: 600 MHz, 900 MHz\n  available cpufreq governors: conservative, ondemand, userspace, powersave, performance\n  current policy: frequency should be within 600 MHz and 900 MHz.\n                  The governor &quot;powersave\u2605&quot; may decide which speed to use\n                  within this range.\n  current CPU frequency is 600 MHz (asserted by call to hardware).\n[root@pi2 UnixBench]# <\/pre>\n<p>\u30fbpowersave&#160;&#160;&#160; \u306f\u3001\u8ca0\u8377\u306b\u95a2\u308f\u3089\u305a\u3001\u5909\u52d5\u53ef\u80fd\u7bc4\u56f2\u5185\u306e\u6700\u4f4e\u306e\u30af\u30ed\u30c3\u30af\u3067\u52d5\u4f5c \u3067\u52d5\u4f5c\u3057\u3066\u3044\u308b\u6a21\u69d8\u3002<br \/>\n  <br \/> \u53c2\u8003 <a href=\"http:\/\/d.hatena.ne.jp\/kakurasan\/20070720\/p1\">http:\/\/d.hatena.ne.jp\/kakurasan\/20070720\/p1<\/a><\/p>\n<p>&#160;<\/p>\n<p>\u7701\u96fb\u529b\u30e2\u30fc\u30c9\u3068\u3044\u3046\u3068\u3053\u308d\u3067\u3057\u3087\u3046\u304b\u3002\u3068\u308a\u3042\u3048\u305a\u3001\u3053\u306e\u8a2d\u5b9a\u3092\u5909\u3048\u3066\u3001600Mhz \uff5e 900Mhz \u3067\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3059\u3002<\/p>\n<p>&#160;<\/p>\n<p>\u30fb\u8ca0\u8377\u304c\u304b\u304b\u3063\u305f\u3089\u3001\u3059\u3050\u30af\u30ed\u30c3\u30af\u304c\u3042\u304c\u308b\u3088\u3046\u306b ondemand \u306b\u8a2d\u5b9a\u3057\u3066\u307f\u307e\u3059\u3002<\/p>\n<pre class=\"brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;\">[root@pi2 UnixBench]# cpupower frequency-set -g ondemand\nSetting cpu: 0\nSetting cpu: 1\nSetting cpu: 2\nSetting cpu: 3\n[root@pi2 UnixBench]# \n\n[root@pi2 UnixBench]# cat \/sys\/devices\/system\/cpu\/cpu0\/cpufreq\/scaling_governor\nondemand\u2605\n[root@pi2 UnixBench]# \n\n[root@pi2 UnixBench]# cpupower frequency-info\nanalyzing CPU 0:\n  driver: BCM2835 CPUFreq\n  CPUs which run at the same hardware frequency: 0 1 2 3\n  CPUs which need to have their frequency coordinated by software: 0 1 2 3\n  maximum transition latency: 355 us.\n  hardware limits: 600 MHz - 900 MHz\n  available frequency steps: 600 MHz, 900 MHz\n  available cpufreq governors: conservative, ondemand, userspace, powersave, performance\n  current policy: frequency should be within 600 MHz and 900 MHz.\n                  The governor &quot;ondemand\u2605&quot; may decide which speed to use\n                  within this range.\n  current CPU frequency is 600 MHz (asserted by call to hardware).\n[root@pi2 UnixBench]# <\/pre>\n<p> \u203b\u8a2d\u5b9a\u306f\u5909\u66f4\u3055\u308c\u305f\u3088\u3046\u3067\u3059\u3002 <\/p>\n<p>\u30fb\u73fe\u5728\u306e\u5024<\/p>\n<blockquote>\n<p>[root@pi2 ~]# cat \/sys\/devices\/system\/cpu\/cpu0\/cpufreq\/scaling_cur_freq<br \/>\n    <br \/>600000<\/p>\n<p>[root@pi2 ~]# <\/p>\n<\/blockquote>\n<p>\u30fbUnixBench \u3067\u8ca0\u8377\u3092\u304b\u3051\u3001\u5024\u3092\u78ba\u8a8d\u3002<\/p>\n<blockquote>\n<p>[root@pi2 ~]# cat \/sys\/devices\/system\/cpu\/cpu0\/cpufreq\/scaling_cur_freq<br \/>\n    <br \/>900000\u2605<\/p>\n<p>[root@pi2 ~]# <\/p>\n<\/blockquote>\n<p> \u203b\u8ca0\u8377\u304c\u304b\u304b\u308c\u3070\u3001\u30af\u30ed\u30c3\u30af\u306f\u3042\u304c\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002<\/p>\n<blockquote>\n<p>\u30fb\u6e29\u5ea6\u306e\u30e2\u30cb\u30bf<br \/>\n    <br \/>[root@pi2 ~]# watch -n 1 cat \/sys\/class\/thermal\/thermal_zone0\/temp<\/p>\n<p>Every 1.0s: cat \/sys\/class\/thermal\/thermal_zone0\/temp&#160;&#160;&#160;&#160;&#160;&#160;&#160; Sat Jul&#160; 4 15:49:35 2015<\/p>\n<p>60528 \u2605<\/p>\n<\/blockquote>\n<p>\u203b\u5358\u4f4d\u306f 1\/1000\u2103 \u4e0a\u8a18\u4f8b\u3060\u3068\u300160.528\u2103\u3002\u6307\u5148\u3067CPU \u3092\u89e6\u308b\u3068\u71b1\u3044\u3067\u3059\u3002\u6700\u9ad8\u3067\u300164\u2103\u304f\u3089\u3044\u307e\u3067\u3042\u304c\u308a\u307e\u3057\u305f\u3002<br \/>\n  <br \/> \u6307\u5148\u3067\u51b7\u307e\u3059\u3068\u300158\u2103\u304f\u3089\u3044\u306b\u3002\uff08\u71b1\u3044\u3067\u3059) \u3060\u304b\u3089\u3001\u307f\u306a\u3055\u3093\u653e\u71b1\u677f\u3064\u3051\u3066\u3044\u308b\u3093\u3067\u3059\u306d\u3002<\/p>\n<p>&#160;<\/p>\n<p>\u30fbBogoMIPS \u306e\u5024\u3082\u3042\u304c\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002 <\/p>\n<blockquote>\n<p>[root@pi2 ~]# cat \/proc\/cpuinfo<br \/>\n    <br \/>processor&#160;&#160;&#160; : 0<\/p>\n<p>model name&#160;&#160;&#160; : ARMv7 Processor rev 5 (v7l)<\/p>\n<p>BogoMIPS&#160;&#160;&#160; : 57.60\u2605<\/p>\n<p>Features&#160;&#160;&#160; : half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt vfpd32 lpae evtstrm <\/p>\n<p>CPU implementer&#160;&#160;&#160; : 0x41<\/p>\n<p>CPU architecture: 7<\/p>\n<p>CPU variant&#160;&#160;&#160; : 0x0<\/p>\n<p>CPU part&#160;&#160;&#160; : 0xc07<\/p>\n<p>CPU revision&#160;&#160;&#160; : 5<\/p>\n<p>:: <\/p>\n<\/blockquote>\n<p>\u30fb\u30fb\u30fb\u6e29\u5ea6\u3092\u76e3\u8996\u3057\u3001UnixBench \u3092\u5b8c\u8d70\u3055\u305b\u3066\u307f\u307e\u3059\u3002<\/p>\n<pre class=\"brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;\">------------------------------------------------------------------------\nBenchmark Run: \u571f  7\u6708 04 2015 15:44:51 - 16:13:14\n4 CPUs in system; running 4 parallel copies of tests\n\nDhrystone 2 using register variables       14083711.0 lps   (10.0 s, 7 samples)\nDouble-Precision Whetstone                     2200.7 MWIPS (9.1 s, 7 samples)\nExecl Throughput                               1294.5 lps   (29.9 s, 2 samples)\nFile Copy 1024 bufsize 2000 maxblocks         98062.8 KBps  (30.0 s, 2 samples)\nFile Copy 256 bufsize 500 maxblocks           30405.9 KBps  (30.0 s, 2 samples)\nFile Copy 4096 bufsize 8000 maxblocks        274125.7 KBps  (30.0 s, 2 samples)\nPipe Throughput                              714775.2 lps   (10.0 s, 7 samples)\nPipe-based Context Switching                 100933.0 lps   (10.0 s, 7 samples)\nProcess Creation                               2531.6 lps   (30.0 s, 2 samples)\nShell Scripts (1 concurrent)                   1739.2 lpm   (60.1 s, 2 samples)\nShell Scripts (8 concurrent)                    238.2 lpm   (60.5 s, 2 samples)\nSystem Call Overhead                        1538713.1 lps   (10.0 s, 7 samples)\n\nSystem Benchmarks Index Values               BASELINE       RESULT    INDEX\nDhrystone 2 using register variables         116700.0   14083711.0   1206.8\nDouble-Precision Whetstone                       55.0       2200.7    400.1\nExecl Throughput                                 43.0       1294.5    301.1\nFile Copy 1024 bufsize 2000 maxblocks          3960.0      98062.8    247.6\nFile Copy 256 bufsize 500 maxblocks            1655.0      30405.9    183.7\nFile Copy 4096 bufsize 8000 maxblocks          5800.0     274125.7    472.6\nPipe Throughput                               12440.0     714775.2    574.6\nPipe-based Context Switching                   4000.0     100933.0    252.3\nProcess Creation                                126.0       2531.6    200.9\nShell Scripts (1 concurrent)                     42.4       1739.2    410.2\nShell Scripts (8 concurrent)                      6.0        238.2    396.9\nSystem Call Overhead                          15000.0    1538713.1   1025.8\n                                                                   ========\nSystem Benchmarks Index Score                                         396.7\n\n[root@pi2 UnixBench]# <\/pre>\n<p>\u304a\u304a\u304a\u3002\u3042\u304c\u308a\u307e\u3057\u305f\u3002\u3068\u308a\u3042\u3048\u305a\u3001\u3053\u306e\u8a2d\u5b9a\u3067\u904a\u3073\u307e\u3059\u3002\u304a\u4ed5\u4e8b\u3067\u4f7f\u3063\u3066\u3044\u308b\u30de\u30b7\u30f3\u3068\u304b\u306f\u3001\u3053\u306e\u6570\u5b57\u304c7000\u3068\u304b1\u4e07\u3068\u304b\u306a\u306e\u3067\u3001\u304b\u308f\u3044\u3044\u611f\u3058\u304c\u3057\u307e\u3059\u304c\u3001\u3068\u3066\u3082\u7acb\u6d3e\u306a\u6570\u5b57\u306a\u3093\u3067\u3059\u3002\uff11\uff15\u5e74\u524d\u304f\u3089\u3044\u306e2000\u5e74\u3042\u305f\u308a\u306f\u3001\u30b5\u30fc\u30d0\u30de\u30b7\u30f3\u3068\u3044\u3048\u3069\u3082\u3001200\u3061\u3087\u3044\u304f\u3089\u3044\u3057\u304b\u306a\u304b\u3063\u305f\u306e\u3067\u300220\u4e07\u4f4d\u3057\u305f\u30de\u30b7\u30f3\u3067\u3001\u305d\u306e\u6570\u5b57\u3067\u3059\u304b\u3089\u30025000\u5186\u304f\u3089\u3044\u306ePi2 \u3067\u3053\u306e\u6570\u5b57\u304c\u51fa\u308b\u3068\u3044\u3046\u306e\u306f\u3001\u3068\u3066\u3082\u7acb\u6d3e\u306a\u306e\u3067\u3059\u3002<\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u524d\u56de\u3001Pi2\u306b\u3001Fedora22 \u3092\u5165\u308c\u3066\u3001UnixBench \u3092\u8a08\u6e2c\u3057\u305f\u3068\u304d\u306f\u3001279.9 \u3067\u3061\u3087\u3063\u3068\u6b8b\u5ff5\u3060\u3063\u305f\u306e\u3067\u8a2d\u5b9a\u304c\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u306e\u304b\u898b\u3066\u307f\u307e\u3057\u305f\u3002 \u30fb\u73fe\u5728\u306eCPU \u52d5\u4f5c\u30af\u30ed\u30c3\u30af\u3092\u78ba\u8a8d\u3057\u3001\u4e0a\u3052\u3066\u307f\u307e\u3059\u3002raspi [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_uag_custom_page_level_css":""},"categories":[69],"tags":[],"acf":[],"uagb_featured_image_src":{"full":false,"thumbnail":false,"medium":false,"medium_large":false,"large":false,"1536x1536":false,"2048x2048":false,"post-thumbnail":false},"uagb_author_info":{"display_name":"JunkHack","author_link":"https:\/\/hack.gpl.jp\/author\/junkhack\/"},"uagb_comment_info":1,"uagb_excerpt":"\u524d\u56de\u3001Pi2\u306b\u3001Fedora22 \u3092\u5165\u308c\u3066\u3001UnixBench \u3092\u8a08\u6e2c\u3057\u305f\u3068\u304d\u306f\u3001279.9 \u3067\u3061\u3087\u3063\u3068\u6b8b\u5ff5\u3060&hellip;","_links":{"self":[{"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/posts\/794"}],"collection":[{"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/comments?post=794"}],"version-history":[{"count":0,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/posts\/794\/revisions"}],"wp:attachment":[{"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/media?parent=794"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/categories?post=794"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/tags?post=794"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}