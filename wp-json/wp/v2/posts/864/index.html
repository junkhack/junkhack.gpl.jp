{"id":864,"date":"2015-07-19T05:48:24","date_gmt":"2015-07-18T20:48:24","guid":{"rendered":"https:\/\/hack.gpl.jp\/?p=864"},"modified":"2015-07-19T05:48:24","modified_gmt":"2015-07-18T20:48:24","slug":"berryboot-%e7%94%a8%e3%81%aeboot-img-%e4%bd%9c%e6%88%90%e3%81%a7%e3%83%89%e3%81%af%e3%81%be%e3%82%8a","status":"publish","type":"post","link":"https:\/\/hack.gpl.jp\/2015\/07\/19\/berryboot-%e7%94%a8%e3%81%aeboot-img-%e4%bd%9c%e6%88%90%e3%81%a7%e3%83%89%e3%81%af%e3%81%be%e3%82%8a\/","title":{"rendered":"BerryBoot \u7528\u306eBoot img \u4f5c\u6210\u3067\u30c9\u306f\u307e\u308a"},"content":{"rendered":"<p>\u304b\u306a\u308a\u3001\u30cf\u30de\u30c3\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u30dd\u30a4\u30f3\u30c8\u3092\u5f8c\u307b\u3069\u3001\u30e1\u30e2\u3057\u3066\u304a\u304f\u3053\u3068\u306b\u3057\u307e\u3059\u3002<\/p>\n<p>\u4f55\u306b\u306f\u307e\u3063\u305f\u304b\u3063\u3066\u3044\u3046\u3068\u3001Fedora21 \uff5e 22 \u306e\u5404\u7a2eARM \u7528\u306e\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u3092 BerryBoot \u306e img \u306b\u3059\u308b\u624b\u9806\u304c\u3046\u307e\u304f\u3044\u304b\u306a\u304f\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3001Kernel panic \u3067Boot \u3057\u306a\u3044\u308f\u3051\u3067\u3002\u304f\u3058\u3051\u305d\u3046\u306b\u306a\u3063\u305f\u6700\u5f8c\u306b\u3084\u3063\u3068\u3067\u304d\u307e\u3057\u305f\u3002<\/p>\n<p>&#160;<\/p>\n<p>\u30aa\u30d5\u30a3\u30b7\u30e3\u30eb\u306e\u624b\u9806\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3059\u3002<\/p>\n<blockquote>\n<p><a href=\"http:\/\/www.berryterminal.com\/doku.php\/berryboot\/adding_custom_distributions\" target=\"_blank\" rel=\"noopener noreferrer\">Adding your own custom operating systems to the menu<\/a><\/p>\n<p>$ sudo kpartx -av image_you_want_to_convert.img      <br \/>add map loop0p1 (252:5): 0 117187 linear \/dev\/loop0 1      <br \/>add map loop0p2 (252:6): 0 3493888 linear \/dev\/loop0 118784      <br \/>$ sudo mount \/dev\/mapper\/loop0p2 \/mnt      <br \/>$ sudo sed -i &#8216;s\/^\\\/dev\\\/mmcblk\/#\/g&#8217; \/mnt\/etc\/fstab      <br \/>$ sudo mksquashfs \/mnt converted_image_for_berryboot.img -comp lzo -e lib\/modules      <br \/>$ sudo umount \/mnt      <br \/>$ sudo kpartx -d image_you_want_to_convert.img <\/p>\n<\/blockquote>\n<p>\u5b9f\u969b\u306b\u3084\u3063\u3066\u307f\u308b\u3068\u3001\u307e\u3041\u3001\u3044\u308d\u3044\u308d\u3042\u308b\u306e\u306f\u3044\u3064\u3082\u306e\u3053\u3068\u3002<\/p>\n<p>\u30dd\u30a4\u30f3\u30c8\u306f\u3001<strong>\u30eb\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u76f4\u4e0b\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u5b9f\u614b\u306b\u3057\u3066\u3001\u9006\u5074\u304b\u3089\u5f35\u308a\u306a\u304a\u3059\u3053\u3068\uff01<\/strong>\u305d\u3046\u3057\u306a\u3044\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3001RAM \u30c7\u30a3\u30b9\u30af\u306e kernel \u304b\u3089\u3001\u52d5\u304b\u3059 img \u306e \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u304c\u30de\u30a6\u30f3\u30c8\u3067\u304d\u307e\u305b\u3093\u3002\u5f8c\u307b\u3069\u3001\u624b\u9806\u3092\u3064\u3051\u3066\u304a\u304d\u307e\u3059\u3002\u6b21\u3084\u308b\u3068\u304d\u3001\u7d76\u5bfe\u5fd8\u308c\u308b\u81ea\u4fe1\u304c\u3042\u308b\u306e\u3067\u3002<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" title=\"\u5199\u771f\" style=\"border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;\" border=\"0\" alt=\"\u5199\u771f\" src=\"http:\/\/hack.gpl.jp\/wp-content\/uploads\/2015\/07\/c1ed947c41a8.jpg\" width=\"640\" height=\"480\" \/> <\/p>\n<p>\u3068\u308a\u3042\u3048\u305a\u51fa\u6765\u305f\u306e\u3067\u753b\u50cf\u30e1\u30e2\u3092\u8cbc\u308a\u4ed8\u3051\u3002<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" title=\"\u5199\u771f_2\" style=\"border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;\" border=\"0\" alt=\"\u5199\u771f_2\" src=\"http:\/\/hack.gpl.jp\/wp-content\/uploads\/2015\/07\/22.jpg\" width=\"640\" height=\"480\" \/> <\/p>\n<p>\u3067\u3001\u5404\u7a2e\u521d\u671f\u8a2d\u5b9a\u3092\u3059\u308c\u3070OK<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" title=\"\u5199\u771f_1\" style=\"border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;\" border=\"0\" alt=\"\u5199\u771f_1\" src=\"http:\/\/hack.gpl.jp\/wp-content\/uploads\/2015\/07\/12.jpg\" width=\"640\" height=\"480\" \/> <\/p>\n<p>\u3082\u3046\u306d\u3001\u75b2\u308c\u307e\u3057\u305f\u3002\u304c\u3001ARM \u306e IoT \u30c7\u30d0\u30a4\u30b9\u306e\u30ce\u30a6\u30cf\u30a6\u304c\u8caf\u307e\u3063\u305f\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u5c11\u3057\u524d\u9032\u3002\u5404\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3082 ARM \u7528\u306e\u30aa\u30d5\u30a3\u30b7\u30e3\u30eb\u30a4\u30e1\u30fc\u30b8\u306e\u6e96\u5099\u3082\u3057\u3066\u304d\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u3057\u3002\u91ce\u826f\u30a4\u30e1\u30fc\u30b8\u306f\u6016\u3044\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305a\u306f\u30aa\u30d5\u30a3\u30b7\u30e3\u30eb\u306e\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u6e80\u8db3\u3002<\/p>\n<p><a href=\"https:\/\/arm.fedoraproject.org\/\" target=\"_blank\" rel=\"noopener noreferrer\"><img decoding=\"async\" loading=\"lazy\" title=\"Fedora_ARM\" style=\"border-top:0;border-right:0;border-bottom:0;float:none;margin-left:auto;border-left:0;display:block;margin-right:auto;\" border=\"0\" alt=\"Fedora_ARM\" src=\"http:\/\/hack.gpl.jp\/wp-content\/uploads\/2015\/07\/fedora_arm2.png\" width=\"644\" height=\"700\" \/><\/a> \u3055\u3066\u3001QK\u3057\u3066\u6c17\u529b\u3001\u4f53\u529b\u3082\u5fa9\u6d3b\u3057\u305f\u306e\u3067\u3001\u5fd8\u308c\u306a\u3044\u3046\u3061\u306b\u30e1\u30e2\u3057\u3066\u304a\u304d\u307e\u3059\u3002<\/p>\n<p>\u30aa\u30d5\u30a3\u30b7\u30e3\u30eb\u306e ARM \u30a4\u30e1\u30fc\u30b8\u306f\u4e0a\u306e\u30ea\u30f3\u30af\u304b\u3089\u8fbf\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u304c\u843d\u3068\u305b\u307e\u3059\u3002\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306e\u5927\u304d\u3044\u9806\u3067\u306f\u3001<\/p>\n<blockquote>\n<p>Size byte&#160;&#160; M,GB&#160; FineName     <br \/>&#8212;&#8212;&#8212;-&#160; &#8212;-&#160; &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;      <br \/>1194022996&#160; 1.1G&#160; Fedora-Workstation-armhfp-22-3-sda.raw.xz      <br \/>1129186356&#160; 1.1G&#160; Fedora-KDE-armhfp-22-3-sda.raw.xz      <br \/> 837507064&#160; 799M&#160; Fedora-Xfce-armhfp-22-3-sda.raw.xz      <br \/> 761534064&#160; 726M&#160; Fedora-LXDE-armhfp-22-3-sda.raw.xz      <br \/> 552451864&#160; 527M&#160; Fedora-SoaS-armhfp-22-3-sda.raw.xz      <br \/> 427291172&#160; 407M&#160; Fedora-Server-armhfp-22-3-sda.raw.xz      <br \/> 301285980&#160; 287M&#160; Fedora-Minimal-armhfp-22-3-sda.raw.xz<\/p>\n<\/blockquote>\n<p>\u3068\u306a\u308a\u307e\u3059\u3002<\/p>\n<p>\u4eca\u307e\u3067\u306f\u3001GUI\u74b0\u5883\u306a\u3069\u306f\u307e\u3063\u305f\u304f\u7121\u8996\u3057\u3066\u304d\u305f\u306e\u3067\u3001\u3069\u306e\u74b0\u5883\u304c\u3088\u3044\u306e\u304b\u306f\u308f\u304b\u308a\u307e\u305b\u3093\u304c\u3001\u4e0b\uff12\u3064\u306f\u30b5\u30fc\u30d0\u7528\u9014\u3067\u3059\u306e\u3067\u3001\u4eca\u56de\u306fFedora \u306e\u4ee3\u8868\u7684\u306a\u9854\u3067\u3042\u308b\u3001Workstation \u3092\u5165\u308c\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u307e\u3041\u3001\u6700\u5f8c\u306f\u7d50\u5c40\u5168\u90e8\u5165\u308c\u308b\u3053\u3068\u306b\u306a\u308b\u308f\u3051\u3067\u3059\u304c\u3002<\/p>\n<p>&#160;<\/p>\n<p>\u3055\u3066\u3001\u4eca\u56de\u306e\u624b\u9806\u306f\u3001BerryBoot \u306e \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u72b6\u614b\u306e\u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u3001\u3055\u3089\u306b iscsi boot \u3059\u308b\u74b0\u5883\u3067\u305d\u308c\u3092\u30c6\u30b9\u30c8\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u3068\u306f\u3001\u8a00\u3063\u3066\u3082\u901a\u5e38\u306eSD\u30ab\u30fc\u30c9\u3084USB\u30c7\u30d0\u30a4\u30b9\uff08USB\u30e1\u30e2\u30ea\u3084USB HDD\uff09\u306b\u5165\u308c\u308b\u306e\u3068\u305d\u308c\u307b\u3069\u5909\u308f\u308a\u306f\u3042\u308a\u307e\u305b\u3093\u3002<\/p>\n<p>\u524d\u63d0\u6761\u4ef6\u3092\u307e\u3068\u3081\u307e\u3059\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002<\/p>\n<blockquote>\n<p>\u4eca\u56de\u306e\u74b0\u5883<\/p>\n<p>\u30fbBerryBoot \u3067\u3001ISCSI Boot\u306e SCSI \u30c7\u30d0\u30a4\u30b9\u306b\u30eb\u30fc\u30c8\u3092\u5165\u308c\u308b<\/p>\n<p>\u30fbBerryBoot \u7528\u306eimg \u304c\u3042\u308c\u3070\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306fBerryBoot \u306e\u30a4\u30f3\u30b9\u30fc\u30e9\u30fc\u304c\u3044\u308c\u3066\u304f\u308c\u308b<\/p>\n<p>\u30fbARM \u7269\u7406\u74b0\u5883\u306f\u3001RasPi2 + 2GB SDCard (\u5b9f\u969b\u306f250M\u3082\u3042\u308c\u3070\u8db3\u308a\u307e\u3059\uff09\uff0b LAN (WiFi \u3067\u3082\u3044\u3051\u308b\u3088\u3046\u3067\u3059\uff09<\/p>\n<p>\u30fbiSCSI \u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u306f\u3001FreeNAS \uff08\u3053\u306e\u8aac\u660e\u306f\u9664\u5916\uff09\u3067\u3001\u4eee\u60f3\u74b0\u5883\u3067\u63d0\u4f9b\u3002\u672c\u4f53\u306fosx<\/p>\n<p>\u30fbimg \u4f5c\u6210\u306b\u306f\u3001ubuntu 12 \u3092\u4f7f\u7528<\/p>\n<\/blockquote>\n<p>\u4f5c\u696d\u306e\u6d41\u308c\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002<\/p>\n<blockquote>\n<p>1) Fedora\u306eARM\u30aa\u30d5\u30a3\u30b7\u30e3\u30eb\u30b5\u30a4\u30c8\u3088\u308a\u3001\u30a4\u30e1\u30fc\u30b8\u3092\u53d6\u5f97<\/p>\n<p>2) \u5727\u7e2e\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u5c55\u958b\u3057\u3001img \u306e\u72b6\u614b\u306b\u3002<\/p>\n<p>3) img \u306e\u4e2d\u306b\u3042\u308b\u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u30de\u30a6\u30f3\u30c8<\/p>\n<p>4) \u30eb\u30fc\u30c8\u76f4\u4e0b\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u4fee\u6b63<\/p>\n<p>5) fstab \u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8<\/p>\n<p>6) lzo \u5727\u7e2e\u3057\u305f BerryBoot \u7528\u306e img \u3092\u4f5c\u6210<\/p>\n<p>7) \u5f8c\u51e6\u7406<\/p>\n<\/blockquote>\n<p><strong>\u624b\u9806 1<\/strong><\/p>\n<p>ubuntu\u4e0a\u3067\u3001\u4f5c\u696d\u3057\u307e\u3059\u3002<\/p>\n<p>\u30aa\u30d5\u30a3\u30b7\u30e3\u30eb\u30b5\u30a4\u30c8\u3088\u308a\u3001\u30a4\u30e1\u30fc\u30b8\u3092\u30b2\u30c3\u30c8\u3002\u5168\u90e8 root \u3067\u3084\u3063\u3066\u307e\u3059\u306e\u3067\u3001sudo \u306f\u4ed8\u3051\u3066\u3044\u307e\u305b\u3093\u3002<\/p>\n<blockquote>\n<p># wget https:\/\/download.fedoraproject.org\/pub\/fedora\/linux\/releases\/22\/Workstation\/armhfp\/Images\/Fedora-Workstation-armhfp-22-3-sda.raw.xz<\/p>\n<p><a href=\"http:\/\/ftp.iij.ad.jp\/pub\/linux\/fedora\/releases\/22\/Workstation\/armhfp\/Images\/Fedora-Workstation-Images-armhfp-22-CHECKSUM\" target=\"_blank\" rel=\"noopener noreferrer\">CHECKSUM<\/a><\/p>\n<p># sha256sum Fedora-Workstation-armhfp-22-3-sda.raw.xz<\/p>\n<p> \u203bsum \u3092\u78ba\u8a8d<\/p>\n<\/blockquote>\n<p><strong>\u624b\u9806 2<\/strong><\/p>\n<p>\u30d5\u30a1\u30a4\u30eb\u306f\u4f55\u306a\u306e\u304b\u78ba\u8a8d\u3002<\/p>\n<blockquote>\n<p># file Fedora-Workstation-armhfp-22-3-sda.raw.xz      <br \/>Fedora-Workstation-armhfp-22-3-sda.raw.xz: XZ compressed data<\/p>\n<\/blockquote>\n<p>XZ \u5727\u7e2e\u306a\u306e\u3067\u3001xzcat \u3067\u5c55\u958b\u3057\u3066\u3001img \u3068\u3057\u307e\u3059\u3002<\/p>\n<blockquote>\n<p># xzcat -v Fedora-Workstation-armhfp-22-3-sda.raw.xz &gt; Fedora-Workstation-armhfp-22-3-sda.img<\/p>\n<\/blockquote>\n<p>\u901f\u3051\u308c\u3070\u30011\u5206\u3061\u3087\u3044\u304f\u3089\u3044\u3067\u3059\u3002<\/p>\n<p><strong>\u624b\u9806 3<\/strong><\/p>\n<p>img \u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u306e\u30eb\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002kpartx \u3060\u3068\u7c21\u5358\u3067\u3059\u304c\u3001\u7121\u3044\u74b0\u5883\u7528\u306b\u3001\u624b\u52d5\u3067\u3084\u308b\u65b9\u6cd5\u3082\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002kpartx -a \u3067\u3001\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u30d6\u30ed\u30c3\u30af\u30c7\u30d0\u30a4\u30b9\u306b\u5272\u4ed8\u307e\u3059\u3002<\/p>\n<blockquote>\n<p># kpartx -av Fedora-Workstation-armhfp-22-3-sda.img      <br \/>add map loop0p1 (252:0): 0 999424 linear \/dev\/loop0 2048      <br \/>add map loop0p2 (252:1): 0 1000482 linear \/dev\/loop0 1001472      <br \/>add map loop0p3 (252:2): 0 9765625 linear \/dev\/loop0 2001954\u2605\u3053\u3053\u3092\u30de\u30a6\u30f3\u30c8<\/p>\n<\/blockquote>\n<blockquote>\n<p># mkdir \/mnt\/fedora22     <br \/># mount \/dev\/mapper\/loop0p3 \/mnt\/fedora22\/<\/p>\n<\/blockquote>\n<p>\u78ba\u8a8d\u3057\u307e\u3059\u3002<\/p>\n<blockquote>\n<p># ll \/mnt\/fedora22\/     <br \/>\u5408\u8a08 92      <br \/>dr-xr-xr-x.&#160; 18 root root&#160; 4096&#160; 5\u6708 22 04:00 .\/      <br \/>drwxr-xr-x&#160;&#160;&#160; 3 root root&#160; 4096&#160; 7\u6708 19 09:39 ..\/      <br \/>lrwxrwxrwx.&#160;&#160; 1 root root&#160;&#160;&#160;&#160; 7&#160; 8\u6708 16&#160; 2014 bin -&gt; usr\/bin\/      <br \/>drwxrwxr-x.&#160;&#160; 2 root root&#160; 4096&#160; 5\u6708 22 03:58 boot\/      <br \/>drwxr-xr-x.&#160;&#160; 4 root root&#160; 4096&#160; 5\u6708 22 04:14 dev\/      <br \/>drwxr-xr-x. 126 root root 12288&#160; 5\u6708 22 04:28 etc\/      <br \/>drwxr-xr-x.&#160;&#160; 2 root root&#160; 4096&#160; 8\u6708 16&#160; 2014 home\/      <br \/>lrwxrwxrwx.&#160;&#160; 1 root root&#160;&#160;&#160;&#160; 7&#160; 8\u6708 16&#160; 2014 lib -&gt; usr\/lib\/      <br \/>drwx&#8212;&#8212;.&#160;&#160; 2 root root 16384&#160; 5\u6708 22 03:58 lost+found\/      <br \/>drwxr-xr-x.&#160;&#160; 2 root root&#160; 4096&#160; 8\u6708 16&#160; 2014 media\/      <br \/>drwxr-xr-x.&#160;&#160; 2 root root&#160; 4096&#160; 8\u6708 16&#160; 2014 mnt\/      <br \/>drwxr-xr-x.&#160;&#160; 2 root root&#160; 4096&#160; 8\u6708 16&#160; 2014 opt\/      <br \/>drwxrwxr-x.&#160;&#160; 2 root root&#160; 4096&#160; 5\u6708 22 03:58 proc\/      <br \/>dr-xr-x&#8212;.&#160;&#160; 2 root root&#160; 4096&#160; 5\u6708 22 04:28 root\/      <br \/>drwxr-xr-x.&#160; 32 root root&#160; 4096&#160; 5\u6708 22 04:12 run\/      <br \/>lrwxrwxrwx.&#160;&#160; 1 root root&#160;&#160;&#160;&#160; 8&#160; 8\u6708 16&#160; 2014 sbin -&gt; usr\/sbin\/      <br \/>drwxr-xr-x.&#160;&#160; 2 root root&#160; 4096&#160; 8\u6708 16&#160; 2014 srv\/      <br \/>drwxrwxr-x.&#160;&#160; 2 root root&#160; 4096&#160; 5\u6708 22 03:58 sys\/      <br \/>drwxrwxrwt.&#160;&#160; 7 root root&#160; 4096&#160; 5\u6708 22 04:28 tmp\/      <br \/>drwxr-xr-x.&#160; 11 root root&#160; 4096&#160; 5\u6708 22 04:00 usr\/      <br \/>drwxr-xr-x.&#160; 21 root root&#160; 4096&#160; 5\u6708 22 04:12 var\/<\/p>\n<\/blockquote>\n<p>kpartx \u304c\u7121\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u3067\u3002<\/p>\n<pre class=\"brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;\">        \u25bc\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u30b5\u30a4\u30ba\u3092\u8abf\u3079\u3066\u3001\u500b\u5225\u306b\u30de\u30a6\u30f3\u30c8\u3055\u305b\u308b\n        # parted Fedora-Xfce-armhfp-22-3-sda.img \n        GNU Parted 2.3\n        \/nfs\/Fedora-Xfce-armhfp-22-3-sda.img \u3092\u4f7f\u7528\n        GNU Parted \u3078\u3088\u3046\u3053\u305d\uff01 \u30b3\u30de\u30f3\u30c9\u4e00\u89a7\u3092\u898b\u308b\u306b\u306f 'help' \u3068\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n        (parted) u\u2605\n        \u5358\u4f4d\u306f?  [compact]? b\u2605\n        (parted) print\u2605\n        \u30e2\u30c7\u30eb:  (file)\n        \u30c7\u30a3\u30b9\u30af \/nfs\/Fedora-Xfce-armhfp-22-3-sda.img: 4743757824B\n        \u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406\/\u7269\u7406): 512B\/512B\n        \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb: msdos\n        \n        \u756a\u53f7  \u958b\u59cb         \u7d42\u4e86         \u30b5\u30a4\u30ba       \u30bf\u30a4\u30d7   \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0  \u30d5\u30e9\u30b0\n         1    1048576B     512753663B   511705088B   primary  ext3\n         2    512753664B   1025000447B  512246784B   primary  linux-swap(v1)\n         3    1025000448B  4525000191B  3499999744B  primary  ext4\n              ^^^^^^^^^^\n        (parted) q\u2605\n        root@ubu:\/nfs# \n        \n        # mount -o loop,offset=1025000448 Fedora-Xfce-armhfp-22-3-sda.img \/mnt\/fedora22\n                               ^^^^^^^^^^\u203b B \u306f\u53d6\u3063\u3066\u306d\n        # df -h\n        Filesystem              Size  Used Avail Use% Mounted on\n        ::\n        \/dev\/loop1              3.2G  2.3G  843M  74% \/mnt\/fedora22<\/pre>\n<p><strong>\u624b\u9806 4<\/strong><\/p>\n<p>\u30eb\u30fc\u30c8\u76f4\u4e0b\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\u7406\u5c48\u306f\u3088\u304f\u308f\u304b\u3063\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u9006\u304b\u3089\u5f35\u308a\u306a\u304a\u3059\u3053\u3068\u3067\u3068\u308a\u3042\u3048\u305a\u30d6\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002lib \u3068 bin \u3068 sbin \u3092\u6d88\u3057\u3066\u3001\u5b9f\u4f53\u3092\u79fb\u52d5\u3055\u305b\u3001\u9006\u304b\u3089\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u3092\u5f35\u3063\u3066\u3044\u307e\u3059\u3002<\/p>\n<pre class=\"brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;\">cd \/mnt\/fedora22\nrm lib\nmv usr\/lib lib\ncd usr\nln -s ..\/lib lib\ncd ..\/\n\nrm bin\nmv usr\/bin bin\ncd usr\nln -s ..\/bin bin\ncd ..\/\n\nrm sbin\nmv usr\/sbin sbin\ncd usr\nln -s ..\/sbin sbin\ncd ..\/<\/pre>\n<p>\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002<\/p>\n<pre class=\"brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;\"># ll\n\u5408\u8a08 240\ndr-xr-xr-x.  21 root root  4096  7\u6708 19 09:53 .\/\ndrwxr-xr-x    3 root root  4096  7\u6708 19 09:39 ..\/\ndr-xr-xr-x.   2 root root 36864  5\u6708 22 04:12 bin\/\ndrwxrwxr-x.   2 root root  4096  5\u6708 22 03:58 boot\/\ndrwxr-xr-x.   4 root root  4096  5\u6708 22 04:14 dev\/\ndrwxr-xr-x. 126 root root 12288  5\u6708 22 04:28 etc\/\ndrwxr-xr-x.   2 root root  4096  8\u6708 16  2014 home\/\ndr-xr-xr-x. 181 root root 86016  5\u6708 22 04:14 lib\/\ndrwx------.   2 root root 16384  5\u6708 22 03:58 lost+found\/\ndrwxr-xr-x.   2 root root  4096  8\u6708 16  2014 media\/\ndrwxr-xr-x.   2 root root  4096  8\u6708 16  2014 mnt\/\ndrwxr-xr-x.   2 root root  4096  8\u6708 16  2014 opt\/\ndrwxrwxr-x.   2 root root  4096  5\u6708 22 03:58 proc\/\ndr-xr-x---.   2 root root  4096  5\u6708 22 04:28 root\/\ndrwxr-xr-x.  32 root root  4096  5\u6708 22 04:12 run\/\ndr-xr-xr-x.   2 root root 20480  5\u6708 22 04:12 sbin\/\ndrwxr-xr-x.   2 root root  4096  8\u6708 16  2014 srv\/\ndrwxrwxr-x.   2 root root  4096  5\u6708 22 03:58 sys\/\ndrwxrwxrwt.   7 root root  4096  5\u6708 22 04:28 tmp\/\ndrwxr-xr-x.   8 root root  4096  7\u6708 19 09:53 usr\/\ndrwxr-xr-x.  21 root root  4096  5\u6708 22 04:12 var\/<\/pre>\n<p>&#160;<\/p>\n<p>\u624b\u9806 5<\/p>\n<p>fstab \u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u307e\u3059\u3002<\/p>\n<p>\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3001UUID \u3067\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u5168\u90e8\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3002<\/p>\n<blockquote>\n<p># cat \/mnt\/fedora22\/etc\/fstab<br \/>\n    <br \/>UUID=81bc2e15-c125-40c0-94fd-33550a50db1b&#160; \/ ext4&#160;&#160;&#160; defaults,noatime 0 0<\/p>\n<p>UUID=5dd5c069-20ed-421c-a521-d7fc71746def&#160; \/boot ext3&#160;&#160;&#160; defaults,noatime 0 0<\/p>\n<p>UUID=2d570411-d640-491b-9b38-4ba9d8ed6ada&#160; swap swap&#160;&#160;&#160; defaults,noatime 0 0<\/p>\n<\/blockquote>\n<p>vi \u3067\u3082\u3044\u3044\u3067\u3059\u3002<\/p>\n<pre class=\"brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;\">sed -i 's\/^UUID\/#UUID\/g' \/mnt\/fedora22\/etc\/fstab<\/pre>\n<p>\u78ba\u8a8d\u3002<\/p>\n<pre class=\"brush: cpp; gutter: false; toolbar: false; collapse: true; auto-links: false; smart-tabs: false;\"># cat \/mnt\/fedora22\/etc\/fstab\n#UUID=81bc2e15-c125-40c0-94fd-33550a50db1b  \/ ext4    defaults,noatime 0 0\n#UUID=5dd5c069-20ed-421c-a521-d7fc71746def  \/boot ext3    defaults,noatime 0 0\n#UUID=2d570411-d640-491b-9b38-4ba9d8ed6ada  swap swap    defaults,noatime 0 0<\/pre>\n<p>&#160;<\/p>\n<p><strong>\u624b\u9806 6<\/strong><\/p>\n<p>mksquashfs \u3092\u4f7f\u3063\u3066 lzo \u5727\u7e2e\u3057\u305f BerryBoot \u7528\u306e img \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002<\/p>\n<p># cd \/tmp<\/p>\n<p># mksquashfs \/mnt\/fedora22\/ _berryboot.img -comp lzo -e lib\/modules<\/p>\n<p># mv _berryboot.img Fedora22-Workstation-berryboot.img<\/p>\n<p>\u3053\u306e\u30a4\u30e1\u30fc\u30b8\u3092FAT16 \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306eUSB\u30e1\u30e2\u30ea\u306b\u5165\u308c\u3066\u3001BerryBoot \u3092\u8d77\u52d5\u3002\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u3066\u3001Add OS \u3092\u9577\u62bc\u3057\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30b5\u30d6\u30e1\u30cb\u30e5\u30fc\u304b\u3089USB \u3092\u9078\u629e\u3067\u304d\u307e\u3059\u3002<\/p>\n<p>&#160;<\/p>\n<p>\u624b\u9806 7<\/p>\n<p>\u30de\u30a6\u30f3\u30c8\u89e3\u9664\u3057\u3001kpartx\u3067\u4f5c\u3063\u305f\u30c7\u30d0\u30a4\u30b9\u3092\u524a\u9664\u3057\u3001\u57fa\u306e\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u3082\u524a\u9664\u3002<\/p>\n<blockquote>\n<p># umount \/mnt\/fedora22<br \/>\n    <br \/># kpartx -d Fedora-Workstation-armhfp-22-3-sda.img <\/p>\n<p>loop deleted : \/dev\/loop0<\/p>\n<p>&#160;<\/p>\n<p># rm Fedora-Workstation-armhfp-22-3-sda.*<\/p>\n<\/blockquote>\n<p>\u304a\u3064\u304b\u308c\u3055\u307e\u3067\u3059\u3002<\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u304b\u306a\u308a\u3001\u30cf\u30de\u30c3\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u30dd\u30a4\u30f3\u30c8\u3092\u5f8c\u307b\u3069\u3001\u30e1\u30e2\u3057\u3066\u304a\u304f\u3053\u3068\u306b\u3057\u307e\u3059\u3002 \u4f55\u306b\u306f\u307e\u3063\u305f\u304b\u3063\u3066\u3044\u3046\u3068\u3001Fedora21 \uff5e 22 \u306e\u5404\u7a2eARM \u7528\u306e\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u3092 BerryBoot \u306e img \u306b\u3059\u308b\u624b\u9806\u304c\u3046\u307e\u304f\u3044\u304b [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_uag_custom_page_level_css":""},"categories":[69],"tags":[],"acf":[],"uagb_featured_image_src":{"full":false,"thumbnail":false,"medium":false,"medium_large":false,"large":false,"1536x1536":false,"2048x2048":false,"post-thumbnail":false},"uagb_author_info":{"display_name":"JunkHack","author_link":"https:\/\/hack.gpl.jp\/author\/junkhack\/"},"uagb_comment_info":0,"uagb_excerpt":"\u304b\u306a\u308a\u3001\u30cf\u30de\u30c3\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u30dd\u30a4\u30f3\u30c8\u3092\u5f8c\u307b\u3069\u3001\u30e1\u30e2\u3057\u3066\u304a\u304f\u3053\u3068\u306b\u3057\u307e\u3059\u3002 \u4f55\u306b\u306f\u307e\u3063\u305f\u304b\u3063\u3066\u3044\u3046\u3068\u3001Fedor&hellip;","_links":{"self":[{"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/posts\/864"}],"collection":[{"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/comments?post=864"}],"version-history":[{"count":0,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/posts\/864\/revisions"}],"wp:attachment":[{"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/media?parent=864"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/categories?post=864"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/hack.gpl.jp\/wp-json\/wp\/v2\/tags?post=864"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}